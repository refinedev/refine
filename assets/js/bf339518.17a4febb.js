"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[17596],{58860:(e,n,t)=>{t.d(n,{xA:()=>d,yg:()=>m});var a=t(37953);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var p=a.createContext({}),l=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=l(e.components);return a.createElement(p.Provider,{value:n},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},g=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=l(t),g=i,m=u["".concat(p,".").concat(g)]||u[g]||c[g]||r;return t?a.createElement(m,o(o({ref:n},d),{},{components:t})):a.createElement(m,o({ref:n},d))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,o=new Array(r);o[0]=g;var s={};for(var p in n)hasOwnProperty.call(n,p)&&(s[p]=n[p]);s.originalType=e,s[u]="string"==typeof e?e:i,o[1]=s;for(var l=2;l<r;l++)o[l]=t[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}g.displayName="MDXCreateElement"},37472:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>p,default:()=>y,frontMatter:()=>s,metadata:()=>l,toc:()=>u});t(37953);var a=t(58860);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function o(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}const s={title:"Adding CRUD Actions and Authentication",description:"We'll initialize our Pixels app using Refine and get familiar with the boilerplate code to be created with the create refine-app CLI tool.",slug:"refine-pixels-3",authors:"abdullah_numan",tags:["refine-week","refine","supabase"],image:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-02-09-refine-pixels-3/social.png",hide_table_of_contents:!1},p=void 0,l={permalink:"/blog/refine-pixels-3",source:"@site/blog/2023-02-16-refine-pixels-3.md",title:"Adding CRUD Actions and Authentication",description:"We'll initialize our Pixels app using Refine and get familiar with the boilerplate code to be created with the create refine-app CLI tool.",date:"2023-02-16T00:00:00.000Z",formattedDate:"February 16, 2023",tags:[{label:"refine-week",permalink:"/blog/tags/refine-week"},{label:"refine",permalink:"/blog/tags/refine"},{label:"supabase",permalink:"/blog/tags/supabase"}],readingTime:29.96,hasTruncateMarker:!1,authors:[{name:"Abdullah Numan",title:"Fullstack Developer",url:"https://github.com/anewman15/",imageURL:"https://github.com/anewman15.png",key:"abdullah_numan"}],frontMatter:{title:"Adding CRUD Actions and Authentication",description:"We'll initialize our Pixels app using Refine and get familiar with the boilerplate code to be created with the create refine-app CLI tool.",slug:"refine-pixels-3",authors:"abdullah_numan",tags:["refine-week","refine","supabase"],image:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-02-09-refine-pixels-3/social.png",hide_table_of_contents:!1},prevItem:{title:"Adding Realtime Collaboration",permalink:"/blog/refine-pixels-4"},nextItem:{title:"Setting Up the Client App",permalink:"/blog/refine-pixels-2"},relatedPosts:[{title:"Building a React Admin Dashboard with Tremor Library",description:"We'll build a simple React admin dashboard using Refine and Tremor.",permalink:"/blog/building-react-admin-dashboard-with-tremor",formattedDate:"July 2, 2023",authors:[{name:"Joseph Mawa",title:"Web Developer",url:"https://github.com/nibble0101",imageURL:"/img/generic-profile.png",key:"joseph_mawa"}],readingTime:23.475,date:"2023-07-02T00:00:00.000Z"},{title:"Building a Complete React CRM App with Refine, Ant Design and GraphQL",description:"We'll explore the key features of our CRM app, the technologies we used.",permalink:"/blog/react-crm-with-refine",formattedDate:"October 2, 2023",authors:[{name:"Necati \xd6zmen",title:"Head of Growth at Refine",url:"https://github.com/necatiozmen",description:"Feeling Irie",github:"https://github.com/necatiozmen",twitter:"https://twitter.com/necatiozmen3",linkedin:"https://www.linkedin.com/in/necatiozmen/",imageURL:"https://github.com/necatiozmen.png",key:"necati"}],readingTime:4.625,date:"2023-10-02T00:00:00.000Z"},{title:"Dynamic Forms with React Hook Form",description:"How to build dynamic forms with React hook form in React CRUD apps.",permalink:"/blog/dynamic-forms-in-react-hook-form",formattedDate:"December 23, 2022",authors:[{name:"David Omotayo",title:"Frontend developer",url:"https://github.com/david4473",imageURL:"https://github.com/david4473.png",key:"david_omotayo"}],readingTime:21.955,date:"2022-12-23T00:00:00.000Z"}],authorPosts:[{title:"Pilot & Refine architecture",description:"We'll be taking a look at the architecture of Refine and how week of RefineWeek series will be structured.",permalink:"/blog/refine-react-invoice-generator-1",formattedDate:"April 10, 2023",authors:[{name:"Abdullah Numan",title:"Fullstack Developer",url:"https://github.com/anewman15/",imageURL:"https://github.com/anewman15.png",key:"abdullah_numan"}],readingTime:9.195,date:"2023-04-10T00:00:00.000Z"},{title:"How to Use JavaScript Array some",description:"JavaScript some method implementation on Array with examples",permalink:"/blog/javascript-some-method",formattedDate:"November 4, 2024",authors:[{name:"Abdullah Numan",title:"Fullstack Developer",url:"https://github.com/anewman15/",imageURL:"https://github.com/anewman15.png",key:"abdullah_numan"}],readingTime:14.44,date:"2024-11-04T00:00:00.000Z"},{title:"How to Use JavaScript Slice Method",description:"JavaScript Slice method implementation on Array and Strings with examples",permalink:"/blog/javascript-slice",formattedDate:"November 4, 2024",authors:[{name:"Abdullah Numan",title:"Fullstack Developer",url:"https://github.com/anewman15/",imageURL:"https://github.com/anewman15.png",key:"abdullah_numan"}],readingTime:14.16,date:"2024-11-04T00:00:00.000Z"}]},d={authorsImageUrls:[void 0]},u=[{value:"RefineWeek series",id:"refineweek-series",level:3},{value:"Overview",id:"overview",level:2},{value:"Setting Up Supabase for Refine",id:"setting-up-supabase-for-refine",level:2},{value:"1. Creating a PostgreSQL Server with Supabase",id:"1-creating-a-postgresql-server-with-supabase",level:3},{value:"2. Adding Tables to a Supabase Database",id:"2-adding-tables-to-a-supabase-database",level:3},{value:"3. Set Up <code>supabaseClient</code> for <code>&lt;Refine /&gt;</code> Providers",id:"3-set-up-supabaseclient-for-refine--providers",level:3},{value:"<code>&lt;Refine /&gt;</code>&#39;s <code>resources</code> Prop",id:"refine-s-resources-prop",level:2},{value:"Adding <code>resources</code> to <code>&lt;Refine /&gt;</code>",id:"adding-resources-to-refine-",level:3},{value:"Adding required files",id:"adding-required-files",level:3},{value:"<code>&lt;Refine /&gt;</code> <code>list</code> Action",id:"refine--list-action",level:3},{value:"Public Routes in Refine",id:"public-routes-in-refine",level:3},{value:"<code>&lt;Refine /&gt;</code> <code>create</code> Action",id:"refine--create-action",level:3},{value:"<code>&lt;Refine /&gt;</code> <code>show</code> Action",id:"refine--show-action",level:2},{value:"Supabase Authentication with Refine",id:"supabase-authentication-with-refine",level:2},{value:"Email Authentication with Supabase in Refine",id:"email-authentication-with-supabase-in-refine",level:3},{value:"GitHub Authentication with Supabase in Refine",id:"github-authentication-with-supabase-in-refine",level:3},{value:"Implementing a Public Home Page with Refine",id:"implementing-a-public-home-page-with-refine",level:2},{value:"Summary",id:"summary",level:2}],c=(g="List",function(e){return console.warn("Component "+g+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.yg)("div",e)});var g;const m={toc:u},h="wrapper";function y(e){var{components:n}=e,t=o(e,["components"]);return(0,a.yg)(h,r(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){i(e,n,t[n])}))}return e}({},m,t),{components:n,mdxType:"MDXLayout"}),(0,a.yg)("p",null,"In this post, we build on our existing understanding of ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/data/data-provider"},(0,a.yg)("inlineCode",{parentName:"a"},"dataProvider"))," and ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/authentication/auth-provider"},(0,a.yg)("inlineCode",{parentName:"a"},"authProvider"))," props of ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/components/refine-config/"},(0,a.yg)("inlineCode",{parentName:"a"},"<Refine />"))," to implement CRUD operations in our ",(0,a.yg)("strong",{parentName:"p"},"Pixels")," app that we initialized in the previous post. While doing so, we discuss the roles of ",(0,a.yg)("inlineCode",{parentName:"p"},"<Refine />")," component's ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/guides-concepts/general-concepts/#resource-concept"},(0,a.yg)("inlineCode",{parentName:"a"},"resources"))," and ",(0,a.yg)("inlineCode",{parentName:"p"},"routerProvider")," props as well."),(0,a.yg)("p",null,"CRUD actions are supported by the ",(0,a.yg)("a",{parentName:"p",href:"https://supabase.com/"},(0,a.yg)("strong",{parentName:"a"},"Supabase"))," data provider we chose for our project and in this post we use them to build a public gallery of canvases. We implement creation and displaying of individual canvases as well as drawing on them. We also add authentication features supported by the ",(0,a.yg)("inlineCode",{parentName:"p"},"supabaseClient")," we discussed on Day Two of the ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/week-of-refine-supabase/"},(0,a.yg)("strong",{parentName:"a"},"RefineWeek"))," series."),(0,a.yg)("p",null,"This is Day Three and ",(0,a.yg)("strong",{parentName:"p"},"RefineWeek")," is a seven-part tutorial that aims to help developers learn the ins-and-outs of ",(0,a.yg)("strong",{parentName:"p"},"Refine"),"'s powerful capabilities and get going with ",(0,a.yg)("strong",{parentName:"p"},"Refine")," within a week."),(0,a.yg)("h3",{id:"refineweek-series"},"RefineWeek series"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Day 1 - ",(0,a.yg)("a",{parentName:"li",href:"https://refine.dev/blog/refine-pixels-1/"},"Pilot & Refine architecture")),(0,a.yg)("li",{parentName:"ul"},"Day 2 - ",(0,a.yg)("a",{parentName:"li",href:"https://refine.dev/blog/refine-pixels-2/"},"Setting Up the Client App")),(0,a.yg)("li",{parentName:"ul"},"Day 3 - ",(0,a.yg)("a",{parentName:"li",href:"https://refine.dev/blog/refine-pixels-3/"},"Adding CRUD Actions and Authentication")),(0,a.yg)("li",{parentName:"ul"},"Day 4 - ",(0,a.yg)("a",{parentName:"li",href:"https://refine.dev/blog/refine-pixels-4/"},"Adding Realtime Collaboration")),(0,a.yg)("li",{parentName:"ul"},"Day 5 - ",(0,a.yg)("a",{parentName:"li",href:"https://refine.dev/blog/refine-pixels-5/"},"Creating an Admin Dashboard with Refine")),(0,a.yg)("li",{parentName:"ul"},"Day 6 - ",(0,a.yg)("a",{parentName:"li",href:"https://refine.dev/blog/refine-pixels-6/"},"Implementing Role Based Access Control")),(0,a.yg)("li",{parentName:"ul"},"Day 7 - ",(0,a.yg)("a",{parentName:"li",href:"https://refine.dev/blog/refine-pixels-7/"},"Audit Log With Refine"))),(0,a.yg)("h2",{id:"overview"},"Overview"),(0,a.yg)("p",null,"In the last episode, we explored ",(0,a.yg)("strong",{parentName:"p"},"Refine"),"'s auth and data providers in significant detail. We saw that ",(0,a.yg)("inlineCode",{parentName:"p"},"<Refine />"),"'s ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProvider")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"authProvider")," props were set to support ",(0,a.yg)("a",{parentName:"p",href:"https://supabase.com/"},(0,a.yg)("strong",{parentName:"a"},"Supabase"))," thanks to the ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/refinedev/refine/tree/main/packages/supabase"},(0,a.yg)("inlineCode",{parentName:"a"},"@refinedev/supabase"))," package."),(0,a.yg)("p",null,"We mentioned that ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProvider")," methods allow us to communicate with API endpoints and ",(0,a.yg)("inlineCode",{parentName:"p"},"authProvider")," methods help us with authentication and authorization. We are able to access and invoke these methods from consumer components via their corresponding hooks."),(0,a.yg)("p",null,"In this post, we will be leveraging ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProvider")," methods to implement CRUD operations for a ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," resource. We are going to start by adding ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," as a resource on which we will be able to perform ",(0,a.yg)("inlineCode",{parentName:"p"},"create"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"show")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"list")," actions. We will first work on a public gallery that lists all canvases and a dashboard page that shows a selection of featured canvases by implementing the ",(0,a.yg)("inlineCode",{parentName:"p"},"list")," action. We will allow users to perform the canvas ",(0,a.yg)("inlineCode",{parentName:"p"},"create")," action from a modal. Then we will also implement the ",(0,a.yg)("inlineCode",{parentName:"p"},"show")," action for a canvas."),(0,a.yg)("p",null,"We will then apply ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," auth provider to allow only logged in users to carry out ",(0,a.yg)("inlineCode",{parentName:"p"},"create")," actions on ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"pixels"),". On the way, we will explore how ",(0,a.yg)("strong",{parentName:"p"},"Refine")," does the heavylifting under the hood for us with ",(0,a.yg)("a",{parentName:"p",href:"https://react-query-v3.tanstack.com/"},(0,a.yg)("strong",{parentName:"a"},"React Query")),", and its own set of providers and hooks - making CRUD operations implementation a breeze."),(0,a.yg)("p",null,"But before we start, we have to set up ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," with our database tables and get the access credentials."),(0,a.yg)("h2",{id:"setting-up-supabase-for-refine"},"Setting Up Supabase for Refine"),(0,a.yg)("p",null,"For this app, we are using a PostgreSQL database for our backend. Our database will be hosted in the ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," cloud. In order to set up a PostgreSQL server, we need to sign up with ",(0,a.yg)("a",{parentName:"p",href:"https://app.supabase.com/"},(0,a.yg)("strong",{parentName:"a"},"Supabase"))," first."),(0,a.yg)("p",null,"After signing up and logging in to a developer account, we have to complete the following steps:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"Create a PostgreSQL server with an appropriate name."),(0,a.yg)("li",{parentName:"ol"},"Create necessary tables in the database and add relationships."),(0,a.yg)("li",{parentName:"ol"},"Get API keys provided by ",(0,a.yg)("strong",{parentName:"li"},"Supabase")," for the server and set up ",(0,a.yg)("inlineCode",{parentName:"li"},"supabaseClient")," inside our ",(0,a.yg)("strong",{parentName:"li"},"Refine")," project.")),(0,a.yg)("p",null,"Below, we go over these steps one by one."),(0,a.yg)("h3",{id:"1-creating-a-postgresql-server-with-supabase"},"1. Creating a PostgreSQL Server with Supabase"),(0,a.yg)("p",null,"Creating a database server is quite intuitive in ",(0,a.yg)("strong",{parentName:"p"},"Supabase"),". Just go over to your organization's dashboard and start doing something. For me, I have initialized a server with the name ",(0,a.yg)("inlineCode",{parentName:"p"},"refine-pixels")," under a free tier. If you need a quick hand, please follow ",(0,a.yg)("a",{parentName:"p",href:"https://supabase.com/docs/guides/with-react#create-a-project"},"this quickstart guide"),"."),(0,a.yg)("h3",{id:"2-adding-tables-to-a-supabase-database"},"2. Adding Tables to a Supabase Database"),(0,a.yg)("p",null,"For our app, we have four tables: ",(0,a.yg)("inlineCode",{parentName:"p"},"auth.users"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"public.users"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"pixels"),". The entity relational diagram for our database looks like this:"),(0,a.yg)("div",{className:"centered-image"},(0,a.yg)("img",{style:{alignSelf:"center"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-02-09-refine-pixels-3/supabase_Table.png",alt:"react crud app"})),(0,a.yg)("br",null),(0,a.yg)("br",null),(0,a.yg)("p",null,"We have a fifth, ",(0,a.yg)("inlineCode",{parentName:"p"},"logs")," table which we are going to use for audit logging with the ",(0,a.yg)("inlineCode",{parentName:"p"},"auditLogProvider")," on Day Seven. However, as we are progressing step by step, we are not concerned with that at the moment. We will be adding the ",(0,a.yg)("inlineCode",{parentName:"p"},"logs")," table on its day."),(0,a.yg)("p",null,"In order to add the above tables to your ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," database, please follow the below instructions:"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"2.1 ",(0,a.yg)("inlineCode",{parentName:"strong"},"auth.users")," Table")),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"auth.users")," table is concerned with authentication in our app. It is created by ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," as part of its authentication module, so we don't need to do anything about it."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Supabase")," supports a myriad of third party authentication providers as well as user input based email / password authentication. In our app, we'll implement GitHub authentication besides the email / password based option."),(0,a.yg)("br",null),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"2.2 ",(0,a.yg)("inlineCode",{parentName:"strong"},"public.users")," Table")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Supabase")," doesn't allow a client to query the ",(0,a.yg)("inlineCode",{parentName:"p"},"auth.users")," table for security reasons. So, we need to create a shadow of the ",(0,a.yg)("inlineCode",{parentName:"p"},"auth.users")," table in ",(0,a.yg)("inlineCode",{parentName:"p"},"public.users")," with additional columns. We need this shadow table to be able to query ",(0,a.yg)("inlineCode",{parentName:"p"},"user")," information, such as ",(0,a.yg)("inlineCode",{parentName:"p"},"avatar_url")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"roles")," from this table."),(0,a.yg)("div",{className:"centered-image"},(0,a.yg)("img",{style:{alignSelf:"center",width:"300px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-02-09-refine-pixels-3/sql_editor.png",alt:"react crud app"})),(0,a.yg)("br",null),(0,a.yg)("br",null),(0,a.yg)("p",null,"So, in order to create the ",(0,a.yg)("inlineCode",{parentName:"p"},"public.users")," table, go ahead and run this SQL script in the SQL Editor of your ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," project dashboard:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-sql"},"-- Create a table for public users\ncreate table users (\n  id uuid references auth.users not null primary key,\n  updated_at timestamp with time zone,\n  username text unique,\n  full_name text,\n  avatar_url text\n);\n\n-- This trigger automatically creates a public.users entry when a new user signs up via Supabase Auth.\n-- See https://supabase.com/docs/guides/auth/managing-user-data#using-triggers for more details.\ncreate or replace function public.handle_new_public_user()\nreturns trigger as $$\nbegin\n  insert into public.users (id, full_name, avatar_url)\n  values (new.id, new.raw_user_meta_data->>'full_name', new.raw_user_meta_data->>'avatar_url');\n  return new;\nend;\n$$ language plpgsql security definer;\ncreate trigger on_auth_user_created\n  after insert on auth.users\n  for each row execute procedure public.handle_new_public_user();\n\n-- Set up Storage!\ninsert into storage.buckets (id, name)\n  values ('avatars', 'avatars');\n\n-- Set up access controls for storage.\n-- See https://supabase.com/docs/guides/storage#policy-examples for more details.\ncreate policy \"Avatar images are publicly accessible.\" on storage.objects\n  for select using (bucket_id = 'avatars');\n\ncreate policy \"Anyone can upload an avatar.\" on storage.objects\n  for insert with check (bucket_id = 'avatars');\n")),(0,a.yg)("br",null),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"2.3 ",(0,a.yg)("inlineCode",{parentName:"strong"},"canvases")," Table")),(0,a.yg)("p",null,"For the ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," table, run this SQL script inside the ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," SQL Editor:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-sql"},"create table canvases (\n  id text unique primary key not null,\n  user_id uuid references users on delete cascade not null,\n  name text not null,\n  width int8 not null,\n  height int8 not null,\n  is_featured boolean default false not null,\n\n  created_at timestamp with time zone default timezone('utc'::text, now()) not null,\n  updated_at timestamp with time zone default timezone('utc'::text, now()) not null\n);\n")),(0,a.yg)("br",null),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"2.4 ",(0,a.yg)("inlineCode",{parentName:"strong"},"pixels")," Table")),(0,a.yg)("p",null,"For the ",(0,a.yg)("inlineCode",{parentName:"p"},"pixels")," table run the following SQL script:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-sql"},"create table pixels (\n  id int8 generated by default as identity primary key not null,\n  user_id uuid references users on delete cascade not null,\n  canvas_id text references canvases on delete cascade not null,\n  x int8 not null,\n  y int8 not null,\n  color text not null,\n\n  created_at timestamp with time zone default timezone('utc'::text, now()) not null\n);\n")),(0,a.yg)("p",null,"If you want to create the tables using Table Editor from the dashboard, feel free to use ",(0,a.yg)("a",{parentName:"p",href:"https://supabase.com/docs/guides/database/tables#creating-tables"},"the Supabase docs"),"."),(0,a.yg)("br",null),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"2.5 Relationship Between Tables")),(0,a.yg)("p",null,"If we look closely, ",(0,a.yg)("inlineCode",{parentName:"p"},"public.users")," table has a ",(0,a.yg)("strong",{parentName:"p"},"one-to-many")," relationship with ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," and a ",(0,a.yg)("inlineCode",{parentName:"p"},"canvas")," must belong to a ",(0,a.yg)("inlineCode",{parentName:"p"},"user"),"."),(0,a.yg)("p",null,"Similarly ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," also has a one-to-many relationship with ",(0,a.yg)("inlineCode",{parentName:"p"},"pixels"),". A ",(0,a.yg)("inlineCode",{parentName:"p"},"canvas")," has many ",(0,a.yg)("inlineCode",{parentName:"p"},"pixels")," and a ",(0,a.yg)("inlineCode",{parentName:"p"},"pixel")," must belong to a ",(0,a.yg)("inlineCode",{parentName:"p"},"canvas"),"."),(0,a.yg)("p",null,"Also, ",(0,a.yg)("inlineCode",{parentName:"p"},"public.users")," has a one-to-many relationship with ",(0,a.yg)("inlineCode",{parentName:"p"},"pixels"),"."),(0,a.yg)("br",null),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"2.5 Disable RLS")),(0,a.yg)("p",null,"For simplicity, we'll disable Row Level Security:"),(0,a.yg)("div",{className:"centered-image"},(0,a.yg)("img",{style:{alignSelf:"center",width:"600px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-02-09-refine-pixels-3/disable_rls.png",alt:"react crud app supabase"})),(0,a.yg)("br",null),(0,a.yg)("h3",{id:"3-set-up-supabaseclient-for-refine--providers"},"3. Set Up ",(0,a.yg)("inlineCode",{parentName:"h3"},"supabaseClient")," for ",(0,a.yg)("inlineCode",{parentName:"h3"},"<Refine />")," Providers"),(0,a.yg)("p",null,"Now it's time to use the ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," hosted database server inside our ",(0,a.yg)("strong",{parentName:"p"},"Refine")," app."),(0,a.yg)("p",null,"First, we need to get the access credentials for our server from the ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," dashboard. We can avail them by following ",(0,a.yg)("a",{parentName:"p",href:"https://supabase.com/docs/guides/with-react#get-the-api-keys"},"this section")," in the ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," quickstart guide."),(0,a.yg)("p",null,"I recommend storing these credentials in a ",(0,a.yg)("a",{parentName:"p",href:"https://vitejs.dev/guide/env-and-mode.html"},(0,a.yg)("inlineCode",{parentName:"a"},".env")," file"),":"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash",metastring:'title=".env"',title:'".env"'},"VITE_SUPABASE_URL=YOUR_SUPABASE_URL\nVITE_SUPABASE_KEY=YOUR_SUPABASE_KEY\n")),(0,a.yg)("p",null,"Doing so will let us use these credentials to update the ",(0,a.yg)("inlineCode",{parentName:"p"},"supabaseClient.ts")," file created by ",(0,a.yg)("inlineCode",{parentName:"p"},"refine ")," at initialization:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="supabaseClient.ts"',title:'"supabaseClient.ts"'},'import { createClient } from "@refinedev/supabase";\n\nconst SUPABASE_URL = import.meta.env.VITE_SUPABASE_URL ?? "";\nconst SUPABASE_KEY = import.meta.env.VITE_SUPABASE_KEY ?? "";\n\nexport const supabaseClient = createClient(SUPABASE_URL, SUPABASE_KEY);\n')),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"<Refine />")," component's ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProvider"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"authProvider")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"liveProvider")," objects utilize this ",(0,a.yg)("inlineCode",{parentName:"p"},"supabaseClient")," to connect to the PostgreSQL server hosted on ",(0,a.yg)("strong",{parentName:"p"},"Supabase"),"."),(0,a.yg)("p",null,"With this set up, now we can introduce ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," resource and start implementing CRUD operations for our app so that we can perform queries on the ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," table."),(0,a.yg)("h2",{id:"refine-s-resources-prop"},(0,a.yg)("inlineCode",{parentName:"h2"},"<Refine />"),"'s ",(0,a.yg)("inlineCode",{parentName:"h2"},"resources")," Prop"),(0,a.yg)("p",null,"If we look at our initial ",(0,a.yg)("inlineCode",{parentName:"p"},"App.tsx")," component, it looks like this:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="App.tsx"',title:'"App.tsx"'},'import { GitHubBanner, Refine, WelcomePage } from "@refinedev/core";\nimport { RefineKbar, RefineKbarProvider } from "@refinedev/kbar";\n\nimport { useNotificationProvider } from "@refinedev/antd";\nimport "@refinedev/antd/dist/reset.css";\n\nimport routerProvider, {\n  DocumentTitleHandler,\n  UnsavedChangesNotifier,\n} from "@refinedev/react-router";\nimport { dataProvider, liveProvider } from "@refinedev/supabase";\nimport { BrowserRouter, Route, Routes } from "react-router-dom";\nimport authProvider from "./authProvider";\nimport { supabaseClient } from "./utility";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <GitHubBanner />\n      <RefineKbarProvider>\n        <Refine\n          dataProvider={dataProvider(supabaseClient)}\n          liveProvider={liveProvider(supabaseClient)}\n          authProvider={authProvider}\n          routerProvider={routerProvider}\n          notificationProvider={useNotificationProvider}\n          options={{\n            syncWithLocation: true,\n            warnWhenUnsavedChanges: true,\n          }}\n        >\n          <Routes>\n            <Route index element={<WelcomePage />} />\n          </Routes>\n          <RefineKbar />\n          <UnsavedChangesNotifier />\n          <DocumentTitleHandler />\n        </Refine>\n      </RefineKbarProvider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n')),(0,a.yg)("p",null,"Focusing on the top, in order to add a resource to our app, we have to introduce the ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/guides-concepts/general-concepts/#resource-concept"},(0,a.yg)("inlineCode",{parentName:"a"},"resources"))," prop to ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/components/refine-config/"},(0,a.yg)("inlineCode",{parentName:"a"},"<Refine />")),". The value of ",(0,a.yg)("inlineCode",{parentName:"p"},"resources")," prop should be an ",(0,a.yg)("strong",{parentName:"p"},"array")," of resource items with RESTful routes in our app. A typical resource object contains properties and values related to the resource ",(0,a.yg)("inlineCode",{parentName:"p"},"name"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"options"),", and intended actions:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json",metastring:'title="Typical resource object inside resources array"',title:'"Typical',resource:!0,object:!0,inside:!0,resources:!0,'array"':!0},'{\n  "name": "canvases",\n  "list": "/canvases",\n  "show": "/canvases/show/:id"\n}\n')),(0,a.yg)("p",null,"We can have as many resource items inside our ",(0,a.yg)("inlineCode",{parentName:"p"},"resources")," array as the number of entities we have in our app."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Refine")," simplifies CRUD actions and acts as a bridge between the Data/API layer and the Document/Page Layer. A resource enables the application's pages to interact with the API. It's worth spending a few minutes exploring the possible properties of a resource item from the ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/components/refine-config/#resources"},(0,a.yg)("inlineCode",{parentName:"a"},"resources"))," docs here."),(0,a.yg)("p",null,"For the above ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," resource, the ",(0,a.yg)("inlineCode",{parentName:"p"},"name")," property denotes the name of the resource. Behind the scenes, ",(0,a.yg)("strong",{parentName:"p"},"Refine")," auto-magically adds RESTful routes for the actions defined on a resource ",(0,a.yg)("inlineCode",{parentName:"p"},"name")," to the ",(0,a.yg)("inlineCode",{parentName:"p"},"routerProvider")," object - i.e. for us here along the ",(0,a.yg)("inlineCode",{parentName:"p"},"/canvases")," path."),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"list")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"show")," properties represent the CRUD actions we want. And their values are the components we want to render when we navigate to their respective RESTful routes, such as ",(0,a.yg)("inlineCode",{parentName:"p"},"/canvases")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"/canvases/show/a-canvas-slug"),"."),(0,a.yg)("p",null,"We will use a modal form for the ",(0,a.yg)("inlineCode",{parentName:"p"},"create")," action, so we don't need ",(0,a.yg)("inlineCode",{parentName:"p"},"/canvases/create")," route. Therefore, we won't assign ",(0,a.yg)("inlineCode",{parentName:"p"},"create")," property for ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," resource."),(0,a.yg)("h3",{id:"adding-resources-to-refine-"},"Adding ",(0,a.yg)("inlineCode",{parentName:"h3"},"resources")," to ",(0,a.yg)("inlineCode",{parentName:"h3"},"<Refine />")),(0,a.yg)("p",null,"For our app, we'll configure our ",(0,a.yg)("inlineCode",{parentName:"p"},"resources")," object with actions for ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases"),". So, let's add ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," resource with ",(0,a.yg)("inlineCode",{parentName:"p"},"list")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"show")," actions:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="App.tsx"',title:'"App.tsx"'},'<Refine\n  // ...\n  //highlight-start\n  resources={[\n    {\n      name: "canvases",\n      list: "/canvases",\n      show: "/canvases/show/:id",\n    },\n  ]}\n  //highlight-end\n/>\n')),(0,a.yg)("p",null,"We will consider these two actions with their respective components and routes in the coming sections."),(0,a.yg)("p",null,"We should have the ",(0,a.yg)("inlineCode",{parentName:"p"},"CanvasList")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"CanvasShow")," components premade. In a ",(0,a.yg)("strong",{parentName:"p"},"Refine")," app, CRUD action related components are typically placed in a directory that has a structure like this: ",(0,a.yg)("inlineCode",{parentName:"p"},"src/pages/resource_name/"),"."),(0,a.yg)("p",null,"In our case, we'll house ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," related components in the ",(0,a.yg)("inlineCode",{parentName:"p"},"src/pages/canvases/")," folder."),(0,a.yg)("p",null,"We are also using ",(0,a.yg)("inlineCode",{parentName:"p"},"index.ts")," files to export contents from our folders, so that the components are easily found by the compiler in the global namespace."),(0,a.yg)("h3",{id:"adding-required-files"},"Adding required files"),(0,a.yg)("p",null,"Here is the finalized version of what we'll be building in this article:\n",(0,a.yg)("a",{parentName:"p",href:"https://github.com/refinedev/refine/tree/main/examples/pixels"},"https://github.com/refinedev/refine/tree/main/examples/pixels")),(0,a.yg)("p",null,"Before we move on, you need to add required page and components to the project if you want build the app by following the article. Please add the following components and files into the project:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"pages: ",(0,a.yg)("a",{parentName:"li",href:"https://github.com/refinedev/refine/tree/main/examples/pixels/src/pages"},"https://github.com/refinedev/refine/tree/main/examples/pixels/src/pages")),(0,a.yg)("li",{parentName:"ul"},"components: ",(0,a.yg)("a",{parentName:"li",href:"https://github.com/refinedev/refine/tree/main/examples/pixels/src/components"},"https://github.com/refinedev/refine/tree/main/examples/pixels/src/components")),(0,a.yg)("li",{parentName:"ul"},"providers: ",(0,a.yg)("a",{parentName:"li",href:"https://github.com/refinedev/refine/tree/main/examples/pixels/src/providers"},"https://github.com/refinedev/refine/tree/main/examples/pixels/src/providers")),(0,a.yg)("li",{parentName:"ul"},"utility: ",(0,a.yg)("a",{parentName:"li",href:"https://github.com/refinedev/refine/tree/main/examples/pixels/src/utility"},"https://github.com/refinedev/refine/tree/main/examples/pixels/src/utility")),(0,a.yg)("li",{parentName:"ul"},"types: ",(0,a.yg)("a",{parentName:"li",href:"https://github.com/refinedev/refine/tree/main/examples/pixels/src/types"},"https://github.com/refinedev/refine/tree/main/examples/pixels/src/types")),(0,a.yg)("li",{parentName:"ul"},"styles: ",(0,a.yg)("a",{parentName:"li",href:"https://github.com/refinedev/refine/tree/main/examples/pixels/src/styles"},"https://github.com/refinedev/refine/tree/main/examples/pixels/src/styles")),(0,a.yg)("li",{parentName:"ul"},"assets: ",(0,a.yg)("a",{parentName:"li",href:"https://github.com/refinedev/refine/tree/main/examples/pixels/public"},"https://github.com/refinedev/refine/tree/main/examples/pixels/public"))),(0,a.yg)("p",null,"After creating files above you need to add some imports and ",(0,a.yg)("a",{parentName:"p",href:"/docs/packages/list-of-packages"},"routes")," to ",(0,a.yg)("inlineCode",{parentName:"p"},"src/App.tsx")," file. Simply add replace your App.tsx with following."),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show App.tsx code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="App.tsx"',title:'"App.tsx"'},'import { GitHubBanner, Refine, Authenticated } from "@refinedev/core";\nimport { useNotificationProvider, ErrorComponent } from "@refinedev/antd";\nimport { dataProvider, liveProvider } from "@refinedev/supabase";\nimport routerProvider, { NavigateToResource } from "@refinedev/react-router";\nimport { BrowserRouter, Routes, Route, Outlet } from "react-router-dom";\nimport { ConfigProvider } from "antd";\nimport { GithubOutlined } from "@ant-design/icons";\n\nimport { Layout } from "./components/layout";\nimport { CanvasFeaturedList, CanvasList, CanvasShow } from "./pages/canvases";\nimport { AuthPage } from "./pages/auth";\nimport { supabaseClient } from "./utility";\nimport { authProvider, auditLogProvider } from "./providers";\n\nimport "@refinedev/antd/dist/reset.css";\nimport "./styles/style.css";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <GitHubBanner />\n      <ConfigProvider\n        theme={{\n          token: {\n            colorPrimary: "#3ecf8e",\n            colorText: "#80808a",\n            colorError: "#fa541c",\n            colorBgLayout: "#f0f2f5",\n            colorLink: "#3ecf8e",\n            colorLinkActive: "#3ecf8e",\n            colorLinkHover: "#3ecf8e",\n          },\n        }}\n      >\n        <Refine\n          authProvider={authProvider}\n          dataProvider={dataProvider(supabaseClient)}\n          liveProvider={liveProvider(supabaseClient)}\n          auditLogProvider={auditLogProvider}\n          routerProvider={routerProvider}\n          resources={[\n            {\n              name: "canvases",\n              list: "/canvases",\n              show: "/canvases/show/:id",\n            },\n          ]}\n          notificationProvider={useNotificationProvider}\n        >\n          <Routes>\n            <Route\n              element={\n                <Layout>\n                  <Outlet />\n                </Layout>\n              }\n            >\n              <Route index element={<CanvasFeaturedList />} />\n\n              <Route path="/canvases">\n                <Route index element={<CanvasList />} />\n                <Route path="show/:id" element={<CanvasShow />} />\n              </Route>\n            </Route>\n            <Route\n              element={\n                <Authenticated fallback={<Outlet />}>\n                  <NavigateToResource />\n                </Authenticated>\n              }\n            >\n              <Route\n                path="/login"\n                element={\n                  <AuthPage\n                    type="login"\n                    providers={[\n                      {\n                        name: "github",\n                        icon: (\n                          <GithubOutlined\n                            style={{\n                              fontSize: "18px",\n                            }}\n                          />\n                        ),\n                        label: "Sign in with GitHub",\n                      },\n                    ]}\n                  />\n                }\n              />\n              <Route path="/register" element={<AuthPage type="register" />} />\n              <Route\n                path="/forgot-password"\n                element={<AuthPage type="forgotPassword" />}\n              />\n              <Route\n                path="/update-password"\n                element={<AuthPage type="updatePassword" />}\n              />\n            </Route>\n\n            <Route\n              element={\n                <Layout>\n                  <Outlet />\n                </Layout>\n              }\n            >\n              <Route path="*" element={<ErrorComponent />} />\n            </Route>\n          </Routes>\n        </Refine>\n      </ConfigProvider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n')))),(0,a.yg)("admonition",{type:"note"},(0,a.yg)("p",{parentName:"admonition"},"After creating files above you can remove ",(0,a.yg)("inlineCode",{parentName:"p"},"src/authProvider")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"src/components/header")," that comes with ",(0,a.yg)("inlineCode",{parentName:"p"},"create refine-app"),"."),(0,a.yg)("p",{parentName:"admonition"},"We move this files to ",(0,a.yg)("inlineCode",{parentName:"p"},"src/providers/authProvider.ts")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"src/components/layout/header")," for better folder structure.")),(0,a.yg)("h3",{id:"refine--list-action"},(0,a.yg)("inlineCode",{parentName:"h3"},"<Refine />")," ",(0,a.yg)("inlineCode",{parentName:"h3"},"list")," Action"),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"list")," action represents a ",(0,a.yg)("inlineCode",{parentName:"p"},"GET")," request sent to the ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," table in our ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," db. It is done through the ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProvider.getList")," method that ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/refinedev/refine/blob/main/packages/supabase/src/index.ts"},(0,a.yg)("inlineCode",{parentName:"a"},"@refinedev/supabase"))," gave us. From the consumer ",(0,a.yg)("inlineCode",{parentName:"p"},"<CanvasList />")," component, it can be accessed via the ",(0,a.yg)("inlineCode",{parentName:"p"},"useList()")," hook."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Refine")," defines the routes for ",(0,a.yg)("inlineCode",{parentName:"p"},"list")," action to be the ",(0,a.yg)("inlineCode",{parentName:"p"},"/canvases")," path, and adds it to the ",(0,a.yg)("inlineCode",{parentName:"p"},"routerProvider")," object. ",(0,a.yg)("inlineCode",{parentName:"p"},"/canvases")," path, in turn, renders the ",(0,a.yg)("inlineCode",{parentName:"p"},"<CanvasList />")," component, as specified in the ",(0,a.yg)("inlineCode",{parentName:"p"},"resources")," array."),(0,a.yg)("p",null,"The contents of our ",(0,a.yg)("inlineCode",{parentName:"p"},"<CanvasList />")," component look like this:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/canvases/list.tsx"',title:'"src/pages/canvases/list.tsx"'},'import { useSimpleList } from "@refinedev/antd";\nimport { List, Skeleton } from "antd";\n\nimport { CanvasTile } from "../../components/canvas";\nimport { SponsorsBanner } from "../../components/banners";\nimport { Canvas } from "../../types";\n\nexport const CanvasList: React.FC = () => {\n  const { listProps, query } = useSimpleList<Canvas>({\n    resource: "canvases",\n    pagination: {\n      pageSize: 12,\n    },\n    sorters: {\n      initial: [\n        {\n          field: "created_at",\n          order: "desc",\n        },\n      ],\n    },\n  });\n\n  const { isLoading } = query;\n\n  return (\n    <div className="container">\n      <div className="paper">\n        {isLoading ? (\n          <div className="canvas-skeleton-list">\n            {[...Array(12)].map((_, index) => (\n              <Skeleton key={index} paragraph={{ rows: 8 }} />\n            ))}\n          </div>\n        ) : (\n          <List\n            {...listProps}\n            className="canvas-list"\n            split={false}\n            renderItem={(canvas) => <CanvasTile canvas={canvas} />}\n          />\n        )}\n      </div>\n      <SponsorsBanner />\n    </div>\n  );\n};\n')),(0,a.yg)("p",null,"There are a few of things to note here: the first being the use of ",(0,a.yg)("strong",{parentName:"p"},"Ant Design")," with ",(0,a.yg)("strong",{parentName:"p"},"Refine"),"'s ",(0,a.yg)("inlineCode",{parentName:"p"},"@refinedev/antd")," module. The second thing is the ",(0,a.yg)("inlineCode",{parentName:"p"},"useSimpleList()")," hook that is being used to access ",(0,a.yg)("inlineCode",{parentName:"p"},"listProps")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"query")," items to feed UI elements. And third, the use of pagination and sorting in the query sent."),(0,a.yg)("p",null,"Let's briefly discuss what's going on:"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"1. ",(0,a.yg)("inlineCode",{parentName:"strong"},"refine-antd")," and ",(0,a.yg)("inlineCode",{parentName:"strong"},"antd")," Components")),(0,a.yg)("p",null,"We will use the ",(0,a.yg)("strong",{parentName:"p"},"Ant Design")," ",(0,a.yg)("a",{parentName:"p",href:"https://ant.design/components/list#list/"},(0,a.yg)("inlineCode",{parentName:"a"},"<List />"))," component to show the list of canvases."),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://ant.design/components/list#list"},(0,a.yg)("inlineCode",{parentName:"a"},"<List />"))," component takes in the props inside ",(0,a.yg)("inlineCode",{parentName:"p"},"listProps")," object that ",(0,a.yg)("inlineCode",{parentName:"p"},"useSimpleList()")," hook prepares for us from the fetched canvases array and shows each canvas data inside the ",(0,a.yg)("inlineCode",{parentName:"p"},"<CanvasTile />")," component. All the props and presentation logic are being handled inside the ",(0,a.yg)("strong",{parentName:"p"},"Ant Design")," ",(0,a.yg)("inlineCode",{parentName:"p"},"<List />")," component."),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://ant.design/components/list#list"},"Refer to Ant Design documentation for more information About ",(0,a.yg)(c,{mdxType:"List"}),". \u2192")),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/ui-integrations/ant-design/introduction"},"Refer to complete Refine CRUD app with Ant Design tutorial here. \u2192")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"2. ",(0,a.yg)("inlineCode",{parentName:"strong"},"useSimpleList()")," Hook")),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"useSimpleList()")," is a ",(0,a.yg)("inlineCode",{parentName:"p"},"@refinedev/antd")," hook built on top of the low level ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/hooks/data/useList/"},(0,a.yg)("inlineCode",{parentName:"a"},"useList()"))," hook to fetch a resource collection. After fetching data according to the value of the ",(0,a.yg)("inlineCode",{parentName:"p"},"resource")," property, it prepares it according to the ",(0,a.yg)("inlineCode",{parentName:"p"},"listProps")," of the ",(0,a.yg)("strong",{parentName:"p"},"Ant Design"),"'s ",(0,a.yg)("inlineCode",{parentName:"p"},"<List />")," component."),(0,a.yg)("p",null,"In our ",(0,a.yg)("inlineCode",{parentName:"p"},"<CanvasList />")," component, we are passing the ",(0,a.yg)("inlineCode",{parentName:"p"},"listProps")," props to ",(0,a.yg)("inlineCode",{parentName:"p"},"<List />")," in order to show a list of canvases."),(0,a.yg)("p",null,"Please feel free to go through the ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/antd/hooks/list/useSimpleList/"},(0,a.yg)("inlineCode",{parentName:"a"},"useSimpleList")," documentation here")," for as much as information as you need. It makes life a lot easier while creating a dashboard or list of items."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"3. Sorting"),"\nIf you are already looking at the ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/antd/hooks/list/useSimpleList/#properties"},(0,a.yg)("inlineCode",{parentName:"a"},"useSimpleList()")," argument object's properties"),", notice that we are able to pass options for ",(0,a.yg)("inlineCode",{parentName:"p"},"pagination")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"sorters.initial")," for the API call and get the response accordingly."),(0,a.yg)("p",null,"With this set up - and connected to the Internet - if we run the dev server with ",(0,a.yg)("inlineCode",{parentName:"p"},"npm run dev")," and navigate to ",(0,a.yg)("inlineCode",{parentName:"p"},"http://localhost:5173"),", we are faced with a ",(0,a.yg)("inlineCode",{parentName:"p"},"<CanvasFeaturedList/>")," as a home page."),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-02-18-refine-pixels-5/featured-canvases.jpg",alt:"react crud app supabase"}),(0,a.yg)("br",null),(0,a.yg)("p",null,"This is because we have configured our routes as public. Furthermore, we have set up our ",(0,a.yg)("inlineCode",{parentName:"p"},"<AuthPage/>")," component as a route accessible to unauthenticated users. This means that if a user is not authenticated, they can access the ",(0,a.yg)("inlineCode",{parentName:"p"},"<AuthPage/>")," component. However, if a user is authenticated, they will not be able to access the ",(0,a.yg)("inlineCode",{parentName:"p"},"<AuthPage/>")," component."),(0,a.yg)("p",null,"In this project, our goal is to allow unauthenticated users to view created canvases. However, they will not have the ability to create, update, or delete canvases."),(0,a.yg)("p",null,"We already did this implementation when we created required files before starting the this section. In the next section, we will explain how redirect unauthenticated users to the login page if they attempt to perform create, update, or delete actions on canvases."),(0,a.yg)("h3",{id:"public-routes-in-refine"},"Public Routes in Refine"),(0,a.yg)("p",null,"If we revisit the ",(0,a.yg)("inlineCode",{parentName:"p"},"authProvider")," object, we can see that the ",(0,a.yg)("inlineCode",{parentName:"p"},"check()")," method only allows logged in users. All other attempts are rejected. We will use this logic to compose our routes."),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show `authProvider` code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/authProvider.ts"',title:'"src/authProvider.ts"'},'check: async () => {\n    try {\n            // sign in with oauth\n            if (providerName) {\n                const { data, error } =\n                    await supabaseClient.auth.signInWithOAuth({\n                        provider: providerName,\n                    });\n\n                if (error) {\n                    return {\n                        success: false,\n                        error,\n                    };\n                }\n\n                if (data?.url) {\n                    return {\n                        success: true,\n                    };\n                }\n            }\n\n            // sign in with email and password\n            const { data, error } =\n                await supabaseClient.auth.signInWithPassword({\n                    email,\n                    password,\n                });\n\n            if (error) {\n                return {\n                    success: false,\n                    error,\n                };\n            }\n\n            if (data?.user) {\n                return {``\n                    success: true,\n                };\n            }\n        } catch (error: any) {\n            return {\n                success: false,\n                error,\n            };\n        }\n\n        return {\n            success: false,\n            error: {\n                message: "Login failed",\n                name: "Invalid email or password",\n            },\n        };\n},\n')))),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Refine")," provides ",(0,a.yg)("a",{parentName:"p",href:"/docs/authentication/components/authenticated"},(0,a.yg)("inlineCode",{parentName:"a"},"<Authenticated/>"))," component to protect routes from unauthenticated users. It uses ",(0,a.yg)("inlineCode",{parentName:"p"},"authProvider.check")," method under the hood. To use this component, we need to wrap the routes we want to protect with ",(0,a.yg)("a",{parentName:"p",href:"/docs/authentication/components/authenticated"},(0,a.yg)("inlineCode",{parentName:"a"},"<Authenticated/>"))," component."),(0,a.yg)("p",null,"Let's look at the routes implementation:"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show Routes implementation component code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/layout/header/index.tsx"',title:'"src/components/layout/header/index.tsx"'},'import { Refine, Authenticated } from "@refinedev/core";\nimport routerProvider, { NavigateToResource } from "@refinedev/react-router";\nimport { BrowserRouter, Routes, Route, Outlet } from "react-router-dom";\nimport { GithubOutlined } from "@ant-design/icons";\nimport { AuthPage } from "./pages/auth";\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <Refine\n        // ...\n        routerProvider={routerProvider}\n      >\n        <Routes>\n          <Route\n            element={\n              <Layout>\n                <Outlet />\n              </Layout>\n            }\n          >\n            <Route index element={<CanvasFeaturedList />} />\n\n            <Route path="/canvases">\n              <Route index element={<CanvasList />} />\n              <Route path="show/:id" element={<CanvasShow />} />\n            </Route>\n          </Route>\n          <Route\n            element={\n              <Authenticated fallback={<Outlet />}>\n                <NavigateToResource />\n              </Authenticated>\n            }\n          >\n            <Route\n              path="/login"\n              element={\n                <AuthPage\n                  type="login"\n                  providers={[\n                    {\n                      name: "github",\n                      icon: (\n                        <GithubOutlined\n                          style={{\n                            fontSize: "18px",\n                          }}\n                        />\n                      ),\n                      label: "Sign in with GitHub",\n                    },\n                  ]}\n                />\n              }\n            />\n            <Route path="/register" element={<AuthPage type="register" />} />\n            <Route\n              path="/forgot-password"\n              element={<AuthPage type="forgotPassword" />}\n            />\n            <Route\n              path="/update-password"\n              element={<AuthPage type="updatePassword" />}\n            />\n          </Route>\n        </Routes>\n      </Refine>\n    </BrowserRouter>\n  );\n};\n')))),(0,a.yg)("p",null,"In this example we didn't wrap our ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," resource routes with ",(0,a.yg)("a",{parentName:"p",href:"/docs/authentication/components/authenticated"},(0,a.yg)("inlineCode",{parentName:"a"},"<Authenticated/>"))," component. This means that we can access the ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," resource routes without being authenticated."),(0,a.yg)("p",null,"However, we use ",(0,a.yg)("inlineCode",{parentName:"p"},"login"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"register"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"forgot-password")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"update-password")," routes as a ",(0,a.yg)("inlineCode",{parentName:"p"},"fallback")," of ",(0,a.yg)("a",{parentName:"p",href:"/docs/authentication/components/authenticated"},(0,a.yg)("inlineCode",{parentName:"a"},"<Authenticated/>"))," component. This means that we can not access these routes if we are authenticated."),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/docs/authentication/auth-provider"},"Refer to the Auth Provider tutorial for more information. \u2192")),(0,a.yg)("h3",{id:"refine--create-action"},(0,a.yg)("inlineCode",{parentName:"h3"},"<Refine />")," ",(0,a.yg)("inlineCode",{parentName:"h3"},"create")," Action"),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"create")," action represents a ",(0,a.yg)("inlineCode",{parentName:"p"},"POST")," request sent to the ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," table in our ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," database. It is done with the ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProvider.create()")," method that ",(0,a.yg)("inlineCode",{parentName:"p"},"@refinedev/supabase")," package gave us."),(0,a.yg)("p",null,"We are presenting the canvas form inside a modal contained in a ",(0,a.yg)("inlineCode",{parentName:"p"},"<CreateCanvas />")," component, which is placed in the ",(0,a.yg)("inlineCode",{parentName:"p"},"<Header />")," component. And the modal is accessed with a ",(0,a.yg)("inlineCode",{parentName:"p"},"Create")," canvas button we have in the ",(0,a.yg)("inlineCode",{parentName:"p"},"<Header />"),"."),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"<Header />")," component looks like this:"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show Header component code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/layout/header/index.tsx"',title:'"src/components/layout/header/index.tsx"'},'import React from "react";\nimport {\n  useIsAuthenticated,\n  useLogout,\n  useMenu,\n  useNavigation,\n  useParsed,\n} from "@refinedev/core";\nimport { Link } from "react-router-dom";\nimport { useModalForm } from "@refinedev/antd";\n\nimport {\n  PlusSquareOutlined,\n  LogoutOutlined,\n  LoginOutlined,\n} from "@ant-design/icons";\nimport { Button, Image, Space } from "antd";\n\nimport { CreateCanvas } from "../../../components/canvas";\nimport { Canvas } from "../../../types";\n\nexport const Header: React.FC = () => {\n  const { data } = useIsAuthenticated();\n  const { mutate: mutateLogout } = useLogout();\n  const { push } = useNavigation();\n  const { selectedKey } = useMenu();\n  const { pathname } = useParsed();\n\n  const { modalProps, formProps, show } = useModalForm<Canvas>({\n    resource: "canvases",\n    action: "create",\n    redirect: "show",\n  });\n\n  const isAuthenticated = data?.authenticated;\n\n  const handleRedirect = () => {\n    if (!pathname) {\n      return push("/login");\n    }\n\n    if (pathname === "/") {\n      return push("/login");\n    }\n\n    push(`/login?to=${encodeURIComponent(pathname)}`);\n  };\n\n  return (\n    <div className="container">\n      <div className="layout-header">\n        <Link to="/">\n          <Image\n            width="120px"\n            src="/pixels-logo.svg"\n            alt="Pixels Logo"\n            preview={false}\n          />\n        </Link>\n        <Space size="large">\n          <Link\n            to="/"\n            className={`nav-button ${selectedKey === "/" ? "active" : ""}`}\n          >\n            <span className="dot-icon" />\n            HOME\n          </Link>\n          <Link\n            to="/canvases"\n            className={`nav-button ${\n              selectedKey === "/canvases" ? "active" : ""\n            }`}\n          >\n            <span className="dot-icon" />\n            NEW\n          </Link>\n        </Space>\n        <Space>\n          <Button\n            icon={<PlusSquareOutlined />}\n            onClick={() => {\n              if (isAuthenticated) {\n                show();\n              } else {\n                handleRedirect();\n              }\n            }}\n            title="Create a new canvas"\n          >\n            Create\n          </Button>\n          {isAuthenticated ? (\n            <Button\n              type="primary"\n              danger\n              onClick={() => {\n                mutateLogout();\n              }}\n              icon={<LogoutOutlined />}\n              title="Logout"\n            />\n          ) : (\n            <Button\n              type="primary"\n              onClick={() => {\n                handleRedirect();\n              }}\n              icon={<LoginOutlined />}\n              title="Login"\n            >\n              Login\n            </Button>\n          )}\n        </Space>\n      </div>\n      <CreateCanvas modalProps={modalProps} formProps={formProps} />\n    </div>\n  );\n};\n')))),(0,a.yg)("p",null,"Our ",(0,a.yg)("inlineCode",{parentName:"p"},"create")," action involves the ",(0,a.yg)("inlineCode",{parentName:"p"},"useModalForm()")," hook which manages UI, state, error and data fetching for the ",(0,a.yg)("inlineCode",{parentName:"p"},"antd")," ",(0,a.yg)("inlineCode",{parentName:"p"},"<Modal />")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"<Form />")," components. Let's zoom in on what exactly it is doing."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"The ",(0,a.yg)("inlineCode",{parentName:"strong"},"useModalForm()")," Hook")),(0,a.yg)("p",null,"In the ",(0,a.yg)("inlineCode",{parentName:"p"},"<Header />")," component above, we are invoking the ",(0,a.yg)("inlineCode",{parentName:"p"},"useModalForm()")," hook with its argument object containing ",(0,a.yg)("inlineCode",{parentName:"p"},"resource"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"action")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"redirect")," properties. We are getting the ",(0,a.yg)("inlineCode",{parentName:"p"},"modalProps")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"formProps")," properties that it prepares for us from the response data."),(0,a.yg)("p",null,"There are loads of things happening here. So I recommend going through the ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/antd/hooks/form/useModalForm/"},(0,a.yg)("inlineCode",{parentName:"a"},"useModalForm()")," documentation"),"."),(0,a.yg)("p",null,"It is also important that we understand how the ",(0,a.yg)("strong",{parentName:"p"},"Ant Design"),"\n",(0,a.yg)("inlineCode",{parentName:"p"},"<Modal />")," component accepts the ",(0,a.yg)("inlineCode",{parentName:"p"},"modalProps")," props from ",(0,a.yg)("a",{parentName:"p",href:"https://ant.design/components/modal#api"},"this page")," and how the ",(0,a.yg)("inlineCode",{parentName:"p"},"<Form />")," works with ",(0,a.yg)("inlineCode",{parentName:"p"},"formProps")," from ",(0,a.yg)("a",{parentName:"p",href:"https://ant.design/components/form#api"},"here"),"."),(0,a.yg)("p",null,"We are using the ",(0,a.yg)("inlineCode",{parentName:"p"},"<Modal />")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"<Form />")," inside the ",(0,a.yg)("inlineCode",{parentName:"p"},"<CreateCanvas />")," component that receives the ",(0,a.yg)("inlineCode",{parentName:"p"},"modalProps")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"formProps")," and relays them to these descendents:"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"CreateCanvas component code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/canvas/create.tsx"',title:'"src/components/canvas/create.tsx"'},'import React, { useState } from "react";\nimport { useGetIdentity } from "@refinedev/core";\nimport { Form, FormProps, Input, Modal, ModalProps, Radio } from "antd";\n\nimport { getRandomName, DEFAULT_CANVAS_SIZE } from "../../utility";\nimport { User } from "../../types";\n\ntype CreateCanvasProps = {\n  modalProps: ModalProps;\n  formProps: FormProps;\n};\n\nexport const CreateCanvas: React.FC<CreateCanvasProps> = ({\n  modalProps,\n  formProps,\n}) => {\n  const { data: user } = useGetIdentity<User | null>();\n\n  const [values, setValues] = useState(() => {\n    const name = getRandomName();\n    return {\n      name: name,\n      id: name.replace(/\\s/g, "-").toLowerCase(),\n      width: DEFAULT_CANVAS_SIZE,\n      height: DEFAULT_CANVAS_SIZE,\n    };\n  });\n\n  return (\n    <Modal\n      {...modalProps}\n      title="Create Canvas"\n      width={600}\n      centered\n      afterClose={() => {\n        const name = getRandomName();\n        setValues({\n          name: name,\n          id: name.replace(/\\s/g, "-").toLowerCase(),\n          width: DEFAULT_CANVAS_SIZE,\n          height: DEFAULT_CANVAS_SIZE,\n        });\n      }}\n      bodyStyle={{ borderRadius: "6px" }}\n    >\n      <Form\n        {...formProps}\n        labelCol={{ span: 6 }}\n        wrapperCol={{ span: 12 }}\n        onFinish={() => {\n          return (\n            formProps.onFinish &&\n            formProps.onFinish({\n              ...values,\n              user_id: user?.id,\n            })\n          );\n        }}\n      >\n        <Form.Item label="ID:">\n          <Input value={values.id} disabled />\n        </Form.Item>\n\n        <Form.Item label="Name:">\n          <Input value={values.name} disabled />\n        </Form.Item>\n\n        <Form.Item label="Size:">\n          <Radio.Group\n            options={[10, 20, 30]}\n            onChange={({ target: { value } }) =>\n              setValues((p) => ({\n                ...p,\n                height: value,\n                width: value,\n              }))\n            }\n            value={values.width}\n            optionType="button"\n            buttonStyle="solid"\n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n')))),(0,a.yg)("p",null,"Notice the use of the ",(0,a.yg)("inlineCode",{parentName:"p"},"formProps.onFinish()")," method on ",(0,a.yg)("inlineCode",{parentName:"p"},"<Form />"),"'s ",(0,a.yg)("inlineCode",{parentName:"p"},"onFinish")," prop. This is the form event which initiates the ",(0,a.yg)("inlineCode",{parentName:"p"},"create")," action."),(0,a.yg)("p",null,"Behind the scenes, ",(0,a.yg)("inlineCode",{parentName:"p"},"useModalForm()")," ultimately calls the ",(0,a.yg)("inlineCode",{parentName:"p"},"useCreate()")," data hook which fetches the data with the ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProvider.create()")," method."),(0,a.yg)("p",null,"For details about how the ",(0,a.yg)("inlineCode",{parentName:"p"},"useCreate()")," hook works, please refer to ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/hooks/data/useCreate/"},"this ",(0,a.yg)("strong",{parentName:"a"},"Refine")," documentation"),"."),(0,a.yg)("p",null,"Notice also that we are passing the ",(0,a.yg)("inlineCode",{parentName:"p"},"redirect")," property to the ",(0,a.yg)("inlineCode",{parentName:"p"},"useModalForm()")," hook which specifies that we redirect to the ",(0,a.yg)("inlineCode",{parentName:"p"},"show")," action of the resource. We'll come to this in the next section related to adding ",(0,a.yg)("inlineCode",{parentName:"p"},"show")," action in our ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," resource."),(0,a.yg)("p",null,"If we now click on the ",(0,a.yg)("inlineCode",{parentName:"p"},"Create")," button in our navbar, we will be again redirected to the ",(0,a.yg)("inlineCode",{parentName:"p"},"/login")," page."),(0,a.yg)("p",null,"This is because for the ",(0,a.yg)("inlineCode",{parentName:"p"},"onClick")," event on the ",(0,a.yg)("inlineCode",{parentName:"p"},"Create")," canvas button inside the ",(0,a.yg)("inlineCode",{parentName:"p"},"<Header />")," component, we have asked the router to authenticate the user if they are not logged in:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/layout/header/index.tsx"',title:'"src/components/layout/header/index.tsx"'},'<Button\n  icon={<PlusSquareOutlined />}\n  onClick={() => {\n    if (isLogin) {\n      show();\n    } else {\n      handleRedirect();\n    }\n  }}\n  title="Create a new canvas"\n>\n  Create\n</Button>\n')),(0,a.yg)("h2",{id:"refine--show-action"},(0,a.yg)("inlineCode",{parentName:"h2"},"<Refine />")," ",(0,a.yg)("inlineCode",{parentName:"h2"},"show")," Action"),(0,a.yg)("p",null,"We noted in the previous section that after a successful ",(0,a.yg)("inlineCode",{parentName:"p"},"create")," action, ",(0,a.yg)("inlineCode",{parentName:"p"},"useModalForm()")," is set to redirect the page to the ",(0,a.yg)("inlineCode",{parentName:"p"},"show")," action."),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"show")," action represents a ",(0,a.yg)("inlineCode",{parentName:"p"},"GET")," request to the ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," table in our ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," database. It is done with the ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProvider.getOne()")," method. In the ",(0,a.yg)("inlineCode",{parentName:"p"},"<CanvasShow />")," component, it can be accessed via the ",(0,a.yg)("inlineCode",{parentName:"p"},"useShow()")," hook."),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"<CanvasShow />")," component looks like this:"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"CanvasShow component code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/canvases/show.tsx"',title:'"src/pages/canvases/show.tsx"'},'import { useState } from "react";\nimport {\n  useCreate,\n  useGetIdentity,\n  useNavigation,\n  useShow,\n  useParsed,\n  useIsAuthenticated,\n} from "@refinedev/core";\nimport { useModal } from "@refinedev/antd";\n\nimport { LeftOutlined } from "@ant-design/icons";\nimport { Button, Typography, Spin, Modal } from "antd";\n\nimport { CanvasItem, DisplayCanvas } from "../../components/canvas";\nimport { ColorSelect } from "../../components/color-select";\nimport { AvatarPanel } from "../../components/avatar";\nimport { colors } from "../../utility";\nimport { Canvas } from "../../types";\nimport { LogList } from "../../components/logs";\n\nconst { Title } = Typography;\n\ntype Colors = typeof colors;\n\nexport const CanvasShow: React.FC = () => {\n  const { pathname } = useParsed();\n  const [color, setColor] = useState<Colors[number]>("black");\n  const { modalProps, show, close } = useModal();\n  const { data: identity } = useGetIdentity<any>();\n  const { data: { authenticated } = {} } = useIsAuthenticated();\n\n  const {\n    query: { data: { data: canvas } = {} },\n  } = useShow<Canvas>();\n  const { mutate } = useCreate();\n  const { list, push } = useNavigation();\n\n  const onSubmit = (x: number, y: number) => {\n    if (!authenticated) {\n      if (pathname) {\n        return push(`/login?to=${encodeURIComponent(pathname)}`);\n      }\n\n      return push(`/login`);\n    }\n\n    if (typeof x === "number" && typeof y === "number" && canvas?.id) {\n      mutate({\n        resource: "pixels",\n        values: {\n          x,\n          y,\n          color,\n          canvas_id: canvas?.id,\n          user_id: identity.id,\n        },\n        meta: {\n          canvas,\n        },\n        successNotification: false,\n      });\n    }\n  };\n\n  return (\n    <div className="container">\n      <div className="paper">\n        <div className="paper-header">\n          <Button\n            type="text"\n            onClick={() => list("canvases")}\n            style={{ textTransform: "uppercase" }}\n          >\n            <LeftOutlined />\n            Back\n          </Button>\n          <Title level={3}>{canvas?.name ?? canvas?.id ?? ""}</Title>\n          <Button type="primary" onClick={show}>\n            View Changes\n          </Button>\n        </div>\n        <Modal\n          title="Canvas Changes"\n          {...modalProps}\n          centered\n          destroyOnClose\n          onOk={close}\n          onCancel={() => {\n            close();\n          }}\n          footer={[\n            <Button type="primary" key="close" onClick={close}>\n              Close\n            </Button>,\n          ]}\n        >\n          <LogList currentCanvas={canvas} />\n        </Modal>\n\n        {canvas ? (\n          <DisplayCanvas canvas={canvas}>\n            {(pixels) =>\n              pixels ? (\n                <div\n                  style={{\n                    display: "flex",\n                    justifyContent: "center",\n                    gap: 48,\n                  }}\n                >\n                  <div>\n                    <ColorSelect selected={color} onChange={setColor} />\n                  </div>\n                  <CanvasItem\n                    canvas={canvas}\n                    pixels={pixels}\n                    onPixelClick={onSubmit}\n                    scale={(20 / (canvas?.width ?? 20)) * 2}\n                    active={true}\n                  />\n                  <div style={{ width: 120 }}>\n                    <AvatarPanel pixels={pixels} />\n                  </div>\n                </div>\n              ) : (\n                <div className="spin-wrapper">\n                  <Spin />\n                </div>\n              )\n            }\n          </DisplayCanvas>\n        ) : (\n          <div className="spin-wrapper">\n            <Spin />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n')))),(0,a.yg)("p",null,"In the code above, we have two instances of data hooks in action. First, with the ",(0,a.yg)("inlineCode",{parentName:"p"},"useShow()")," hook, we are getting the created ",(0,a.yg)("inlineCode",{parentName:"p"},"canvas")," data to display it in the grid:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/canvases/show.tsx"',title:'"src/pages/canvases/show.tsx"'},"const {\n  query: { data: { data: canvas } = {} },\n} = useShow<Canvas>();\n")),(0,a.yg)("p",null,"Additionally, we are letting another ",(0,a.yg)("inlineCode",{parentName:"p"},"mutation")," to create a ",(0,a.yg)("inlineCode",{parentName:"p"},"pixel")," in our ",(0,a.yg)("inlineCode",{parentName:"p"},"pixels")," table with the following:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/canvases/show.tsx"',title:'"src/pages/canvases/show.tsx"'},'const { mutate } = useCreate();\n\nconst onSubmit = (x: number, y: number) => {\n  if (typeof x === "number" && typeof y === "number" && canvas?.id) {\n    mutate({\n      resource: "pixels",\n      values: { x, y, color, canvas_id: canvas?.id },\n    });\n  }\n};\n')),(0,a.yg)("p",null,"Now that we have our ",(0,a.yg)("inlineCode",{parentName:"p"},"<CanvasShow />")," component ready, let's start implementing ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," authentication for our app."),(0,a.yg)("h2",{id:"supabase-authentication-with-refine"},"Supabase Authentication with Refine"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/docs/authentication/auth-provider"},"Refer to the Auth Provider tutorial for more information. \u2192")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},"<Refine\n  // ...\n  authProvider={authProvider}\n/>\n")),(0,a.yg)("p",null,"If we click on the ",(0,a.yg)("inlineCode",{parentName:"p"},"Create")," canvas button, we are redirected to ",(0,a.yg)("inlineCode",{parentName:"p"},"/login")," route."),(0,a.yg)("h3",{id:"email-authentication-with-supabase-in-refine"},"Email Authentication with Supabase in Refine"),(0,a.yg)("p",null,"For implementing authentication, we look back at the ",(0,a.yg)("inlineCode",{parentName:"p"},"App.tsx")," file."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Refine"),"'s ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," module has produced all the auth page variations we need to register an account, login, recover password and update password - along with the code for routing, ",(0,a.yg)("inlineCode",{parentName:"p"},"https")," requests and authentication providers."),(0,a.yg)("p",null,"Namely, authentication related routing has been added:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import { Refine, Authenticated } from "@refinedev/core";\nimport routerProvider, { NavigateToResource } from "@refinedev/react-router";\nimport { BrowserRouter, Routes, Route, Outlet } from "react-router-dom";\nimport { GithubOutlined } from "@ant-design/icons";\nimport { AuthPage } from "./pages/auth";\nimport { authProvider } from "./providers";\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <Refine\n        // ...\n        authProvider={authProvider}\n        routerProvider={routerProvider}\n      >\n        <Routes>\n          {/* ... */}\n          {/* highlight-start */}\n          <Route\n            element={\n              <Authenticated fallback={<Outlet />}>\n                <NavigateToResource />\n              </Authenticated>\n            }\n          >\n            <Route\n              path="/login"\n              element={\n                <AuthPage\n                  type="login"\n                  providers={[\n                    {\n                      name: "github",\n                      icon: (\n                        <GithubOutlined\n                          style={{\n                            fontSize: "18px",\n                          }}\n                        />\n                      ),\n                      label: "Sign in with GitHub",\n                    },\n                  ]}\n                />\n              }\n            />\n            <Route path="/register" element={<AuthPage type="register" />} />\n            <Route\n              path="/forgot-password"\n              element={<AuthPage type="forgotPassword" />}\n            />\n            <Route\n              path="/update-password"\n              element={<AuthPage type="updatePassword" />}\n            />\n          </Route>\n          {/* highlight-end */}\n        </Routes>\n      </Refine>\n    </BrowserRouter>\n  );\n};\n')),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"LoginPage")," route was also added:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'<Route\n  path="/login"\n  element={\n    <AuthPage\n      type="login"\n      providers={[\n        {\n          name: "github",\n          icon: (\n            <GithubOutlined\n              style={{\n                fontSize: "18px",\n              }}\n            />\n          ),\n          label: "Sign in with GitHub",\n        },\n      ]}\n    />\n  }\n/>\n')),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Custom Login")),(0,a.yg)("p",null,"In order to add a custom login route, we add a new ",(0,a.yg)("inlineCode",{parentName:"p"},"<Route/>")," as children to the ",(0,a.yg)("inlineCode",{parentName:"p"},"<Routes/>")," component."),(0,a.yg)("p",null,"Remember, we've already replaced ",(0,a.yg)("inlineCode",{parentName:"p"},"App.tx")," code with the following:"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show `App.tsx` code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import { GitHubBanner, Refine, Authenticated } from "@refinedev/core";\nimport { useNotificationProvider, ErrorComponent } from "@refinedev/antd";\nimport { dataProvider, liveProvider } from "@refinedev/supabase";\nimport routerProvider, { NavigateToResource } from "@refinedev/react-router";\nimport { BrowserRouter, Routes, Route, Outlet } from "react-router-dom";\nimport { ConfigProvider } from "antd";\nimport { GithubOutlined } from "@ant-design/icons";\n\nimport { Layout } from "./components/layout";\nimport { CanvasFeaturedList, CanvasList, CanvasShow } from "./pages/canvases";\nimport { AuthPage } from "./pages/auth";\nimport { supabaseClient } from "./utility";\nimport { authProvider, auditLogProvider } from "./providers";\n\nimport "@refinedev/antd/dist/reset.css";\nimport "./styles/style.css";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <GitHubBanner />\n      <ConfigProvider\n        theme={{\n          token: {\n            colorPrimary: "#3ecf8e",\n            colorText: "#80808a",\n            colorError: "#fa541c",\n            colorBgLayout: "#f0f2f5",\n            colorLink: "#3ecf8e",\n            colorLinkActive: "#3ecf8e",\n            colorLinkHover: "#3ecf8e",\n          },\n        }}\n      >\n        <Refine\n          authProvider={authProvider}\n          dataProvider={dataProvider(supabaseClient)}\n          liveProvider={liveProvider(supabaseClient)}\n          auditLogProvider={auditLogProvider}\n          routerProvider={routerProvider}\n          resources={[\n            {\n              name: "canvases",\n              list: "/canvases",\n              show: "/canvases/show/:id",\n            },\n          ]}\n          notificationProvider={useNotificationProvider}\n        >\n          <Routes>\n            <Route\n              element={\n                <Layout>\n                  <Outlet />\n                </Layout>\n              }\n            >\n              <Route index element={<CanvasFeaturedList />} />\n\n              <Route path="/canvases">\n                <Route index element={<CanvasList />} />\n                <Route path="show/:id" element={<CanvasShow />} />\n              </Route>\n            </Route>\n            <Route\n              element={\n                <Authenticated fallback={<Outlet />}>\n                  <NavigateToResource />\n                </Authenticated>\n              }\n            >\n              <Route\n                path="/login"\n                element={\n                  <AuthPage\n                    type="login"\n                    providers={[\n                      {\n                        name: "github",\n                        icon: (\n                          <GithubOutlined\n                            style={{\n                              fontSize: "18px",\n                            }}\n                          />\n                        ),\n                        label: "Sign in with GitHub",\n                      },\n                    ]}\n                  />\n                }\n              />\n              <Route path="/register" element={<AuthPage type="register" />} />\n              <Route\n                path="/forgot-password"\n                element={<AuthPage type="forgotPassword" />}\n              />\n              <Route\n                path="/update-password"\n                element={<AuthPage type="updatePassword" />}\n              />\n            </Route>\n\n            <Route\n              element={\n                <Layout>\n                  <Outlet />\n                </Layout>\n              }\n            >\n              <Route path="*" element={<ErrorComponent />} />\n            </Route>\n          </Routes>\n        </Refine>\n      </ConfigProvider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n')))),(0,a.yg)("p",null,"We are also using a customized version of the ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/antd/components/antd-auth-page/"},(0,a.yg)("inlineCode",{parentName:"a"},"<AuthPage />"))," component now. We will not discuss about customizing the ",(0,a.yg)("inlineCode",{parentName:"p"},"<AuthPage />")," component since it is pretty straight forward. But you can find the updated ",(0,a.yg)("inlineCode",{parentName:"p"},"<AuthPage />")," component in the ",(0,a.yg)("inlineCode",{parentName:"p"},"src/pages/auth")," directory."),(0,a.yg)("p",null,"If you haven't already, it is definitely worth spending time to go over the ",(0,a.yg)("inlineCode",{parentName:"p"},"<AuthPage />")," customization details ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/antd/components/antd-auth-page"},"here"),"."),(0,a.yg)("br",null),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Registering an Account")),(0,a.yg)("p",null,"Since we haven't created any account with the ",(0,a.yg)("inlineCode",{parentName:"p"},"auth.users")," table on our ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," server, we need to navigate to the ",(0,a.yg)("inlineCode",{parentName:"p"},"/register")," route where we are presented with the customized sign up form."),(0,a.yg)("p",null,"At this point, if we register with our email and a password, it gets added to the ",(0,a.yg)("inlineCode",{parentName:"p"},"auth.users")," table in ",(0,a.yg)("strong",{parentName:"p"},"Supabase"),"."),(0,a.yg)("p",null,"After registration, the user is automatically signed in and the browser redirects to the root route, which takes us to the ",(0,a.yg)("inlineCode",{parentName:"p"},"/canvases")," route thanks to ",(0,a.yg)("strong",{parentName:"p"},"Refine"),"'s sensible routing defaults."),(0,a.yg)("p",null,"And now, since we are logged in, we should be able to create a canvas. After successful creation of a canvas, we should be redirected to ",(0,a.yg)("inlineCode",{parentName:"p"},"/canvases/:id"),":"),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-02-18-refine-pixels-5/create-canvas.jpg",alt:"react crud app supabase"}),(0,a.yg)("br",null),(0,a.yg)("p",null,"Feel free to create a few more canvases and draw on them so that the gallery gets populated."),(0,a.yg)("p",null,"With the main features functioning now, let's focus on adding and activating third party authentication."),(0,a.yg)("p",null,"We have a ",(0,a.yg)("inlineCode",{parentName:"p"},"providers")," prop on ",(0,a.yg)("inlineCode",{parentName:"p"},"<AuthPage />"),". We want to add GitHub authentication as well."),(0,a.yg)("h3",{id:"github-authentication-with-supabase-in-refine"},"GitHub Authentication with Supabase in Refine"),(0,a.yg)("p",null,"We implemented GitHub authentication with ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," in our app."),(0,a.yg)("p",null,"In order to do so, we just need to add the following object to the ",(0,a.yg)("inlineCode",{parentName:"p"},"providers")," prop in ",(0,a.yg)("inlineCode",{parentName:"p"},"<AuthPage />")," component:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  name: "github",\n  icon: <GithubOutlined style={{ fontSize: "18px" }} />,\n  label: "Sign in with GitHub",\n}\n')),(0,a.yg)("p",null,"In our ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," backend, we have to configure and enable GitHub authentication. Feel free to use this ",(0,a.yg)("a",{parentName:"p",href:"https://supabase.com/docs/guides/auth/auth-github"},(0,a.yg)("strong",{parentName:"a"},"Supabase")," guide"),"."),(0,a.yg)("p",null,"And now we should be able to sign in to our app with GitHub as well."),(0,a.yg)("h2",{id:"implementing-a-public-home-page-with-refine"},"Implementing a Public Home Page with Refine"),(0,a.yg)("p",null,"Now it's time to focus on the Home page of our application. We put the ",(0,a.yg)("inlineCode",{parentName:"p"},"<CanvasFeaturedList />")," in this page:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="App.tsx"',title:'"App.tsx"'},'import { Refine } from "@refinedev/core";\nimport routerProvider from "@refinedev/react-router";\nimport { BrowserRouter, Routes, Route, Outlet } from "react-router-dom";\nimport { Layout } from "./components/layout";\nimport { CanvasFeaturedList } from "./pages/canvases";\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <Refine\n        // ...\n        routerProvider={routerProvider}\n      >\n        <Routes>\n          {/* ... */}\n          <Route\n            element={\n              <Layout>\n                <Outlet />\n              </Layout>\n            }\n          >\n            {/* highlight-start */}\n            <Route index element={<CanvasFeaturedList />} />\n            {/* highlight-end */}\n            {/* ... */}\n          </Route>\n        </Routes>\n      </Refine>\n    </BrowserRouter>\n  );\n};\n')),(0,a.yg)("p",null,"So, now if we visit the root route we can see the ",(0,a.yg)("inlineCode",{parentName:"p"},"<CanvasFeaturedList />")," component, and not the ",(0,a.yg)("inlineCode",{parentName:"p"},"<CanvasList />")," component."),(0,a.yg)("p",null,"There will not be any item in the home page because ",(0,a.yg)("inlineCode",{parentName:"p"},"is_featured")," is set to ",(0,a.yg)("inlineCode",{parentName:"p"},"false")," for a canvas by default. At this stage, in order to get a list of featured canvases, we have to set ",(0,a.yg)("inlineCode",{parentName:"p"},"is_featured: true")," from ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," dashboard for some of the canvases created."),(0,a.yg)("p",null,"I've done that and the featured canvases are listed in the ",(0,a.yg)("inlineCode",{parentName:"p"},"Home")," route:"),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-02-18-refine-pixels-5/featured-canvases.jpg",alt:"react crud app supabase"}),(0,a.yg)("br",null),(0,a.yg)("h2",{id:"summary"},"Summary"),(0,a.yg)("p",null,"In this post, we added ",(0,a.yg)("inlineCode",{parentName:"p"},"canvases")," resource to our ",(0,a.yg)("inlineCode",{parentName:"p"},"<Refine />")," component. We implemented ",(0,a.yg)("inlineCode",{parentName:"p"},"list")," action on a public gallery and a dashboard page and the ",(0,a.yg)("inlineCode",{parentName:"p"},"show")," action to display a canvas. The ",(0,a.yg)("inlineCode",{parentName:"p"},"create")," action is implemented from inside a modal accessible on a button click. While working through these, we inspected into individual data provider methods and hooks for these actions."),(0,a.yg)("p",null,"We also saw how ",(0,a.yg)("strong",{parentName:"p"},"Refine")," handles a simple email/password based authentication out-of-the-box. We then went ahead implemented social login using ",(0,a.yg)("inlineCode",{parentName:"p"},"GitHub")," authentication provider."),(0,a.yg)("p",null,"In the next article, we'll move things to the next level by adding live collaboration features using ",(0,a.yg)("strong",{parentName:"p"},"Refine"),"'s ",(0,a.yg)("strong",{parentName:"p"},"Supabase")," ",(0,a.yg)("inlineCode",{parentName:"p"},"liveProvider"),"."),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/blog/refine-pixels-4/"},'Click here to read "Adding Realtime Collaboration" article. ',"\u2192")))}y.isMDXComponent=!0}}]);