"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[34428],{58860:(e,n,t)=>{t.d(n,{xA:()=>p,yg:()=>g});var a=t(37953);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),d=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=d(e.components);return a.createElement(s.Provider,{value:n},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},c=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=d(t),c=o,g=m["".concat(s,".").concat(c)]||m[c]||u[c]||r;return t?a.createElement(g,i(i({ref:n},p),{},{components:t})):a.createElement(g,i({ref:n},p))}));function g(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=c;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[m]="string"==typeof e?e:o,i[1]=l;for(var d=2;d<r;d++)i[d]=t[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}c.displayName="MDXCreateElement"},39772:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>s,default:()=>C,frontMatter:()=>l,metadata:()=>d,toc:()=>m});t(37953);var a=t(58860);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function i(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}const l={id:"useForm",title:"useForm",source:"packages/core/src/hooks/form/useForm.ts"},s=void 0,d={unversionedId:"api-reference/core/hooks/useForm",id:"version-3.xx.xx/api-reference/core/hooks/useForm",title:"useForm",description:"useForm is a hook that allows to manage forms. It has some action methods that create, edit and clone the form. The hook return value comes to according to the called action and it can run different logic depending on the action.",source:"@site/versioned_docs/version-3.xx.xx/api-reference/core/hooks/useForm.md",sourceDirName:"api-reference/core/hooks",slug:"/api-reference/core/hooks/useForm",permalink:"/docs/3.xx.xx/api-reference/core/hooks/useForm",draft:!1,editUrl:"https://github.com/refinedev/refine/tree/main/documentation/versioned_docs/version-3.xx.xx/api-reference/core/hooks/useForm.md",tags:[],version:"3.xx.xx",lastUpdatedBy:"Ali Emir \u015een",lastUpdatedAt:1709028629,formattedLastUpdatedAt:"Feb 27, 2024",frontMatter:{id:"useForm",title:"useForm",source:"packages/core/src/hooks/form/useForm.ts"},sidebar:"someSidebar",previous:{title:"useSelect",permalink:"/docs/3.xx.xx/api-reference/core/hooks/useSelect/"},next:{title:"useExport",permalink:"/docs/3.xx.xx/api-reference/core/hooks/import-export/useExport"}},p={},m=[{value:"Basic Usage",id:"basic-usage",level:2},{value:"Properties",id:"properties",level:2},{value:"<code>action</code>",id:"action",level:3},{value:"<code>resource</code>",id:"resource",level:3},{value:"<code>id</code>",id:"id",level:3},{value:"<code>redirect</code>",id:"redirect",level:3},{value:"<code>onMutationSuccess</code>",id:"onmutationsuccess",level:3},{value:"<code>onMutationError</code>",id:"onmutationerror",level:3},{value:"<code>invalidates</code>",id:"invalidates",level:3},{value:"<code>dataProviderName</code>",id:"dataprovidername",level:3},{value:"<code>mutationMode</code>",id:"mutationmode",level:3},{value:"<code>successNotification</code>",id:"successnotification",level:3},{value:"<code>errorNotification</code>",id:"errornotification",level:3},{value:"<code>metaData</code>",id:"metadata",level:3},{value:"<code>queryOptions</code>",id:"queryoptions",level:3},{value:"<code>createMutationOptions</code>",id:"createmutationoptions",level:3},{value:"<code>updateMutationOptions</code>",id:"updatemutationoptions",level:3},{value:"<code>liveMode</code>",id:"livemode",level:3},{value:"<code>onLiveEvent</code>",id:"onliveevent",level:3},{value:"<code>liveParams</code>",id:"liveparams",level:3},{value:"Return Values",id:"return-values",level:2},{value:"<code>queryResult</code>",id:"queryresult",level:3},{value:"<code>mutationResult</code>",id:"mutationresult",level:3},{value:"<code>setId</code>",id:"setid",level:3},{value:"<code>redirect</code>",id:"redirect-1",level:3},{value:"<code>onFinish</code>",id:"onfinish",level:3},{value:"<code>formLoading</code>",id:"formloading",level:3},{value:"FAQ",id:"faq",level:2},{value:"How can Invalidate other resources?",id:"how-can-invalidate-other-resources",level:3},{value:"How can I change the form data before submitting it to the API?",id:"how-can-i-change-the-form-data-before-submitting-it-to-the-api",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Properties",id:"properties-1",level:3},{value:"Type Parameters",id:"type-parameters",level:3},{value:"Return values",id:"return-values-1",level:3},{value:"Example",id:"example",level:2}],u=e=>function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.yg)("div",n)},c=u("Tabs"),g=u("TabItem"),y=u("GeneralConceptsLink"),h=u("DocThumbsUpDownFeedbackWidget"),f=u("PropsTable"),N=u("CodeSandboxExample"),v={toc:m},x="wrapper";function C(e){var{components:n}=e,t=i(e,["components"]);return(0,a.yg)(x,r(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){o(e,n,t[n])}))}return e}({},v,t),{components:n,mdxType:"MDXLayout"}),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:"live shared",live:!0,shared:!0},'import React from "react";\nimport {\n  Refine,\n  LayoutProps,\n  useList,\n  HttpError,\n  useShow,\n  useNavigation,\n} from "@pankod/refine-core";\nimport { Layout } from "components";\nimport { PostList, PostCreate, PostEdit, PostShow } from "pages/posts";\nimport routerProvider from "@pankod/refine-react-router-v6";\n\nconst { Link } = routerProvider;\n\ntype FormValues = Omit<IPost, "id">;\n\ninterface IPost {\n  id: number;\n  title: string;\n  content: string;\n}\n\nconst Layout: React.FC<LayoutProps> = ({ children }) => {\n  return (\n    <div\n      style={{\n        background: "white",\n        height: "100vh",\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n\nconst PAGE_SIZE = 10;\n\nconst PostList: React.FC = () => {\n  const [page, setPage] = React.useState(1);\n  const { edit, create, clone } = useNavigation();\n\n  const { data } = useList<IPost>({\n    resource: "posts",\n    config: {\n      pagination: {\n        current: page,\n        pageSize: PAGE_SIZE,\n      },\n    },\n  });\n\n  const posts = data?.data || [];\n  const toalCount = data?.total || 0;\n\n  const pageCount = Math.ceil(toalCount / PAGE_SIZE);\n  const hasNext = page * PAGE_SIZE < toalCount;\n  const hasPrev = page > 1;\n\n  return (\n    <div>\n      <div>\n        <button onClick={() => create("posts")}>\n          <span>Create Post</span>\n        </button>\n      </div>\n\n      <table>\n        <thead>\n          <tr>\n            <th>\n              <div>ID</div>\n            </th>\n            <th>\n              <div>Title</div>\n            </th>\n\n            <th>\n              <div>Action</div>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {posts.map((post) => (\n            <tr key={post.id}>\n              <td>{post.id}</td>\n              <td>{post.title}</td>\n              <td>\n                <div>\n                  <button onClick={() => edit("posts", post.id)}>Edit</button>\n                  <button onClick={() => edit("posts", post.id)}>Clone</button>\n                </div>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <div>\n        <div>\n          <button onClick={() => setPage(1)} disabled={!hasPrev}>\n            First\n          </button>\n          <button\n            onClick={() => setPage((prev) => prev - 1)}\n            disabled={!hasPrev}\n          >\n            Previous\n          </button>\n          <button\n            onClick={() => setPage((prev) => prev + 1)}\n            disabled={!hasNext}\n          >\n            Next\n          </button>\n          <button onClick={() => setPage(pageCount)} disabled={!hasNext}>\n            Last\n          </button>\n        </div>\n        <span>\n          Page{" "}\n          <strong>\n            {page} of {pageCount}\n          </strong>\n        </span>\n        <span>\n          Go to page:\n          <input\n            type="number"\n            defaultValue={page + 1}\n            onChange={(e) => {\n              const value = e.target.value ? Number(e.target.value) : 1;\n              setPage(value);\n            }}\n          />\n        </span>\n      </div>\n    </div>\n  );\n};\n\nconst PostEdit: React.FC = () => {\n  const { formLoading, onFinish, queryResult } = useForm<FormValues>();\n  const defaultValues = queryResult?.data?.data;\n\n  const [formValues, seFormValues] = useState<FormValues>({\n    title: defaultValues?.title || "",\n    content: defaultValues?.content || "",\n  });\n\n  const handleOnChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n  ) => {\n    seFormValues({\n      ...formValues,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    onFinish(formValues);\n  };\n\n  useEffect(() => {\n    seFormValues({\n      title: defaultValues?.title || "",\n      content: defaultValues?.content || "",\n    });\n  }, [defaultValues]);\n\n  return (\n    <div>\n      <br />\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label htmlFor="title">Title</label>\n          <input\n            type="text"\n            id="title"\n            name="title"\n            placeholder="Title"\n            value={formValues.title}\n            onChange={handleOnChange}\n          />\n        </div>\n        <div>\n          <label htmlFor="content">Content</label>\n          <textarea\n            id="content"\n            name="content"\n            placeholder="Content"\n            rows={10}\n            value={formValues.content}\n            onChange={handleOnChange}\n          />\n        </div>\n        <button type="submit" disabled={formLoading}>\n          {formLoading && <div>Loading...</div>}\n          <span>Save</span>\n        </button>\n      </form>\n    </div>\n  );\n};\n\nconst PostCreate: React.FC = () => {\n  const { formLoading, onFinish } = useForm<IPost, HttpError, FormValues>();\n\n  const [formValues, seFormValues] = useState<FormValues>({\n    title: "",\n    content: "",\n  });\n\n  const handleOnChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n  ) => {\n    seFormValues({\n      ...formValues,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    onFinish(formValues);\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label htmlFor="title">Title</label>\n          <input\n            type="text"\n            id="title"\n            name="title"\n            placeholder="Title"\n            value={formValues.title}\n            onChange={handleOnChange}\n          />\n        </div>\n\n        <div>\n          <label htmlFor="content">Content</label>\n          <textarea\n            id="content"\n            name="content"\n            placeholder="Content"\n            value={formValues.content}\n            onChange={handleOnChange}\n          />\n        </div>\n        <button type="submit" disabled={formLoading}>\n          {formLoading && <div>Loading...</div>}\n          <span>Save</span>\n        </button>\n      </form>\n    </div>\n  );\n};\n')),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," is a hook that allows to manage forms. It has some ",(0,a.yg)("inlineCode",{parentName:"p"},"action")," methods that ",(0,a.yg)("inlineCode",{parentName:"p"},"create"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"edit")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"clone")," the form. The hook return value comes to according to the called action and it can run different logic depending on the ",(0,a.yg)("inlineCode",{parentName:"p"},"action"),"."),(0,a.yg)("p",null,"You can think of ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," as a bridge between your ",(0,a.yg)("inlineCode",{parentName:"p"},"state")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProvider"),". It's a low-level hook that you can use to build your own form components. It's also use ",(0,a.yg)("inlineCode",{parentName:"p"},"notificationProvider")," to inform users according to the ",(0,a.yg)("inlineCode",{parentName:"p"},"action")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProvider")," response."),(0,a.yg)("p",null,"Let's review how ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," works behind the scenes."),(0,a.yg)(c,{defaultValue:"create",values:[{label:"create",value:"create"},{label:"edit",value:"edit"},{label:"clone",value:"clone"}],mdxType:"Tabs"},(0,a.yg)(g,{value:"create",mdxType:"TabItem"},(0,a.yg)("p",null,"After form is submitted:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"useForm")," calls ",(0,a.yg)("inlineCode",{parentName:"li"},"onFinish")," function with the form values."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"onFinish")," function calls ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useCreate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useCreate"))," with the form values."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"useCreate")," calls ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/providers/data-provider/"},(0,a.yg)("inlineCode",{parentName:"a"},"dataProvider")),"'s ",(0,a.yg)("inlineCode",{parentName:"li"},"create")," function and returns the response."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"useForm")," calls ",(0,a.yg)("inlineCode",{parentName:"li"},"onSuccess")," or ",(0,a.yg)("inlineCode",{parentName:"li"},"onError")," function with the response, depending on the response status."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"onSuccess")," or ",(0,a.yg)("inlineCode",{parentName:"li"},"onError")," function then calls the ",(0,a.yg)("inlineCode",{parentName:"li"},"open")," function of the ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/providers/notification-provider/"},(0,a.yg)("inlineCode",{parentName:"a"},"notificationProvider"))," to inform the user."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"useForm"),", redirects to the ",(0,a.yg)("inlineCode",{parentName:"li"},"list")," page."))),(0,a.yg)(g,{value:"edit",mdxType:"TabItem"},(0,a.yg)("p",null,"On mount, ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," calls ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useOne/"},(0,a.yg)("inlineCode",{parentName:"a"},"useGetOne"))," hook to retrieve the record to be edited. The ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," for the record is obtained from the ",(0,a.yg)("inlineCode",{parentName:"p"},"URL")," or ",(0,a.yg)("inlineCode",{parentName:"p"},"props"),"."),(0,a.yg)("p",null,"After form is submitted:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"useForm")," calls ",(0,a.yg)("inlineCode",{parentName:"li"},"onFinish")," function with the form values."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"onFinish")," function calls ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useUpdate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useUpdate"))," with the form values."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"useUpdate")," calls ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/providers/data-provider/"},(0,a.yg)("inlineCode",{parentName:"a"},"dataProvider")),"'s ",(0,a.yg)("inlineCode",{parentName:"li"},"update")," function and returns the response."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"useForm")," calls ",(0,a.yg)("inlineCode",{parentName:"li"},"onSuccess")," or ",(0,a.yg)("inlineCode",{parentName:"li"},"onError")," function with the response, depending on the response status."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"onSuccess")," or ",(0,a.yg)("inlineCode",{parentName:"li"},"onError")," function then calls the ",(0,a.yg)("inlineCode",{parentName:"li"},"open")," function of the ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/providers/notification-provider/"},(0,a.yg)("inlineCode",{parentName:"a"},"notificationProvider"))," to inform the user."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"useForm"),", redirects to the ",(0,a.yg)("inlineCode",{parentName:"li"},"list")," page."))),(0,a.yg)(g,{value:"clone",mdxType:"TabItem"},(0,a.yg)("p",null,"On mount, ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," calls ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useOne/"},(0,a.yg)("inlineCode",{parentName:"a"},"useGetOne"))," hook to retrieve the record to be edited. The ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," for the record is obtained from the ",(0,a.yg)("inlineCode",{parentName:"p"},"URL")," or ",(0,a.yg)("inlineCode",{parentName:"p"},"props"),"."),(0,a.yg)("p",null,"After form is submitted:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"useForm")," calls ",(0,a.yg)("inlineCode",{parentName:"li"},"onFinish")," function with the form values."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"onFinish")," function calls ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useCreate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useCreate"))," with the form values."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"useUpdate")," calls ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/providers/data-provider/"},(0,a.yg)("inlineCode",{parentName:"a"},"dataProvider")),"'s ",(0,a.yg)("inlineCode",{parentName:"li"},"update")," function and returns the response."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"useForm")," calls ",(0,a.yg)("inlineCode",{parentName:"li"},"onSuccess")," or ",(0,a.yg)("inlineCode",{parentName:"li"},"onError")," function with the response, depending on the response status."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"onSuccess")," or ",(0,a.yg)("inlineCode",{parentName:"li"},"onError")," function then calls the ",(0,a.yg)("inlineCode",{parentName:"li"},"open")," function of the ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/providers/notification-provider/"},(0,a.yg)("inlineCode",{parentName:"a"},"notificationProvider"))," to inform the user."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("inlineCode",{parentName:"li"},"useForm"),", redirects to the ",(0,a.yg)("inlineCode",{parentName:"li"},"list")," page.")))),(0,a.yg)("p",null,"This is the default behavior of ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm"),". You can customize it by passing your own ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/useForm/#redirect"},(0,a.yg)("inlineCode",{parentName:"a"},"redirect")),", ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/useForm/##how-can-i-change-the-form-data-before-submitting-it-to-the-api"},(0,a.yg)("inlineCode",{parentName:"a"},"onFinish")),", ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/useForm/#onmutationsuccess"},(0,a.yg)("inlineCode",{parentName:"a"},"onMutationSuccess"))," and ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/useForm/#onmutationerror"},(0,a.yg)("inlineCode",{parentName:"a"},"onMutationError"))," props."),(0,a.yg)("admonition",{type:"info"},(0,a.yg)("p",{parentName:"admonition"},(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," does not manage any state. If you're looking for a complete form library, ",(0,a.yg)("inlineCode",{parentName:"p"},"refine")," supports three form libraries out-of-the-box."),(0,a.yg)("ul",{parentName:"admonition"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://react-hook-form.com/"},"React Hook Form")," (for Headless users) - ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/packages/documentation/react-hook-form/useForm"},"Documentation")," - ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/examples/form/react-hook-form/useForm"},"Example")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://ant.design/components/form/#header"},"Ant Design Form")," (for Ant Design users) - ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/antd/hooks/form/useForm"},"Documentation")," - ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/examples/form/antd/useForm"},"Example")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://mantine.dev/form/use-form"},"Mantine Form")," (for Mantine users) - ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/mantine/hooks/form/useForm"},"Documentation")," - ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/examples/form/mantine/useForm"},"Example")))),(0,a.yg)(y,{mdxType:"GeneralConceptsLink"}),(0,a.yg)("h2",{id:"basic-usage"},"Basic Usage"),(0,a.yg)(h,{id:"basic-usage",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"We'll show the basic usage of ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," by adding an creating form."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'import { useState } from "react";\nimport { useForm } from "@pankod/refine-core";\n\nconst PostCreate = () => {\n  const [title, setTitle] = useState();\n  const { onFinish } = useForm({\n    action: "create",\n  });\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    onFinish({ title });\n  };\n\n  return (\n    <form onSubmit={onSubmit}>\n      <input onChange={(e) => setTitle(e.target.value)} />\n      <button type="submit">Submit</button>\n    </form>\n  );\n};\n')),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Returns the ",(0,a.yg)("inlineCode",{parentName:"li"},"mutationResult")," after called the ",(0,a.yg)("inlineCode",{parentName:"li"},"onFinish")," callback."),(0,a.yg)("li",{parentName:"ul"},"Accepts generic type parameters. It is used to define response type of the mutation and query."))),(0,a.yg)("h2",{id:"properties"},"Properties"),(0,a.yg)("h3",{id:"action"},(0,a.yg)("inlineCode",{parentName:"h3"},"action")),(0,a.yg)(h,{id:"action",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," can handle ",(0,a.yg)("inlineCode",{parentName:"p"},"edit"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"create")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"clone")," actions."),(0,a.yg)("admonition",{type:"tip"},(0,a.yg)("p",{parentName:"admonition"},"By default, it determines the ",(0,a.yg)("inlineCode",{parentName:"p"},"action")," from route."),(0,a.yg)("ul",{parentName:"admonition"},(0,a.yg)("li",{parentName:"ul"},"If the route is ",(0,a.yg)("inlineCode",{parentName:"li"},"/posts/create")," thus the hook will be called with ",(0,a.yg)("inlineCode",{parentName:"li"},'action: "create"'),"."),(0,a.yg)("li",{parentName:"ul"},"If the route is ",(0,a.yg)("inlineCode",{parentName:"li"},"/posts/edit/1"),", the hook will be called with ",(0,a.yg)("inlineCode",{parentName:"li"},'action: "edit"'),"."),(0,a.yg)("li",{parentName:"ul"},"If the route is ",(0,a.yg)("inlineCode",{parentName:"li"},"/posts/clone/1"),", the hook will be called with ",(0,a.yg)("inlineCode",{parentName:"li"},'action: "clone"'),".")),(0,a.yg)("p",{parentName:"admonition"},"It can be overridden by passing the ",(0,a.yg)("inlineCode",{parentName:"p"},"action")," prop where it isn't possible to determine the action from the route (e.g. when using form in a modal or using a custom route).")),(0,a.yg)(c,{defaultValue:"create",values:[{label:"create",value:"create"},{label:"edit",value:"edit"},{label:"clone",value:"clone"}],mdxType:"Tabs"},(0,a.yg)(g,{value:"create",mdxType:"TabItem"},(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},'action: "create"')," is used for creating a new record that didn't exist before."),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," uses ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useCreate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useCreate"))," under the hood for mutations on create mode."),(0,a.yg)("p",null,"In the following example, we'll show how to use ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," with ",(0,a.yg)("inlineCode",{parentName:"p"},'action: "create"'),"."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:"live  url=http://localhost:3000/posts/create previewHeight=420px",live:!0,"":!0,url:"http://localhost:3000/posts/create",previewHeight:"420px"},'setInitialRoutes(["/posts/create"]);\n\n// visible-block-start\nimport React, { useState } from "react";\nimport { useForm } from "@pankod/refine-core";\n\ninterface FormValues {\n  id: number;\n  title: string;\n  content: string;\n}\n\nconst PostCreatePage: React.FC = () => {\n  const { formLoading, onFinish } = useForm<IPost, HttpError, FormValues>();\n\n  const [formValues, seFormValues] = useState<FormValues>({\n    title: "",\n    content: "",\n  });\n\n  const handleOnChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n  ) => {\n    seFormValues({\n      ...formValues,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    onFinish(formValues);\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label htmlFor="title">Title</label>\n          <input\n            type="text"\n            id="title"\n            name="title"\n            placeholder="Title"\n            value={formValues.title}\n            onChange={handleOnChange}\n          />\n        </div>\n\n        <div>\n          <label htmlFor="content">Content</label>\n          <textarea\n            id="content"\n            name="content"\n            placeholder="Content"\n            value={formValues.content}\n            onChange={handleOnChange}\n          />\n        </div>\n        <button type="submit" disabled={formLoading}>\n          {formLoading && <div>Loading...</div>}\n          <span>Save</span>\n        </button>\n      </form>\n    </div>\n  );\n};\n// visible-block-end\n\nsetRefineProps({\n  Layout: (props: LayoutProps) => <Layout {...props} />,\n  resources: [\n    {\n      name: "posts",\n      list: PostList,\n      create: PostCreatePage,\n      edit: PostEdit,\n    },\n  ],\n});\n\nrender(<RefineHeadlessDemo />);\n'))),(0,a.yg)(g,{value:"edit",mdxType:"TabItem"},(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},'action: "edit"')," is used for editing an existing record. It requires the ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," for determining the record to edit. By default, it uses the ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," from the route. It can be changed with the ",(0,a.yg)("inlineCode",{parentName:"p"},"setId")," function or ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," property."),(0,a.yg)("p",null,"It fetches the record data according to the ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," with ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useOne/"},(0,a.yg)("inlineCode",{parentName:"a"},"useOne"))," and returns the ",(0,a.yg)("inlineCode",{parentName:"p"},"queryResult")," for you to fill the form. After the form is submitted, it updates the record with ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useUpdate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useUpdate")),"."),(0,a.yg)("p",null,"In the following example, we'll show how to use ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," with ",(0,a.yg)("inlineCode",{parentName:"p"},'action: "edit"'),"."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:"live  url=http://localhost:3000/edit/123 previewHeight=420px",live:!0,"":!0,url:"http://localhost:3000/edit/123",previewHeight:"420px"},'setInitialRoutes(["/posts/edit/123"]);\n\n// visible-block-start\nimport React, { useState, useEffect } from "react";\nimport { useForm } from "@pankod/refine-core";\n\ninterface FormValues {\n  id: number;\n  title: string;\n  content: string;\n}\n\nconst PostEditPage: React.FC = () => {\n  const { formLoading, onFinish, queryResult } = useForm<FormValues>();\n  const defaultValues = queryResult?.data?.data;\n\n  const [formValues, seFormValues] = useState<FormValues>({\n    title: defaultValues?.title || "",\n    content: defaultValues?.content || "",\n  });\n\n  const handleOnChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n  ) => {\n    seFormValues({\n      ...formValues,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    onFinish(formValues);\n  };\n\n  useEffect(() => {\n    seFormValues({\n      title: defaultValues?.title || "",\n      content: defaultValues?.content || "",\n    });\n  }, [defaultValues]);\n\n  return (\n    <div>\n      <br />\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label htmlFor="title">Title</label>\n          <input\n            type="text"\n            id="title"\n            name="title"\n            placeholder="Title"\n            value={formValues.title}\n            onChange={handleOnChange}\n          />\n        </div>\n        <div>\n          <label htmlFor="content">Content</label>\n          <textarea\n            id="content"\n            name="content"\n            placeholder="Content"\n            rows={10}\n            value={formValues.content}\n            onChange={handleOnChange}\n          />\n        </div>\n        <button type="submit" disabled={formLoading}>\n          {formLoading && <div>Loading...</div>}\n          <span>Save</span>\n        </button>\n      </form>\n    </div>\n  );\n};\n// visible-block-end\n\nsetRefineProps({\n  Layout: (props: LayoutProps) => <Layout {...props} />,\n  resources: [\n    {\n      name: "posts",\n      list: PostList,\n      create: PostCreate,\n      edit: PostEditPage,\n    },\n  ],\n});\n\nrender(<RefineHeadlessDemo />);\n'))),(0,a.yg)(g,{value:"clone",mdxType:"TabItem"},(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},'action: "clone"')," is used for cloning an existing record. It requires the ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," for determining the record to clone. By default, it uses the ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," from the route. It can be changed with the ",(0,a.yg)("inlineCode",{parentName:"p"},"setId")," function."),(0,a.yg)("p",null,"You can think ",(0,a.yg)("inlineCode",{parentName:"p"},"action:clone")," like save as. It's similar to ",(0,a.yg)("inlineCode",{parentName:"p"},"action:edit")," but it creates a new record instead of updating the existing one."),(0,a.yg)("p",null,"It fetches the record data according to the ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," with ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useOne/"},(0,a.yg)("inlineCode",{parentName:"a"},"useOne"))," and returns the ",(0,a.yg)("inlineCode",{parentName:"p"},"queryResult")," for you to fill the form. After the form is submitted, it creates a new record with ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useCreate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useCreate")),"."),(0,a.yg)("p",null,"In the following example, we'll show how to use ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," with ",(0,a.yg)("inlineCode",{parentName:"p"},'action: "clone"'),"."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:"live  url=http://localhost:3000/clone/123 previewHeight=420px",live:!0,"":!0,url:"http://localhost:3000/clone/123",previewHeight:"420px"},'setInitialRoutes(["/posts/clone/123"]);\n\n// visible-block-start\nimport React, { useState, useEffect } from "react";\nimport { useForm } from "@pankod/refine-core";\n\ninterface FormValues {\n  id: number;\n  title: string;\n  content: string;\n}\n\nconst PostCreatePage: React.FC = () => {\n  const { formLoading, onFinish, queryResult } = useForm<FormValues>();\n  const defaultValues = queryResult?.data?.data;\n\n  const [formValues, seFormValues] = useState<FormValues>({\n    title: defaultValues?.title || "",\n    content: defaultValues?.content || "",\n  });\n\n  const handleOnChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n  ) => {\n    seFormValues({\n      ...formValues,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    onFinish(formValues);\n  };\n\n  useEffect(() => {\n    seFormValues({\n      title: defaultValues?.title || "",\n      content: defaultValues?.content || "",\n    });\n  }, [defaultValues]);\n\n  return (\n    <div>\n      <br />\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label htmlFor="title">Title</label>\n          <input\n            type="text"\n            id="title"\n            name="title"\n            placeholder="Title"\n            value={formValues.title}\n            onChange={handleOnChange}\n          />\n        </div>\n        <div>\n          <label htmlFor="content">Content</label>\n          <textarea\n            id="content"\n            name="content"\n            placeholder="Content"\n            rows={10}\n            value={formValues.content}\n            onChange={handleOnChange}\n          />\n        </div>\n        <button type="submit" disabled={formLoading}>\n          {formLoading && <div>Loading...</div>}\n          <span>Save</span>\n        </button>\n      </form>\n    </div>\n  );\n};\n// visible-block-end\n\nsetRefineProps({\n  Layout: (props: LayoutProps) => <Layout {...props} />,\n  resources: [\n    {\n      name: "posts",\n      list: PostList,\n      create: PostCreatePage,\n      edit: PostEdit,\n    },\n  ],\n});\n\nrender(<RefineHeadlessDemo />);\n'))))),(0,a.yg)("h3",{id:"resource"},(0,a.yg)("inlineCode",{parentName:"h3"},"resource")),(0,a.yg)(h,{id:"resource",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"Default: It reads the ",(0,a.yg)("inlineCode",{parentName:"p"},"resource")," value from the current URL.")),(0,a.yg)("p",null,"It will be passed to the ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/providers/data-provider"},(0,a.yg)("inlineCode",{parentName:"a"},"dataProvider")),"'s method as a params. This parameter is usually used to as a API endpoint path. It all depends on how to handle the ",(0,a.yg)("inlineCode",{parentName:"p"},"resource")," in your ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/providers/data-provider"},(0,a.yg)("inlineCode",{parentName:"a"},"dataProvider")),". See the ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/providers/data-provider#creating-a-data-provider"},(0,a.yg)("inlineCode",{parentName:"a"},"creating a data provider"))," section for an example of how ",(0,a.yg)("inlineCode",{parentName:"p"},"resource")," are handled."),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"When ",(0,a.yg)("inlineCode",{parentName:"li"},"action")," is ",(0,a.yg)("inlineCode",{parentName:"li"},'"create"'),", it will be passed to the ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/providers/data-provider/#create-"},(0,a.yg)("inlineCode",{parentName:"a"},"create"))," method from the ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/providers/data-provider"},(0,a.yg)("inlineCode",{parentName:"a"},"dataProvider")),"."),(0,a.yg)("li",{parentName:"ul"},"When ",(0,a.yg)("inlineCode",{parentName:"li"},"action")," is ",(0,a.yg)("inlineCode",{parentName:"li"},'"edit"'),", it will be passed to the ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/providers/data-provider/#update-"},(0,a.yg)("inlineCode",{parentName:"a"},"update"))," and the ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/providers/data-provider/#getone-"},(0,a.yg)("inlineCode",{parentName:"a"},"getOne"))," method from the ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/providers/data-provider"},(0,a.yg)("inlineCode",{parentName:"a"},"dataProvider")),"."),(0,a.yg)("li",{parentName:"ul"},"When ",(0,a.yg)("inlineCode",{parentName:"li"},"action")," is ",(0,a.yg)("inlineCode",{parentName:"li"},'"clone"'),", it will be passed to the ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/providers/data-provider/#create-"},(0,a.yg)("inlineCode",{parentName:"a"},"create"))," and the ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/providers/data-provider/#getone-"},(0,a.yg)("inlineCode",{parentName:"a"},"getOne"))," method from the ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/providers/data-provider"},(0,a.yg)("inlineCode",{parentName:"a"},"dataProvider")),".")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  resource: "categories",\n});\n'))),(0,a.yg)("h3",{id:"id"},(0,a.yg)("inlineCode",{parentName:"h3"},"id")),(0,a.yg)(h,{id:"id",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"id")," is used for determining the record to ",(0,a.yg)("inlineCode",{parentName:"p"},"edit")," or ",(0,a.yg)("inlineCode",{parentName:"p"},"clone"),". By default, it uses the ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," from the route. It can be changed with the ",(0,a.yg)("inlineCode",{parentName:"p"},"setId")," function or ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," property."),(0,a.yg)("p",null,"It is useful when you want to ",(0,a.yg)("inlineCode",{parentName:"p"},"edit")," or ",(0,a.yg)("inlineCode",{parentName:"p"},"clone")," a ",(0,a.yg)("inlineCode",{parentName:"p"},"resource")," from a different page."),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"Note: ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," is required when ",(0,a.yg)("inlineCode",{parentName:"p"},'action: "edit"')," or ",(0,a.yg)("inlineCode",{parentName:"p"},'action: "clone"'),".")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  action: "edit", // or clone\n  resource: "categories",\n  id: 1, // <BASE_URL_FROM_DATA_PROVIDER>/categories/1\n});\n'))),(0,a.yg)("h3",{id:"redirect"},(0,a.yg)("inlineCode",{parentName:"h3"},"redirect")),(0,a.yg)(h,{id:"redirect",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"redirect")," is used for determining the page to redirect after the form is submitted. By default, it uses the ",(0,a.yg)("inlineCode",{parentName:"p"},"list"),". It can be changed with the ",(0,a.yg)("inlineCode",{parentName:"p"},"redirect")," property."),(0,a.yg)("p",null,"It can be set to ",(0,a.yg)("inlineCode",{parentName:"p"},'"show" | "edit" | "list" | "create"')," or ",(0,a.yg)("inlineCode",{parentName:"p"},"false")," to prevent the page from redirecting to the list page after the form is submitted."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  redirect: false,\n});\n"))),(0,a.yg)("h3",{id:"onmutationsuccess"},(0,a.yg)("inlineCode",{parentName:"h3"},"onMutationSuccess")),(0,a.yg)(h,{id:"onmutationsuccess",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"It's a callback function that will be called after the mutation is successful."),(0,a.yg)("p",null,"It receives the following parameters:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"data"),": Returned value from ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useCreate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useCreate"))," or ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useUpdate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useUpdate"))," depending on the ",(0,a.yg)("inlineCode",{parentName:"li"},"action"),"."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"variables"),": The variables passed to the mutation."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"context"),": react-query context.")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  onMutationSuccess: (data, variables, context) => {\n    console.log({ data, variables, context });\n  },\n});\n"))),(0,a.yg)("h3",{id:"onmutationerror"},(0,a.yg)("inlineCode",{parentName:"h3"},"onMutationError")),(0,a.yg)(h,{id:"onmutationerror",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"It's a callback function that will be called after the mutation is failed."),(0,a.yg)("p",null,"It receives the following parameters:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"data"),": Returned value from ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useCreate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useCreate"))," or ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useUpdate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useUpdate"))," depending on the ",(0,a.yg)("inlineCode",{parentName:"li"},"action"),"."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"variables"),": The variables passed to the mutation."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"context"),": react-query context.")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  onMutationError: (data, variables, context) => {\n    console.log({ data, variables, context });\n  },\n});\n"))),(0,a.yg)("h3",{id:"invalidates"},(0,a.yg)("inlineCode",{parentName:"h3"},"invalidates")),(0,a.yg)(h,{id:"invalidates",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"You can use it to manage the invalidations that will occur at the end of the mutation."),(0,a.yg)("p",null,"By default it's invalidates following queries from the current ",(0,a.yg)("inlineCode",{parentName:"p"},"resource"),":"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"on ",(0,a.yg)("inlineCode",{parentName:"li"},'"create"')," or ",(0,a.yg)("inlineCode",{parentName:"li"},'"clone"')," mode: ",(0,a.yg)("inlineCode",{parentName:"li"},'"list"')," and ",(0,a.yg)("inlineCode",{parentName:"li"},'"many"')),(0,a.yg)("li",{parentName:"ul"},"on ",(0,a.yg)("inlineCode",{parentName:"li"},'"edit"')," mode: ",(0,a.yg)("inlineCode",{parentName:"li"},'"list"'),'", ',(0,a.yg)("inlineCode",{parentName:"li"},'"many"')," and ",(0,a.yg)("inlineCode",{parentName:"li"},'"detail"'))),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  invalidates: ["list", "many", "detail"],\n});\n'))),(0,a.yg)("h3",{id:"dataprovidername"},(0,a.yg)("inlineCode",{parentName:"h3"},"dataProviderName")),(0,a.yg)(h,{id:"dataprovidername",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"If there is more than one ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProvider"),", you should use the ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProviderName")," that you will use.\nIt is useful when you want to use a different ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProvider")," for a specific resource."),(0,a.yg)("admonition",{type:"tip"},(0,a.yg)("p",{parentName:"admonition"},"If you want to use a different ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProvider")," on all resource pages, you can use the ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/components/refine-config/#dataprovidername"},(0,a.yg)("inlineCode",{parentName:"a"},"dataProvider")," prop ")," of the ",(0,a.yg)("inlineCode",{parentName:"p"},"<Refine>")," component.")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  dataProviderName: "second-data-provider",\n});\n'))),(0,a.yg)("h3",{id:"mutationmode"},(0,a.yg)("inlineCode",{parentName:"h3"},"mutationMode")),(0,a.yg)(h,{id:"mutationmode",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"Mutation mode determines which mode the mutation runs with. Mutations can run under three different modes: ",(0,a.yg)("inlineCode",{parentName:"p"},"pessimistic"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"optimistic")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"undoable"),". Default mode is ",(0,a.yg)("inlineCode",{parentName:"p"},"pessimistic"),".\nEach mode corresponds to a different type of user experience."),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"For more information about mutation modes, please check ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/advanced-tutorials/mutation-mode"},"Mutation Mode documentation")," page.")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  mutationMode: "undoable", // "pessimistic" | "optimistic" | "undoable",\n});\n'))),(0,a.yg)("h3",{id:"successnotification"},(0,a.yg)("inlineCode",{parentName:"h3"},"successNotification")),(0,a.yg)(h,{id:"successnotification",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/providers/notification-provider/"},(0,a.yg)("inlineCode",{parentName:"a"},"NotificationProvider"))," is required for this prop to work.")),(0,a.yg)("p",null,"After form is submitted successfully, ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," will call ",(0,a.yg)("inlineCode",{parentName:"p"},"open")," function from ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/providers/notification-provider/"},(0,a.yg)("inlineCode",{parentName:"a"},"NotificationProvider"))," to show a success notification. With this prop, you can customize the success notification."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  successNotification: (data, values, resource) => {\n    return {\n      message: `Post Successfully created with ${data.title}`,\n      description: "Success with no errors",\n      type: "success",\n    };\n  },\n});\n'))),(0,a.yg)("h3",{id:"errornotification"},(0,a.yg)("inlineCode",{parentName:"h3"},"errorNotification")),(0,a.yg)(h,{id:"errornotification",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/providers/notification-provider/"},(0,a.yg)("inlineCode",{parentName:"a"},"NotificationProvider"))," is required for this prop to work.")),(0,a.yg)("p",null,"After form is submit is failed, ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," will call ",(0,a.yg)("inlineCode",{parentName:"p"},"open")," function from ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/providers/notification-provider/"},(0,a.yg)("inlineCode",{parentName:"a"},"NotificationProvider"))," to show a success notification. With this prop, you can customize the success notification."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  errorNotification: (data, values, resource) => {\n    return {\n      message: `Something went wrong when deleting ${data.id}`,\n      description: "Error",\n      type: "error",\n    };\n  },\n});\n')),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json",metastring:'title="Default values"',title:'"Default','values"':!0},'{\n    "message": "Error when updating <resource-name> (status code: ${err.statusCode})" or "Error when creating <resource-name> (status code: ${err.statusCode})",\n    "description": "Error",\n    "type": "error",\n}\n'))),(0,a.yg)("h3",{id:"metadata"},(0,a.yg)("inlineCode",{parentName:"h3"},"metaData")),(0,a.yg)(h,{id:"metadata",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/general-concepts/#metadata"},(0,a.yg)("inlineCode",{parentName:"a"},"metaData"))," is used following two purposes:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"To pass additional information to data provider methods."),(0,a.yg)("li",{parentName:"ul"},"Generate GraphQL queries using plain JavaScript Objects (JSON). Please refer ",(0,a.yg)("a",{parentName:"li",href:"/docs/3.xx.xx/advanced-tutorials/data-provider/graphql/#edit-page"},"GraphQL")," for more information.")),(0,a.yg)("p",null,"In the following example, we pass the ",(0,a.yg)("inlineCode",{parentName:"p"},"headers")," property in the ",(0,a.yg)("inlineCode",{parentName:"p"},"metaData")," object to the ",(0,a.yg)("inlineCode",{parentName:"p"},"create")," method. With similar logic, you can pass any properties to specifically handle the data provider methods."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  metaData: {\n    headers: { "x-meta-data": "true" },\n  },\n});\n\nconst myDataProvider = {\n  //...\n  // highlight-start\n  create: async ({ resource, variables, metaData }) => {\n    const headers = metaData?.headers ?? {};\n    // highlight-end\n    const url = `${apiUrl}/${resource}`;\n\n    // highlight-next-line\n    const { data } = await httpClient.post(url, variables, { headers });\n\n    return {\n      data,\n    };\n  },\n  //...\n};\n'))),(0,a.yg)("h3",{id:"queryoptions"},(0,a.yg)("inlineCode",{parentName:"h3"},"queryOptions")),(0,a.yg)(h,{id:"queryoptions",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"Works only in ",(0,a.yg)("inlineCode",{parentName:"p"},'action: "edit"')," or ",(0,a.yg)("inlineCode",{parentName:"p"},'action: "clone"')," mode.")),(0,a.yg)("p",null,"in ",(0,a.yg)("inlineCode",{parentName:"p"},"edit")," or ",(0,a.yg)("inlineCode",{parentName:"p"},"clone")," mode, ",(0,a.yg)("strong",{parentName:"p"},"refine")," uses ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useOne/"},(0,a.yg)("inlineCode",{parentName:"a"},"useOne"))," hook to fetch data. You can pass ",(0,a.yg)("a",{parentName:"p",href:"https://tanstack.com/query/v4/docs/react/reference/useQuery"},(0,a.yg)("inlineCode",{parentName:"a"},"queryOptions"))," options by passing ",(0,a.yg)("inlineCode",{parentName:"p"},"queryOptions")," property."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  queryOptions: {\n    retry: 3,\n  },\n});\n"))),(0,a.yg)("h3",{id:"createmutationoptions"},(0,a.yg)("inlineCode",{parentName:"h3"},"createMutationOptions")),(0,a.yg)(h,{id:"createmutationoptions",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"This option is only available when ",(0,a.yg)("inlineCode",{parentName:"p"},'action: "create"')," or ",(0,a.yg)("inlineCode",{parentName:"p"},'action: "clone"'),".")),(0,a.yg)("p",null,"In ",(0,a.yg)("inlineCode",{parentName:"p"},"create")," or ",(0,a.yg)("inlineCode",{parentName:"p"},"clone")," mode, ",(0,a.yg)("strong",{parentName:"p"},"refine")," uses ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useCreate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useCreate"))," hook to create data. You can pass ",(0,a.yg)("a",{parentName:"p",href:"https://tanstack.com/query/v4/docs/react/reference/useMutation"},(0,a.yg)("inlineCode",{parentName:"a"},"mutationOptions"))," by passing ",(0,a.yg)("inlineCode",{parentName:"p"},"createMutationOptions")," property."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  createMutationOptions: {\n    retry: 3,\n  },\n});\n"))),(0,a.yg)("h3",{id:"updatemutationoptions"},(0,a.yg)("inlineCode",{parentName:"h3"},"updateMutationOptions")),(0,a.yg)(h,{id:"updatemutationoptions",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"This option is only available when ",(0,a.yg)("inlineCode",{parentName:"p"},'action: "edit"'),".")),(0,a.yg)("p",null,"In ",(0,a.yg)("inlineCode",{parentName:"p"},"edit")," mode, ",(0,a.yg)("strong",{parentName:"p"},"refine")," uses ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useUpdate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useUpdate"))," hook to update data. You can pass ",(0,a.yg)("a",{parentName:"p",href:"https://tanstack.com/query/v4/docs/react/reference/useMutation"},(0,a.yg)("inlineCode",{parentName:"a"},"mutationOptions"))," by passing ",(0,a.yg)("inlineCode",{parentName:"p"},"updateMutationOptions")," property."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  updateMutationOptions: {\n    retry: 3,\n  },\n});\n"))),(0,a.yg)("h3",{id:"livemode"},(0,a.yg)("inlineCode",{parentName:"h3"},"liveMode")),(0,a.yg)(h,{id:"livemode",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,'Whether to update data automatically ("auto") or not ("manual") if a related live event is received. It can be used to update and show data in Realtime throughout your app.\nFor more information about live mode, please check ',(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/providers/live-provider/#livemode"},"Live / Realtime")," page."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  liveMode: "auto",\n});\n'))),(0,a.yg)("h3",{id:"onliveevent"},(0,a.yg)("inlineCode",{parentName:"h3"},"onLiveEvent")),(0,a.yg)(h,{id:"onliveevent",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"The callback function that is executed when new events from a subscription are arrived."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  onLiveEvent: (event) => {\n    console.log(event);\n  },\n});\n"))),(0,a.yg)("h3",{id:"liveparams"},(0,a.yg)("inlineCode",{parentName:"h3"},"liveParams")),(0,a.yg)(h,{id:"liveparams",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"Params to pass to ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/providers/live-provider/#subscribe"},"liveProvider's")," subscribe method.")),(0,a.yg)("h2",{id:"return-values"},"Return Values"),(0,a.yg)("h3",{id:"queryresult"},(0,a.yg)("inlineCode",{parentName:"h3"},"queryResult")),(0,a.yg)(h,{id:"queryresult",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"If the ",(0,a.yg)("inlineCode",{parentName:"p"},"action")," is set to ",(0,a.yg)("inlineCode",{parentName:"p"},'"edit"')," or ",(0,a.yg)("inlineCode",{parentName:"p"},'"clone"')," or if a ",(0,a.yg)("inlineCode",{parentName:"p"},"resource")," with an ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," is provided, ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," will call ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useOne/"},(0,a.yg)("inlineCode",{parentName:"a"},"useOne"))," and set the returned values as the ",(0,a.yg)("inlineCode",{parentName:"p"},"queryResult")," property."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},"const { queryResult } = useForm();\n\nconst { data } = queryResult;\n"))),(0,a.yg)("h3",{id:"mutationresult"},(0,a.yg)("inlineCode",{parentName:"h3"},"mutationResult")),(0,a.yg)(h,{id:"mutationresult",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"When in ",(0,a.yg)("inlineCode",{parentName:"p"},'"create"')," or ",(0,a.yg)("inlineCode",{parentName:"p"},'"clone"')," mode, ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," will call ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useCreate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useCreate")),". When in ",(0,a.yg)("inlineCode",{parentName:"p"},'"edit"')," mode, it will call ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/data/useUpdate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useUpdate"))," and set the resulting values as the ",(0,a.yg)("inlineCode",{parentName:"p"},"mutationResult"),' property."'),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},"const { mutationResult } = useForm();\n\nconst { data } = mutationResult;\n"))),(0,a.yg)("h3",{id:"setid"},(0,a.yg)("inlineCode",{parentName:"h3"},"setId")),(0,a.yg)(h,{id:"setid",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," determine ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," from the router. If you want to change the ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," dynamically, you can use ",(0,a.yg)("inlineCode",{parentName:"p"},"setId")," function."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},"const { id, setId } = useForm();\n\nconst handleIdChange = (id: string) => {\n  setId(id);\n};\n\nreturn (\n  <div>\n    <input value={id} onChange={(e) => handleIdChange(e.target.value)} />\n  </div>\n);\n"))),(0,a.yg)("h3",{id:"redirect-1"},(0,a.yg)("inlineCode",{parentName:"h3"},"redirect")),(0,a.yg)(h,{id:"redirect-1",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,'"By default, after a successful mutation, ',(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," will ",(0,a.yg)("inlineCode",{parentName:"p"},"redirect")," to the ",(0,a.yg)("inlineCode",{parentName:"p"},'"list"')," page. To redirect to a different page, you can either use the ",(0,a.yg)("inlineCode",{parentName:"p"},"redirect")," function to programmatically specify the destination, or set the redirect ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/useForm/#redirect"},"property")," in the hook's options."),(0,a.yg)("p",null,"In the following example we will redirect to the ",(0,a.yg)("inlineCode",{parentName:"p"},'"show"')," page after a successful mutation."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'const { onFinish, redirect } = useForm();\n\n// --\n\nconst handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n  e.preventDefault();\n  const data = await onFinish(formValues);\n  redirect("show", data?.data?.id);\n};\n\n// --\n'))),(0,a.yg)("h3",{id:"onfinish"},(0,a.yg)("inlineCode",{parentName:"h3"},"onFinish")),(0,a.yg)(h,{id:"onfinish",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"onFinish")," is a function that is called when the form is submitted. It will call the appropriate mutation based on the ",(0,a.yg)("inlineCode",{parentName:"p"},"action")," property.\nYou can override the default behavior by passing an ",(0,a.yg)("inlineCode",{parentName:"p"},"onFinish")," function in the hook's options."),(0,a.yg)("p",null,"For example you can ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/useForm/#how-can-i-change-the-form-data-before-submitting-it-to-the-api"},"change values before sending to the API"),".")),(0,a.yg)("h3",{id:"formloading"},(0,a.yg)("inlineCode",{parentName:"h3"},"formLoading")),(0,a.yg)(h,{id:"formloading",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"Loading state of a modal. It's ",(0,a.yg)("inlineCode",{parentName:"p"},"true")," when ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," is currently being submitted or data is being fetched for the ",(0,a.yg)("inlineCode",{parentName:"p"},'"edit"')," or ",(0,a.yg)("inlineCode",{parentName:"p"},'"clone"')," mode.")),(0,a.yg)("h2",{id:"faq"},"FAQ"),(0,a.yg)("h3",{id:"how-can-invalidate-other-resources"},"How can Invalidate other resources?"),(0,a.yg)(h,{id:"how-can-invalidate-other-resources",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"You can invalidate other resources with help of ",(0,a.yg)("a",{parentName:"p",href:"/docs/3.xx.xx/api-reference/core/hooks/invalidate/useInvalidate/"},(0,a.yg)("inlineCode",{parentName:"a"},"useInvalidate"))," hook."),(0,a.yg)("p",null,"It is useful when you want to ",(0,a.yg)("inlineCode",{parentName:"p"},"invalidate")," other resources don't have relation with the current resource."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'import { useInvalidate, useForm } from "@pankod/refine-core";\n\nconst PostEdit = () => {\n  const invalidate = useInvalidate();\n\n  useForm({\n    onMutationSuccess: (data, variables, context) => {\n      invalidate({\n        resource: "users",\n        invalidates: ["resourceAll"],\n      });\n    },\n  });\n\n  // ---\n};\n'))),(0,a.yg)("h3",{id:"how-can-i-change-the-form-data-before-submitting-it-to-the-api"},"How can I change the form data before submitting it to the API?"),(0,a.yg)(h,{id:"how-can-i-change-the-form-data-before-submitting-it-to-the-api",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"You may need to modify the form data before it is sent to the API."),(0,a.yg)("p",null,"For example, Let's send the values we received from the user in two separate inputs, ",(0,a.yg)("inlineCode",{parentName:"p"},"name")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"surname"),", to the API as ",(0,a.yg)("inlineCode",{parentName:"p"},"fullName"),"."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/users/create.tsx"',title:'"src/users/create.tsx"'},'import React, { useState } from "react";\nimport { useForm } from "@pankod/refine-core";\n\nexport const UserCreate: React.FC = () => {\n  const [name, setName] = useState();\n  const [surname, setSurname] = useState();\n\n  const { onFinish } = useForm();\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    const fullName = `${name} ${surname}`;\n    onFinish({\n      fullName: fullName,\n      name,\n      surname,\n    });\n  };\n\n  return (\n    <form onSubmit={onSubmit}>\n      <input onChange={(e) => setName(e.target.value)} />\n      <input onChange={(e) => setSurname(e.target.value)} />\n      <button type="submit">Submit</button>\n    </form>\n  );\n};\n'))),(0,a.yg)("h2",{id:"api-reference"},"API Reference"),(0,a.yg)("h3",{id:"properties-1"},"Properties"),(0,a.yg)(h,{id:"properties-1",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)(f,{module:"@pankod/refine-core/useForm",mdxType:"PropsTable"}),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},(0,a.yg)("inlineCode",{parentName:"p"},"*"),": These props have default values in ",(0,a.yg)("inlineCode",{parentName:"p"},"RefineContext")," and can also be set on ",(0,a.yg)("strong",{parentName:"p"},"<",(0,a.yg)("a",{parentName:"strong",href:"/docs/3.xx.xx/api-reference/core/components/refine-config"},"Refine"),">")," component. ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm")," will use what is passed to ",(0,a.yg)("inlineCode",{parentName:"p"},"<Refine>")," as default but a local value will override it."))),(0,a.yg)("h3",{id:"type-parameters"},"Type Parameters"),(0,a.yg)(h,{id:"type-parameters",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Property"),(0,a.yg)("th",{parentName:"tr",align:null},"Desription"),(0,a.yg)("th",{parentName:"tr",align:null},"Default"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"TData"),(0,a.yg)("td",{parentName:"tr",align:null},"Result data of the query that extends ",(0,a.yg)("a",{parentName:"td",href:"/docs/3.xx.xx/api-reference/core/interfaceReferences#baserecord"},(0,a.yg)("inlineCode",{parentName:"a"},"BaseRecord"))),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("a",{parentName:"td",href:"/docs/3.xx.xx/api-reference/core/interfaceReferences#baserecord"},(0,a.yg)("inlineCode",{parentName:"a"},"BaseRecord")))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"TError"),(0,a.yg)("td",{parentName:"tr",align:null},"Custom error object that extends ",(0,a.yg)("a",{parentName:"td",href:"/docs/3.xx.xx/api-reference/core/interfaceReferences#httperror"},(0,a.yg)("inlineCode",{parentName:"a"},"HttpError"))),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("a",{parentName:"td",href:"/docs/3.xx.xx/api-reference/core/interfaceReferences#httperror"},(0,a.yg)("inlineCode",{parentName:"a"},"HttpError")))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"TVariables"),(0,a.yg)("td",{parentName:"tr",align:null},"Values for params."),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"{}")))))),(0,a.yg)("h3",{id:"return-values-1"},"Return values"),(0,a.yg)(h,{id:"return-values-1",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Property"),(0,a.yg)("th",{parentName:"tr",align:null},"Description"),(0,a.yg)("th",{parentName:"tr",align:null},"Type"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"onFinish"),(0,a.yg)("td",{parentName:"tr",align:null},"Triggers the mutation"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"(values: TVariables) => Promise<CreateResponse<TData>")," ","|"," ",(0,a.yg)("inlineCode",{parentName:"td"},"UpdateResponse<TData>")," ","|"," ",(0,a.yg)("inlineCode",{parentName:"td"},"void"),">")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"queryResult"),(0,a.yg)("td",{parentName:"tr",align:null},"Result of the query of a record"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("a",{parentName:"td",href:"https://react-query.tanstack.com/reference/useQuery"},(0,a.yg)("inlineCode",{parentName:"a"},"QueryObserverResult<T>")))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"mutationResult"),(0,a.yg)("td",{parentName:"tr",align:null},"Result of the mutation triggered by calling ",(0,a.yg)("inlineCode",{parentName:"td"},"onFinish")),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("a",{parentName:"td",href:"https://react-query.tanstack.com/reference/useMutation"},(0,a.yg)("inlineCode",{parentName:"a"},"UseMutationResult<T>")))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"formLoading"),(0,a.yg)("td",{parentName:"tr",align:null},"Loading state of form request"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"boolean"))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"id"),(0,a.yg)("td",{parentName:"tr",align:null},"Record id for ",(0,a.yg)("inlineCode",{parentName:"td"},"clone")," and ",(0,a.yg)("inlineCode",{parentName:"td"},"create")," action"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("a",{parentName:"td",href:"/docs/3.xx.xx/api-reference/core/interfaceReferences#basekey"},(0,a.yg)("inlineCode",{parentName:"a"},"BaseKey")))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"setId"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"id")," setter"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"Dispatch<SetStateAction<")," ",(0,a.yg)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,a.yg)("inlineCode",{parentName:"td"},"number")," ","|"," ",(0,a.yg)("inlineCode",{parentName:"td"},"undefined>>"))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"redirect"),(0,a.yg)("td",{parentName:"tr",align:null},"Redirect function for custom redirections"),(0,a.yg)("td",{parentName:"tr",align:null},"(redirect: ",(0,a.yg)("inlineCode",{parentName:"td"},'"list"'),"|",(0,a.yg)("inlineCode",{parentName:"td"},'"edit"'),"|",(0,a.yg)("inlineCode",{parentName:"td"},'"show"'),"|",(0,a.yg)("inlineCode",{parentName:"td"},'"create"'),"|"," ",(0,a.yg)("inlineCode",{parentName:"td"},"false")," ,idFromFunction?: ",(0,a.yg)("a",{parentName:"td",href:"/docs/3.xx.xx/api-reference/core/interfaceReferences#basekey"},(0,a.yg)("inlineCode",{parentName:"a"},"BaseKey")),"|",(0,a.yg)("inlineCode",{parentName:"td"},"undefined"),") => ",(0,a.yg)("inlineCode",{parentName:"td"},"data")))))),(0,a.yg)("h2",{id:"example"},"Example"),(0,a.yg)(h,{id:"example",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)(N,{path:"form-core-use-form",mdxType:"CodeSandboxExample"})))}C.isMDXComponent=!0}}]);