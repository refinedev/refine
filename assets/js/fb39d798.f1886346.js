"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[48563],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>c});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=p(n),c=r,k=m["".concat(s,".").concat(c)]||m[c]||u[c]||o;return n?a.createElement(k,i(i({ref:t},d),{},{components:n})):a.createElement(k,i({ref:t},d))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},35820:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>g,frontMatter:()=>l,metadata:()=>p,toc:()=>u});n(67294);var a=n(3905);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const l={title:"useForm",source:"packages/antd/src/hooks/form/useForm.ts"},s=void 0,p={unversionedId:"ui-integrations/ant-design/hooks/use-form/index",id:"ui-integrations/ant-design/hooks/use-form/index",title:"useForm",description:"useForm is used to manage forms. It returns the necessary properties and methods to control the Antd Form. It has been developed by using useForm imported from the @refinedev/core package.",source:"@site/docs/ui-integrations/ant-design/hooks/use-form/index.md",sourceDirName:"ui-integrations/ant-design/hooks/use-form",slug:"/ui-integrations/ant-design/hooks/use-form/",permalink:"/docs/ui-integrations/ant-design/hooks/use-form/",draft:!1,editUrl:"https://github.com/refinedev/refine/tree/master/documentation/docs/ui-integrations/ant-design/hooks/use-form/index.md",tags:[],version:"current",lastUpdatedBy:"Ali Emir \u015een",lastUpdatedAt:1704185464,formattedLastUpdatedAt:"Jan 2, 2024",frontMatter:{title:"useForm",source:"packages/antd/src/hooks/form/useForm.ts"},sidebar:"mainSidebar",previous:{title:"useSimpleList",permalink:"/docs/ui-integrations/ant-design/hooks/use-simple-list/"},next:{title:"useDrawerForm",permalink:"/docs/ui-integrations/ant-design/hooks/use-drawer-form/"}},d={},u=[{value:"Usage",id:"usage",level:2},{value:"Properties",id:"properties",level:2},{value:"action",id:"action",level:3},{value:"resource",id:"resource",level:3},{value:"id",id:"id",level:3},{value:"redirect",id:"redirect",level:3},{value:"onMutationSuccess",id:"onmutationsuccess",level:3},{value:"onMutationError",id:"onmutationerror",level:3},{value:"invalidates",id:"invalidates",level:3},{value:"dataProviderName",id:"dataprovidername",level:3},{value:"mutationMode",id:"mutationmode",level:3},{value:"successNotification",id:"successnotification",level:3},{value:"errorNotification",id:"errornotification",level:3},{value:"meta",id:"meta",level:3},{value:"queryMeta",id:"querymeta",level:3},{value:"mutationMeta",id:"mutationmeta",level:3},{value:"queryOptions",id:"queryoptions",level:3},{value:"createMutationOptions",id:"createmutationoptions",level:3},{value:"updateMutationOptions",id:"updatemutationoptions",level:3},{value:"warnWhenUnsavedChanges",id:"warnwhenunsavedchanges",level:3},{value:"submitOnEnter",id:"submitonenter",level:3},{value:"liveMode",id:"livemode",level:3},{value:"onLiveEvent",id:"onliveevent",level:3},{value:"liveParams",id:"liveparams",level:3},{value:"overtimeOptions",id:"overtimeoptions",level:3},{value:"autoSave",id:"autosave",level:3},{value:"enabled",id:"enabled",level:4},{value:"debounce",id:"debounce",level:4},{value:"onFinish",id:"onfinish",level:4},{value:"invalidateOnUnmount",id:"invalidateonunmount",level:4},{value:"Return Values",id:"return-values",level:2},{value:"form",id:"form",level:3},{value:"formProps",id:"formprops",level:3},{value:"onFinish",id:"onfinish-1",level:4},{value:"onValuesChange",id:"onvalueschange",level:4},{value:"onKeyUp",id:"onkeyup",level:4},{value:"initialValues",id:"initialvalues",level:4},{value:"saveButtonProps",id:"savebuttonprops",level:3},{value:"formLoading",id:"formloading",level:3},{value:"queryResult",id:"queryresult",level:3},{value:"mutationResult",id:"mutationresult",level:3},{value:"setId",id:"setid",level:3},{value:"redirect",id:"redirect-1",level:3},{value:"onFinish",id:"onfinish-2",level:3},{value:"overtime",id:"overtime",level:3},{value:"autoSaveProps",id:"autosaveprops",level:3},{value:"FAQ",id:"faq",level:2},{value:"How can Invalidate other resources?",id:"how-can-invalidate-other-resources",level:3},{value:"How can I change the form data before submitting it to the API?",id:"how-can-i-change-the-form-data-before-submitting-it-to-the-api",level:3},{value:"How to pass <code>meta</code> values only for the mutation or query?",id:"how-to-pass-meta-values-only-for-the-mutation-or-query",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Properties",id:"properties-1",level:3},{value:"Type Parameters",id:"type-parameters",level:3},{value:"Return values",id:"return-values-1",level:3},{value:"Example",id:"example",level:2}],m=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",t)},c=m("GeneralConceptsLink"),k=m("Tabs"),h=m("TabItem"),f=m("PropsTable"),N=m("CodeSandboxExample"),v={toc:u};function g(e){var{components:t}=e,n=i(e,["components"]);return(0,a.kt)("wrapper",o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},v,n),{components:t,mdxType:"MDXLayout"}),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:"live shared",live:!0,shared:!0},'import {\n  CloneButton as AntdCloneButton,\n  Create as AntdCreate,\n  EditButton as AntdEditButton,\n  List as AntdList,\n  useForm as useAntdForm,\n  useTable as useAntdTable,\n} from "@refinedev/antd";\nimport { Edit as AntdEdit, Form as AntdForm, Input as AntdInput, Space as AntdSpace, Table as AntdTable } from "antd";\n\ninterface IPost {\n  id: number;\n  title: string;\n  content: string;\n}\n\nconst PostList = () => {\n  const { tableProps } = useAntdTable();\n\n  return (\n    <AntdList>\n      <AntdTable {...tableProps} rowKey="id">\n        <AntdTable.Column dataIndex="id" title="ID" />\n        <AntdTable.Column dataIndex="title" title="Title" />\n        <AntdTable.Column\n          title="Actions"\n          dataIndex="actions"\n          render={(_, record) => (\n            <AntdSpace>\n              <AntdEditButton hideText size="small" recordItemId={record.id} />\n              <AntdCloneButton hideText size="small" recordItemId={record.id} />\n            </AntdSpace>\n          )}\n        />\n      </AntdTable>\n    </AntdList>\n  );\n};\n\nconst PostEdit = () => {\n  const { formProps, saveButtonProps } = useAntdForm();\n\n  return (\n    <AntdEdit saveButtonProps={saveButtonProps}>\n      <AntdForm {...formProps} layout="vertical">\n        <AntdForm.Item\n          label="Title"\n          name="title"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <AntdInput />\n        </AntdForm.Item>\n        <AntdForm.Item\n          label="Content"\n          name="content"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <AntdInput.TextArea />\n        </AntdForm.Item>\n      </AntdForm>\n    </AntdEdit>\n  );\n};\n\nconst PostCreate = () => {\n  const { formProps, saveButtonProps } = useAntdForm();\n\n  return (\n    <AntdCreate saveButtonProps={saveButtonProps}>\n      <AntdForm {...formProps} layout="vertical">\n        <AntdForm.Item\n          label="Title"\n          name="title"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <AntdInput />\n        </AntdForm.Item>\n        <AntdForm.Item\n          label="Content"\n          name="content"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <AntdInput.TextArea />\n        </AntdForm.Item>\n      </AntdForm>\n    </AntdCreate>\n  );\n};\n')),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," is used to manage forms. It returns the necessary properties and methods to control the ",(0,a.kt)("a",{parentName:"p",href:"https://ant.design/components/form/"},"Antd Form"),". It has been developed by using ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-form/"},(0,a.kt)("inlineCode",{parentName:"a"},"useForm"))," imported from the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/refinedev/refine/tree/master/packages/core"},"@refinedev/core")," package."),(0,a.kt)(c,{mdxType:"GeneralConceptsLink"}),(0,a.kt)("h2",{id:"usage"},"Usage"),(0,a.kt)("p",null,"We will show the basic usage of ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," by adding an editing form."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="pages/posts/edit.tsx"',title:'"pages/posts/edit.tsx"'},'// highlight-next-line\nimport { Edit, useForm } from "@refinedev/antd";\nimport { Form, Input, Select } from "antd";\n\nexport const PostEdit: React.FC = () => {\n  // highlight-next-line\n  const { formProps, saveButtonProps } = useForm<IPost>();\n\n  return (\n    // highlight-next-line\n    <Edit saveButtonProps={saveButtonProps}>\n      // highlight-next-line\n      <Form {...formProps} layout="vertical">\n        <Form.Item label="Title" name="title">\n          <Input />\n        </Form.Item>\n        <Form.Item label="Status" name="status">\n          <Select\n            options={[\n              {\n                label: "Published",\n                value: "published",\n              },\n              {\n                label: "Draft",\n                value: "draft",\n              },\n              {\n                label: "Rejected",\n                value: "rejected",\n              },\n            ]}\n          />\n        </Form.Item>\n      </Form>\n    </Edit>\n  );\n};\n\ninterface IPost {\n  id: number;\n  title: string;\n  status: "published" | "draft" | "rejected";\n}\n')),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"formProps")," includes all necessary values to manage Ant Design ",(0,a.kt)("a",{parentName:"p",href:"https://ant.design/components/form/"},"Form")," components."),(0,a.kt)("p",null,"In the example if you navigate to ",(0,a.kt)("inlineCode",{parentName:"p"},"/posts/edit/1234")," it will manage the data of the post with id of ",(0,a.kt)("inlineCode",{parentName:"p"},"1234")," in an editing context. See the ",(0,a.kt)("inlineCode",{parentName:"p"},"action")," section below on how ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," determines this is an editing context."),(0,a.kt)("p",null,"Since this is an edit form it will fill the form with the data of the post with the id of ",(0,a.kt)("inlineCode",{parentName:"p"},"1234")," and then the form will be ready to edit further and submit the changes."),(0,a.kt)("p",null,"Submit functionality is provided by ",(0,a.kt)("inlineCode",{parentName:"p"},"saveButtonProps")," which includes all of the necessary props for a button to submit a form including the automatically updating loading states."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," accepts type parameters for the record in use and for the response type of the mutation. ",(0,a.kt)("inlineCode",{parentName:"p"},"IPost")," in the example represents the record to edit. It is also used as the default type for mutation response."),(0,a.kt)("p",null,"If you want to show a form in a modal or drawer where necessary route params might not be there you can use the ",(0,a.kt)("a",{parentName:"p",href:"/docs/ui-integrations/ant-design/hooks/use-modal-form"},"useModalForm")," or the ",(0,a.kt)("a",{parentName:"p",href:"/docs/ui-integrations/ant-design/hooks/use-drawer-form"},"useDrawerForm")," hook."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"For more detailed usage examples, refer to the ",(0,a.kt)("a",{parentName:"p",href:"https://ant.design/components/form/"},"Ant Design Form")," documentation.")),(0,a.kt)("h2",{id:"properties"},"Properties"),(0,a.kt)("h3",{id:"action"},"action"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," can handle ",(0,a.kt)("inlineCode",{parentName:"p"},"edit"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"create")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"clone")," actions."),(0,a.kt)("p",null,"By default, it determines the ",(0,a.kt)("inlineCode",{parentName:"p"},"action")," from route. The action is inferred by matching the resource's action path with the current route."),(0,a.kt)("p",null,"It can be overridden by passing the ",(0,a.kt)("inlineCode",{parentName:"p"},"action")," prop where it isn't possible to determine the action from the route (e.g. when using form in a modal or using a custom route)."),(0,a.kt)(k,{defaultValue:"create",values:[{label:"create",value:"create"},{label:"edit",value:"edit"},{label:"clone",value:"clone"}],mdxType:"Tabs"},(0,a.kt)(h,{value:"create",mdxType:"TabItem"},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},'action: "create"')," is used for creating new records. ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," uses ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-create"},(0,a.kt)("inlineCode",{parentName:"a"},"useCreate"))," under the hood for mutations on create mode."),(0,a.kt)("p",null,"In the following example, we will show how to use ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," with ",(0,a.kt)("inlineCode",{parentName:"p"},'action: "create"'),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:"live url=http://localhost:3000/posts/create previewHeight=420px",live:!0,url:"http://localhost:3000/posts/create",previewHeight:"420px"},'setInitialRoutes(["/posts/create"]);\n\n// visible-block-start\nimport React from "react";\n\nimport { Create, useForm } from "@refinedev/antd";\nimport { Form, Input } from "antd";\n\ninterface IPost {\n  id: number;\n  title: string;\n  content: string;\n}\n\nconst PostCreatePage: React.FC = () => {\n  const { formProps, saveButtonProps } = useForm<IPost>();\n\n  return (\n    <Create saveButtonProps={saveButtonProps}>\n      <Form {...formProps} layout="vertical">\n        <Form.Item\n          label="Title"\n          name="title"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item\n          label="Content"\n          name="content"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Input.TextArea />\n        </Form.Item>\n      </Form>\n    </Create>\n  );\n};\n// visible-block-end\n\nsetRefineProps({\n  resources: [\n    {\n      name: "posts",\n      list: PostList,\n      create: PostCreatePage,\n      edit: PostEdit,\n    },\n  ],\n});\n\nrender(<RefineAntdDemo />);\n'))),(0,a.kt)(h,{value:"edit",mdxType:"TabItem"},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},'action: "edit"')," is used for editing an existing record. It requires the ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," for determining the record to edit. By default, it uses the ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," from the route but that can be changed with the ",(0,a.kt)("inlineCode",{parentName:"p"},"setId")," function or ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," property."),(0,a.kt)("p",null,"It fetches the record data according to the ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," with ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-one"},(0,a.kt)("inlineCode",{parentName:"a"},"useOne"))," and returns the ",(0,a.kt)("inlineCode",{parentName:"p"},"queryResult")," for you to fill the form. After the form is submitted, it updates the record with ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-update"},(0,a.kt)("inlineCode",{parentName:"a"},"useUpdate")),"."),(0,a.kt)("p",null,"In the following example, we will show how to use ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," with ",(0,a.kt)("inlineCode",{parentName:"p"},'action: "edit"'),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:"live url=http://localhost:3000/edit/123 previewHeight=420px",live:!0,url:"http://localhost:3000/edit/123",previewHeight:"420px"},'setInitialRoutes(["/posts/edit/123"]);\n\n// visible-block-start\nimport React from "react";\n\nimport { Edit, useForm } from "@refinedev/antd";\nimport { Form, Input } from "antd";\n\ninterface IPost {\n  id: number;\n  title: string;\n  content: string;\n}\n\nconst PostEditPage: React.FC = () => {\n  const { formProps, saveButtonProps } = useForm<IPost>();\n\n  return (\n    <Edit saveButtonProps={saveButtonProps}>\n      <Form {...formProps} layout="vertical">\n        <Form.Item\n          label="Title"\n          name="title"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item\n          label="Content"\n          name="content"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Input.TextArea />\n        </Form.Item>\n      </Form>\n    </Edit>\n  );\n};\n// visible-block-end\n\nsetRefineProps({\n  resources: [\n    {\n      name: "posts",\n      list: PostList,\n      create: PostCreate,\n      edit: PostEditPage,\n    },\n  ],\n});\n\nrender(<RefineAntdDemo />);\n'))),(0,a.kt)(h,{value:"clone",mdxType:"TabItem"},(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},'action: "clone"')," is used for cloning an existing record. It requires the ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," for determining the record to clone. By default, it uses the ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," from the route but that can be changed with the ",(0,a.kt)("inlineCode",{parentName:"p"},"setId")," function."),(0,a.kt)("p",null,"You can think ",(0,a.kt)("inlineCode",{parentName:"p"},"action:clone"),' like "save as". It is also similar to ',(0,a.kt)("inlineCode",{parentName:"p"},"action:edit")," but it creates a new record instead of updating the existing one."),(0,a.kt)("p",null,"It fetches the record data according to the ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," with ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-one"},(0,a.kt)("inlineCode",{parentName:"a"},"useOne"))," and returns the ",(0,a.kt)("inlineCode",{parentName:"p"},"queryResult")," for you to fill the form. After the form is submitted, it creates a new record with ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-create"},(0,a.kt)("inlineCode",{parentName:"a"},"useCreate")),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:"live url=http://localhost:3000/clone/123 previewHeight=420px",live:!0,url:"http://localhost:3000/clone/123",previewHeight:"420px"},'setInitialRoutes(["/posts/clone/123"]);\n\n// visible-block-start\nimport React from "react";\n\nimport { Create, useForm } from "@refinedev/antd";\nimport { Form, Input } from "antd";\n\ninterface IPost {\n  id: number;\n  title: string;\n  content: string;\n}\n\nconst PostCreatePage: React.FC = () => {\n  const { formProps, saveButtonProps } = useForm<IPost>();\n\n  return (\n    <Create saveButtonProps={saveButtonProps}>\n      <Form {...formProps} layout="vertical">\n        <Form.Item\n          label="Title"\n          name="title"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item\n          label="Content"\n          name="content"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Input.TextArea />\n        </Form.Item>\n      </Form>\n    </Create>\n  );\n};\n// visible-block-end\n\nsetRefineProps({\n  resources: [\n    {\n      name: "posts",\n      list: PostList,\n      create: PostCreatePage,\n      edit: PostEdit,\n    },\n  ],\n});\n\nrender(<RefineAntdDemo />);\n')))),(0,a.kt)("h3",{id:"resource"},"resource"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"resource")," will be passed to the ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/data-provider"},(0,a.kt)("inlineCode",{parentName:"a"},"dataProvider")),"'s method as a params. This parameter is usually used to as a API endpoint path but it all depends on how to handle the ",(0,a.kt)("inlineCode",{parentName:"p"},"resource")," in your ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/data-provider"},(0,a.kt)("inlineCode",{parentName:"a"},"dataProvider")),". By default it uses the inferred resource name from the route."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"For more information on how ",(0,a.kt)("inlineCode",{parentName:"p"},"resource")," is handled, refer to the ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/data-provider#creating-a-data-provider"},(0,a.kt)("inlineCode",{parentName:"a"},"creating a data provider")," section"))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"When ",(0,a.kt)("inlineCode",{parentName:"li"},"action")," is ",(0,a.kt)("inlineCode",{parentName:"li"},'"create"'),", it will be passed to the ",(0,a.kt)("a",{parentName:"li",href:"/docs/data/data-provider#create-"},(0,a.kt)("inlineCode",{parentName:"a"},"create"))," method from the ",(0,a.kt)("a",{parentName:"li",href:"/docs/data/data-provider"},(0,a.kt)("inlineCode",{parentName:"a"},"dataProvider")),"."),(0,a.kt)("li",{parentName:"ul"},"When ",(0,a.kt)("inlineCode",{parentName:"li"},"action")," is ",(0,a.kt)("inlineCode",{parentName:"li"},'"edit"'),", it will be passed to the ",(0,a.kt)("a",{parentName:"li",href:"/docs/data/data-provider#update-"},(0,a.kt)("inlineCode",{parentName:"a"},"update"))," and the ",(0,a.kt)("a",{parentName:"li",href:"/docs/data/data-provider#getone-"},(0,a.kt)("inlineCode",{parentName:"a"},"getOne"))," method from the ",(0,a.kt)("a",{parentName:"li",href:"/docs/data/data-provider"},(0,a.kt)("inlineCode",{parentName:"a"},"dataProvider")),"."),(0,a.kt)("li",{parentName:"ul"},"When ",(0,a.kt)("inlineCode",{parentName:"li"},"action")," is ",(0,a.kt)("inlineCode",{parentName:"li"},'"clone"'),", it will be passed to the ",(0,a.kt)("a",{parentName:"li",href:"/docs/data/data-provider#create-"},(0,a.kt)("inlineCode",{parentName:"a"},"create"))," and the ",(0,a.kt)("a",{parentName:"li",href:"/docs/data/data-provider#getone-"},(0,a.kt)("inlineCode",{parentName:"a"},"getOne"))," method from the ",(0,a.kt)("a",{parentName:"li",href:"/docs/data/data-provider"},(0,a.kt)("inlineCode",{parentName:"a"},"dataProvider")),".")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  resource: "categories",\n});\n')),(0,a.kt)("p",null,"If the ",(0,a.kt)("inlineCode",{parentName:"p"},"resource")," is passed, the ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," from the current URL will be ignored because it may belong to a different resource. To retrieve the ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," value from the current URL, use the ",(0,a.kt)("inlineCode",{parentName:"p"},"useParsed")," hook and pass the ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," value to the ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," hook."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'import { useForm } from "@refinedev/antd";\nimport { useParsed } from "@refinedev/core";\n\nconst { id } = useParsed();\n\nuseForm({\n  resource: "custom-resource",\n  id,\n});\n')),(0,a.kt)("p",null,"Or you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"setId")," function to set the ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," value."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'import { useForm } from "@refinedev/antd";\n\nconst { setId } = useForm({\n  resource: "custom-resource",\n});\n\nsetId("123");\n')),(0,a.kt)("p",null,"If you have multiple resources with the same name, you can pass the ",(0,a.kt)("inlineCode",{parentName:"p"},"identifier")," instead of the ",(0,a.kt)("inlineCode",{parentName:"p"},"name")," of the resource. It will only be used as the main matching key for the resource, data provider methods will still work with the ",(0,a.kt)("inlineCode",{parentName:"p"},"name")," of the resource defined in the ",(0,a.kt)("inlineCode",{parentName:"p"},"<Refine/>")," component."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"For more information, refer to the ",(0,a.kt)("a",{parentName:"p",href:"/docs/core/refine-component#identifier"},(0,a.kt)("inlineCode",{parentName:"a"},"identifier")," section of the ",(0,a.kt)("inlineCode",{parentName:"a"},"<Refine/>")," component documentation ","\u2192"))),(0,a.kt)("h3",{id:"id"},"id"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"id")," is used for determining the record to ",(0,a.kt)("inlineCode",{parentName:"p"},"edit")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"clone"),". By default the ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," is determinted from the route. It can be changed with the ",(0,a.kt)("inlineCode",{parentName:"p"},"setId")," function or the ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," property. Keep in mind that ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," is required for ",(0,a.kt)("inlineCode",{parentName:"p"},'action: "edit"')," and ",(0,a.kt)("inlineCode",{parentName:"p"},'action: "clone"'),"."),(0,a.kt)("p",null,"It is useful when you want to ",(0,a.kt)("inlineCode",{parentName:"p"},"edit")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"clone")," a ",(0,a.kt)("inlineCode",{parentName:"p"},"resource")," from a different page."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  action: "edit", // or clone\n  resource: "categories",\n  id: 1, // <BASE_URL_FROM_DATA_PROVIDER>/categories/1\n});\n')),(0,a.kt)("h3",{id:"redirect"},"redirect"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"redirect")," is used for determining the page to redirect after the form is submitted. By default, it uses the ",(0,a.kt)("inlineCode",{parentName:"p"},"list"),". It can be changed with the ",(0,a.kt)("inlineCode",{parentName:"p"},"redirect")," property."),(0,a.kt)("p",null,"It can be set to ",(0,a.kt)("inlineCode",{parentName:"p"},'"show" | "edit" | "list" | "create"')," or ",(0,a.kt)("inlineCode",{parentName:"p"},"false")," to prevent the page from redirecting to the list page after the form is submitted."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  redirect: false,\n});\n")),(0,a.kt)("h3",{id:"onmutationsuccess"},"onMutationSuccess"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"onMutationSuccess")," is a callback function that will be called after a successful mutation."),(0,a.kt)("p",null,"It receives the following parameters:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"data"),": Returned value from ",(0,a.kt)("a",{parentName:"li",href:"/docs/data/hooks/use-create"},(0,a.kt)("inlineCode",{parentName:"a"},"useCreate"))," or ",(0,a.kt)("a",{parentName:"li",href:"/docs/data/hooks/use-update"},(0,a.kt)("inlineCode",{parentName:"a"},"useUpdate"))," depending on the ",(0,a.kt)("inlineCode",{parentName:"li"},"action"),"."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"variables"),": The variables passed to the mutation."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"context"),": react-query context."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"isAutoSave"),": It's a boolean value that indicates whether the mutation is triggered by the ",(0,a.kt)("a",{parentName:"li",href:"#autoSave"},(0,a.kt)("inlineCode",{parentName:"a"},"autoSave"))," feature or not.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  onMutationSuccess: (data, variables, context, isAutoSave) => {\n    console.log({ data, variables, context, isAutoSave });\n  },\n});\n")),(0,a.kt)("h3",{id:"onmutationerror"},"onMutationError"),(0,a.kt)("p",null,"It's a callback function that will be called after a mutation fails."),(0,a.kt)("p",null,"It receives the following parameters:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"data"),": Returned value from ",(0,a.kt)("a",{parentName:"li",href:"/docs/data/hooks/use-create"},(0,a.kt)("inlineCode",{parentName:"a"},"useCreate"))," or ",(0,a.kt)("a",{parentName:"li",href:"/docs/data/hooks/use-update"},(0,a.kt)("inlineCode",{parentName:"a"},"useUpdate"))," depending on the ",(0,a.kt)("inlineCode",{parentName:"li"},"action"),"."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"variables"),": The variables passed to the mutation."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"context"),": react-query context."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"isAutoSave"),": It's a boolean value that indicates whether the mutation is triggered by the ",(0,a.kt)("a",{parentName:"li",href:"#autoSave"},(0,a.kt)("inlineCode",{parentName:"a"},"autoSave"))," feature or not.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  onMutationError: (data, variables, context, isAutoSave) => {\n    console.log({ data, variables, context, isAutoSave });\n  },\n});\n")),(0,a.kt)("h3",{id:"invalidates"},"invalidates"),(0,a.kt)("p",null,"You can use ",(0,a.kt)("inlineCode",{parentName:"p"},"invalidates")," to manage the invalidations that will occur at the end of the mutation."),(0,a.kt)("p",null,"By default it's invalidates following queries from the current ",(0,a.kt)("inlineCode",{parentName:"p"},"resource"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"on ",(0,a.kt)("inlineCode",{parentName:"li"},"create")," or ",(0,a.kt)("inlineCode",{parentName:"li"},"clone")," mode: ",(0,a.kt)("inlineCode",{parentName:"li"},'"list"')," and ",(0,a.kt)("inlineCode",{parentName:"li"},'"many"')),(0,a.kt)("li",{parentName:"ul"},"on ",(0,a.kt)("inlineCode",{parentName:"li"},"edit")," mode: ",(0,a.kt)("inlineCode",{parentName:"li"},'"list"'),", ",(0,a.kt)("inlineCode",{parentName:"li"},'"many"')," and ",(0,a.kt)("inlineCode",{parentName:"li"},'"detail"'))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  invalidates: ["list", "many", "detail"],\n});\n')),(0,a.kt)("h3",{id:"dataprovidername"},"dataProviderName"),(0,a.kt)("p",null,"If there is more than one ",(0,a.kt)("inlineCode",{parentName:"p"},"dataProvider"),", you should pass the name of the ",(0,a.kt)("inlineCode",{parentName:"p"},"dataProvider")," you are going to use to ",(0,a.kt)("inlineCode",{parentName:"p"},"dataProviderName"),"."),(0,a.kt)("p",null,"If you want to use a different ",(0,a.kt)("inlineCode",{parentName:"p"},"dataProvider")," on all resource pages, you can use the ",(0,a.kt)("a",{parentName:"p",href:"/docs/core/refine-component#dataprovidername"},(0,a.kt)("inlineCode",{parentName:"a"},"dataProvider")," prop")," of the ",(0,a.kt)("inlineCode",{parentName:"p"},"<Refine>")," component."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  dataProviderName: "second-data-provider",\n});\n')),(0,a.kt)("h3",{id:"mutationmode"},"mutationMode"),(0,a.kt)("p",null,"Mutation mode determines which mode the mutation runs with. Mutations can run under three different modes: ",(0,a.kt)("inlineCode",{parentName:"p"},"pessimistic"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"optimistic")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"undoable"),". Default mode is ",(0,a.kt)("inlineCode",{parentName:"p"},"pessimistic"),".\nEach mode corresponds to a different type of user experience."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  mutationMode: "undoable", // "pessimistic" | "optimistic" | "undoable",\n});\n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"For more information about mutation modes, refer to the ",(0,a.kt)("a",{parentName:"p",href:"/docs/advanced-tutorials/mutation-mode"},"Mutation Mode documentation"))),(0,a.kt)("h3",{id:"successnotification"},"successNotification"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("a",{parentName:"p",href:"/docs/notification/notification-provider"},(0,a.kt)("inlineCode",{parentName:"a"},"NotificationProvider"))," is required for this prop to work.")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"successNotification")," allows you to customize the success notification that pops up after the form is submitted, and ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," calls the ",(0,a.kt)("inlineCode",{parentName:"p"},"open")," function from ",(0,a.kt)("a",{parentName:"p",href:"/docs/notification/notification-provider"},(0,a.kt)("inlineCode",{parentName:"a"},"NotificationProvider")),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  successNotification: (data, values, resource) => {\n    return {\n      message: `Post Successfully created with ${data.title}`,\n      description: "Success with no errors",\n      type: "success",\n    };\n  },\n});\n')),(0,a.kt)("h3",{id:"errornotification"},"errorNotification"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("a",{parentName:"p",href:"/docs/notification/notification-provider"},(0,a.kt)("inlineCode",{parentName:"a"},"NotificationProvider"))," is required for this prop to work.")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"errorNotification")," allows you to customize the error notification that pops up after the form submission fails, and ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," calls the ",(0,a.kt)("inlineCode",{parentName:"p"},"open")," function from ",(0,a.kt)("a",{parentName:"p",href:"/docs/notification/notification-provider"},(0,a.kt)("inlineCode",{parentName:"a"},"NotificationProvider")),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  action: "create",\n  resource: "post",\n  errorNotification: (data, values, resource) => {\n    return {\n      message: `Something went wrong when deleting ${data.id}`,\n      description: "Error",\n      type: "error",\n    };\n  },\n});\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Default values"',title:'"Default','values"':!0},'{\n    "message": "Error when updating <resource-name> (status code: ${err.statusCode})" or "Error when creating <resource-name> (status code: ${err.statusCode})",\n    "description": "Error",\n    "type": "error",\n}\n')),(0,a.kt)("h3",{id:"meta"},"meta"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"meta")," is a special property that can be used to pass additional information to data provider methods for the following purposes:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Customizing the data provider methods for specific use cases."),(0,a.kt)("li",{parentName:"ul"},"Generating GraphQL queries using plain JavaScript Objects (JSON)."),(0,a.kt)("li",{parentName:"ul"},"Providing additional parameters to the redirection path after the form is submitted.")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"For more information, refer to the ",(0,a.kt)("a",{parentName:"p",href:"/docs/guides-concepts/general-concepts/#meta-concept"},(0,a.kt)("inlineCode",{parentName:"a"},"meta")," section of the General Concepts documentation ","\u2192"))),(0,a.kt)("p",null,"In the following example, we pass the ",(0,a.kt)("inlineCode",{parentName:"p"},"headers")," property in the ",(0,a.kt)("inlineCode",{parentName:"p"},"meta")," object to the ",(0,a.kt)("inlineCode",{parentName:"p"},"create")," method. With similar logic, you can pass any properties to specifically handle the data provider methods."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  meta: {\n    headers: { "x-meta-data": "true" },\n  },\n});\n\nconst myDataProvider = {\n  //...\n  // highlight-start\n  create: async ({ resource, variables, meta }) => {\n    const headers = meta?.headers ?? {};\n    // highlight-end\n    const url = `${apiUrl}/${resource}`;\n\n    // highlight-next-line\n    const { data } = await httpClient.post(url, variables, { headers });\n\n    return {\n      data,\n    };\n  },\n  //...\n};\n')),(0,a.kt)("h3",{id:"querymeta"},"queryMeta"),(0,a.kt)("p",null,"In addition to the ",(0,a.kt)("a",{parentName:"p",href:"#meta"},(0,a.kt)("inlineCode",{parentName:"a"},"meta"))," property, you can also pass the ",(0,a.kt)("inlineCode",{parentName:"p"},"queryMeta")," property to the ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," hook. This property is used to pass additional information to the ",(0,a.kt)("inlineCode",{parentName:"p"},"useOne")," hook that is used to fetch the data in the ",(0,a.kt)("inlineCode",{parentName:"p"},"edit")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"clone")," modes. This is useful when you have to apply different values to the ",(0,a.kt)("inlineCode",{parentName:"p"},"useOne")," hook from the ",(0,a.kt)("inlineCode",{parentName:"p"},"useCreate")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"useUpdate")," hook mutations."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  queryMeta: {\n    querySpecificValue: "someValue",\n  },\n});\n')),(0,a.kt)("p",null,"If you have overlapping properties in both ",(0,a.kt)("inlineCode",{parentName:"p"},"meta")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"queryMeta"),", the ",(0,a.kt)("inlineCode",{parentName:"p"},"queryMeta")," property will be used."),(0,a.kt)("h3",{id:"mutationmeta"},"mutationMeta"),(0,a.kt)("p",null,"In addition to the ",(0,a.kt)("a",{parentName:"p",href:"#meta"},(0,a.kt)("inlineCode",{parentName:"a"},"meta"))," property, you can also pass the ",(0,a.kt)("inlineCode",{parentName:"p"},"mutationMeta")," property to the ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," hook. This property is used to pass additional information to the ",(0,a.kt)("inlineCode",{parentName:"p"},"useCreate")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"useUpdate")," hook mutations. This is useful when you have to apply different values to the ",(0,a.kt)("inlineCode",{parentName:"p"},"useCreate")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"useUpdate")," hooks from the ",(0,a.kt)("inlineCode",{parentName:"p"},"useOne")," hook query."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  mutationMeta: {\n    mutationSpecificValue: "someValue",\n  },\n});\n')),(0,a.kt)("p",null,"If you have overlapping properties in both ",(0,a.kt)("inlineCode",{parentName:"p"},"meta")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"mutationMeta"),", the ",(0,a.kt)("inlineCode",{parentName:"p"},"mutationMeta")," property will be used."),(0,a.kt)("h3",{id:"queryoptions"},"queryOptions"),(0,a.kt)("p",null,"In the ",(0,a.kt)("inlineCode",{parentName:"p"},"edit")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"clone")," modes, Refine uses ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-one"},(0,a.kt)("inlineCode",{parentName:"a"},"useOne"))," hook to fetch data. You can pass the ",(0,a.kt)("a",{parentName:"p",href:"https://tanstack.com/query/v4/docs/react/reference/useQuery"},(0,a.kt)("inlineCode",{parentName:"a"},"queryOptions"))," options by passing the ",(0,a.kt)("inlineCode",{parentName:"p"},"queryOptions")," property. This property will only work in the ",(0,a.kt)("inlineCode",{parentName:"p"},"edit")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"clone")," actions."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  queryOptions: {\n    retry: 3,\n  },\n});\n")),(0,a.kt)("h3",{id:"createmutationoptions"},"createMutationOptions"),(0,a.kt)("p",null,"In the ",(0,a.kt)("inlineCode",{parentName:"p"},"create")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"clone")," modes, Refine uses the ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-create"},(0,a.kt)("inlineCode",{parentName:"a"},"useCreate"))," hook to create data. You can pass ",(0,a.kt)("a",{parentName:"p",href:"https://tanstack.com/query/v4/docs/react/reference/useMutation"},(0,a.kt)("inlineCode",{parentName:"a"},"mutationOptions"))," by passing the ",(0,a.kt)("inlineCode",{parentName:"p"},"createMutationOptions")," property. This property will only work in the ",(0,a.kt)("inlineCode",{parentName:"p"},"create")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"clone")," actions."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  createMutationOptions: {\n    retry: 3,\n  },\n});\n")),(0,a.kt)("h3",{id:"updatemutationoptions"},"updateMutationOptions"),(0,a.kt)("p",null,"In the ",(0,a.kt)("inlineCode",{parentName:"p"},"edit")," mode, Refine uses ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-update"},(0,a.kt)("inlineCode",{parentName:"a"},"useUpdate"))," hook to update data. You can pass ",(0,a.kt)("a",{parentName:"p",href:"https://tanstack.com/query/v4/docs/react/reference/useMutation"},(0,a.kt)("inlineCode",{parentName:"a"},"mutationOptions"))," by passing ",(0,a.kt)("inlineCode",{parentName:"p"},"updateMutationOptions")," property. This property will only work in the ",(0,a.kt)("inlineCode",{parentName:"p"},"edit")," action."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  updateMutationOptions: {\n    retry: 3,\n  },\n});\n")),(0,a.kt)("h3",{id:"warnwhenunsavedchanges"},"warnWhenUnsavedChanges"),(0,a.kt)("p",null,"When set to true, ",(0,a.kt)("inlineCode",{parentName:"p"},"warnWhenUnsavedChanges")," shows a warning when the user tries to leave the page with unsaved changes. It is used to prevent the user from accidentally leaving the page. It is ",(0,a.kt)("inlineCode",{parentName:"p"},"false")," by default"),(0,a.kt)("p",null,"It can be set globally in ",(0,a.kt)("a",{parentName:"p",href:"/docs/core/refine-component#warnwhenunsavedchanges"},(0,a.kt)("inlineCode",{parentName:"a"},"Refine config")),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  warnWhenUnsavedChanges: true,\n});\n")),(0,a.kt)("h3",{id:"submitonenter"},"submitOnEnter"),(0,a.kt)("p",null,"When it's true, ",(0,a.kt)("inlineCode",{parentName:"p"},"submitOnEnter")," will submit the form when the enter key is pressed. It can be used to prevent the user from accidentally leaving the page. It is ",(0,a.kt)("inlineCode",{parentName:"p"},"false")," by default"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  submitOnEnter: true,\n});\n")),(0,a.kt)("h3",{id:"livemode"},"liveMode"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("a",{parentName:"p",href:"/docs/realtime/live-provider"},(0,a.kt)("inlineCode",{parentName:"a"},"LiveProvider"))," is required for this prop to work.")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"liveMode"),' is where you can choose whether to update data automatically ("auto") or not ("manual") if a related live event is received. It can be used to update and show data in real time throughout your app.'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  liveMode: "auto",\n});\n')),(0,a.kt)("h3",{id:"onliveevent"},"onLiveEvent"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("a",{parentName:"p",href:"/docs/realtime/live-provider"},(0,a.kt)("inlineCode",{parentName:"a"},"LiveProvider"))," is required for this prop to work.")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"onLiveEvent")," is the callback function that is executed when new events from a subscription are arrived."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  onLiveEvent: (event) => {\n    console.log(event);\n  },\n});\n")),(0,a.kt)("h3",{id:"liveparams"},"liveParams"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("a",{parentName:"p",href:"/docs/realtime/live-provider"},(0,a.kt)("inlineCode",{parentName:"a"},"LiveProvider"))," is required for this prop to work.")),(0,a.kt)("p",null,"Params to pass to ",(0,a.kt)("a",{parentName:"p",href:"/docs/realtime/live-provider#subscribe"},"liveProvider"),"'s subscribe method."),(0,a.kt)("h3",{id:"overtimeoptions"},"overtimeOptions"),(0,a.kt)("p",null,"If you want loading overtime for the request, you can pass the ",(0,a.kt)("inlineCode",{parentName:"p"},"overtimeOptions")," prop to the this hook. It is useful when you want to show a loading indicator when the request takes too long.\n",(0,a.kt)("inlineCode",{parentName:"p"},"interval")," is the time interval in milliseconds. ",(0,a.kt)("inlineCode",{parentName:"p"},"onInterval")," is the function that will be called on each interval."),(0,a.kt)("p",null,"Return ",(0,a.kt)("inlineCode",{parentName:"p"},"overtime")," object from this hook. ",(0,a.kt)("inlineCode",{parentName:"p"},"elapsedTime")," is the elapsed time in milliseconds. It becomes ",(0,a.kt)("inlineCode",{parentName:"p"},"undefined")," when the request is completed."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"const { overtime } = useForm({\n  //...\n  overtimeOptions: {\n    interval: 1000,\n    onInterval(elapsedInterval) {\n      console.log(elapsedInterval);\n    },\n  },\n});\n\nconsole.log(overtime.elapsedTime); // undefined, 1000, 2000, 3000 4000, ...\n\n// You can use it like this:\n{\n  elapsedTime >= 4000 && <div>this takes a bit longer than expected</div>;\n}\n")),(0,a.kt)("h3",{id:"autosave"},"autoSave"),(0,a.kt)("p",null,"If you want to save the form automatically after some delay when user edits the form, you can pass true to ",(0,a.kt)("inlineCode",{parentName:"p"},"autoSave.enabled")," prop."),(0,a.kt)("p",null,"By default the ",(0,a.kt)("inlineCode",{parentName:"p"},"autoSave")," feature does not invalidate queries. However, you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"invalidateOnUnmount")," prop to invalidate queries upon unmount."),(0,a.kt)("p",null,"It also supports ",(0,a.kt)("a",{parentName:"p",href:"#onmutationsuccess"},(0,a.kt)("inlineCode",{parentName:"a"},"onMutationSuccess"))," and ",(0,a.kt)("a",{parentName:"p",href:"#onmutationerror"},(0,a.kt)("inlineCode",{parentName:"a"},"onMutationError"))," callback functions. You can use ",(0,a.kt)("inlineCode",{parentName:"p"},"isAutoSave")," parameter to determine whether the mutation is triggered by ",(0,a.kt)("inlineCode",{parentName:"p"},"autoSave")," or not."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"autoSave")," feature operates exclusively in ",(0,a.kt)("inlineCode",{parentName:"p"},"edit")," mode. Users can take advantage of this feature while editing data, as changes are automatically saved in editing mode. However, when creating new data, manual saving is still required."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"onMutationSuccess")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"onMutationError")," callbacks will be called after the mutation is successful or failed."),(0,a.kt)("h4",{id:"enabled"},"enabled"),(0,a.kt)("p",null,"To enable the ",(0,a.kt)("inlineCode",{parentName:"p"},"autoSave")," feature, set the ",(0,a.kt)("inlineCode",{parentName:"p"},"enabled")," parameter to ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),". By default, it is ",(0,a.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  autoSave: {\n    enabled: true,\n  },\n});\n")),(0,a.kt)("h4",{id:"debounce"},"debounce"),(0,a.kt)("p",null,"Set the debounce time for the ",(0,a.kt)("inlineCode",{parentName:"p"},"autoSave")," prop. By default, it is ",(0,a.kt)("inlineCode",{parentName:"p"},"1000")," milliseconds."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  autoSave: {\n    enabled: true,\n    // highlight-next-line\n    debounce: 2000,\n  },\n});\n")),(0,a.kt)("h4",{id:"onfinish"},"onFinish"),(0,a.kt)("p",null,"If you want to modify the data before sending it to the server, you can use ",(0,a.kt)("inlineCode",{parentName:"p"},"onFinish")," callback function."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'useForm({\n  autoSave: {\n    enabled: true,\n    // highlight-start\n    onFinish: (values) => {\n      return {\n        foo: "bar",\n        ...values,\n      };\n    },\n    // highlight-end\n  },\n});\n')),(0,a.kt)("h4",{id:"invalidateonunmount"},"invalidateOnUnmount"),(0,a.kt)("p",null,"This prop is useful when you want to invalidate the ",(0,a.kt)("inlineCode",{parentName:"p"},"list"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"many")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"detail")," queries from the current resource when the hook is unmounted. By default, it invalidates the ",(0,a.kt)("inlineCode",{parentName:"p"},"list"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"many")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"detail")," queries associated with the current resource. Also, You can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"invalidates")," prop to select which queries to invalidate. By default, it is ",(0,a.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"useForm({\n  autoSave: {\n    enabled: true,\n    // highlight-next-line\n    invalidateOnUnmount: true,\n  },\n});\n")),(0,a.kt)("h2",{id:"return-values"},"Return Values"),(0,a.kt)("p",null,"All ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-form/"},(0,a.kt)("inlineCode",{parentName:"a"},"Refine Core's useForm"))," return values also available in ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm"),"."),(0,a.kt)("h3",{id:"form"},"form"),(0,a.kt)("p",null,"It's a ",(0,a.kt)("a",{parentName:"p",href:"https://ant.design/components/form"},(0,a.kt)("inlineCode",{parentName:"a"},"<Form>"))," instance. You can refer to ",(0,a.kt)("a",{parentName:"p",href:"https://ant.design/components/form#api"},"Antd ",(0,a.kt)("inlineCode",{parentName:"a"},"<Form>")," documentation")," for more information."),(0,a.kt)("h3",{id:"formprops"},"formProps"),(0,a.kt)("p",null,"It's required to manage ",(0,a.kt)("a",{parentName:"p",href:"https://ant.design/components/form"},(0,a.kt)("inlineCode",{parentName:"a"},"<Form>"))," state and actions."),(0,a.kt)("h4",{id:"onfinish-1"},"onFinish"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"onFinish")," is called when the form is submitted. It will call the appropriate mutation based on the ",(0,a.kt)("inlineCode",{parentName:"p"},"action")," property."),(0,a.kt)("p",null,"The only difference between ",(0,a.kt)("inlineCode",{parentName:"p"},"onFinish")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"formProps.onFinish")," is that passing a value to ",(0,a.kt)("inlineCode",{parentName:"p"},"formProps.onFinish"),"is mandatory, whereas ",(0,a.kt)("inlineCode",{parentName:"p"},"onFinish")," can automatically retrieve values from the form state."),(0,a.kt)("h4",{id:"onvalueschange"},"onValuesChange"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"warnWhenUnsavedChanges")," feature requires this function to work. If you want to override the form's ",(0,a.kt)("inlineCode",{parentName:"p"},"onValuesChange"),", keep this in mind."),(0,a.kt)("h4",{id:"onkeyup"},"onKeyUp"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"onKeyUp")," is a function that will be called when a key is pressed. By default, it will call ",(0,a.kt)("inlineCode",{parentName:"p"},"form.submit()")," function when the pressed key is ",(0,a.kt)("inlineCode",{parentName:"p"},"Enter"),"."),(0,a.kt)("h4",{id:"initialvalues"},"initialValues"),(0,a.kt)("p",null,"When ",(0,a.kt)("inlineCode",{parentName:"p"},"action")," is set to ",(0,a.kt)("inlineCode",{parentName:"p"},'"edit"')," or ",(0,a.kt)("inlineCode",{parentName:"p"},'"clone"'),", ",(0,a.kt)("inlineCode",{parentName:"p"},"initialValues")," will be set to the ",(0,a.kt)("inlineCode",{parentName:"p"},"data")," returned from ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-one"},(0,a.kt)("inlineCode",{parentName:"a"},"useOne"))," hook."),(0,a.kt)("h3",{id:"savebuttonprops"},"saveButtonProps"),(0,a.kt)("p",null,"It contains all the props needed by the ",(0,a.kt)("inlineCode",{parentName:"p"},'"submit"')," button within the form (disabled,loading etc.). When ",(0,a.kt)("inlineCode",{parentName:"p"},"saveButtonProps.onClick")," is called, it triggers ",(0,a.kt)("inlineCode",{parentName:"p"},"form.submit()"),". You can manually pass these props to your custom button."),(0,a.kt)("h3",{id:"formloading"},"formLoading"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"formLoading")," is the loading state of a modal. It's ",(0,a.kt)("inlineCode",{parentName:"p"},"true")," when ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," is currently being submitted or data is being fetched for the ",(0,a.kt)("inlineCode",{parentName:"p"},'"edit"')," or ",(0,a.kt)("inlineCode",{parentName:"p"},'"clone"')," mode."),(0,a.kt)("h3",{id:"queryresult"},"queryResult"),(0,a.kt)("p",null,"If the ",(0,a.kt)("inlineCode",{parentName:"p"},"action")," is set to ",(0,a.kt)("inlineCode",{parentName:"p"},'"edit"')," or ",(0,a.kt)("inlineCode",{parentName:"p"},'"clone"')," or if a ",(0,a.kt)("inlineCode",{parentName:"p"},"resource")," with an ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," is provided, ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," will call ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-one"},(0,a.kt)("inlineCode",{parentName:"a"},"useOne"))," and set the returned values as the ",(0,a.kt)("inlineCode",{parentName:"p"},"queryResult")," property."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"const { queryResult } = useForm();\n\nconst { data } = queryResult;\n")),(0,a.kt)("h3",{id:"mutationresult"},"mutationResult"),(0,a.kt)("p",null,"When in ",(0,a.kt)("inlineCode",{parentName:"p"},'"create"')," or ",(0,a.kt)("inlineCode",{parentName:"p"},'"clone"')," mode, ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," will call ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-create"},(0,a.kt)("inlineCode",{parentName:"a"},"useCreate")),". When in ",(0,a.kt)("inlineCode",{parentName:"p"},'"edit"')," mode, it will call ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-update"},(0,a.kt)("inlineCode",{parentName:"a"},"useUpdate"))," and set the resulting values as the ",(0,a.kt)("inlineCode",{parentName:"p"},"mutationResult")," property."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"const { mutationResult } = useForm();\n\nconst { data } = mutationResult;\n")),(0,a.kt)("h3",{id:"setid"},"setId"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," determine the ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," from the router. If you want to change the ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," dynamically, you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"setId")," function."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"const { id, setId } = useForm();\n\nconst handleIdChange = (id: string) => {\n  setId(id);\n};\n\nreturn (\n  <div>\n    <input value={id} onChange={(e) => handleIdChange(e.target.value)} />\n  </div>\n);\n")),(0,a.kt)("h3",{id:"redirect-1"},"redirect"),(0,a.kt)("p",null,"By default, after a successful mutation, ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," will redirect to the ",(0,a.kt)("inlineCode",{parentName:"p"},'"list"')," page. To redirect to a different page, you can either use the ",(0,a.kt)("inlineCode",{parentName:"p"},"redirect")," function to programmatically specify the destination, or set the ",(0,a.kt)("inlineCode",{parentName:"p"},"redirect")," ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-form/#redirect"},"property")," in the hook's options."),(0,a.kt)("p",null,"In the following example, we redirect to the ",(0,a.kt)("inlineCode",{parentName:"p"},'"show"')," page after a successful mutation:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'const { onFinish, redirect } = useForm();\n\n// --\n\nconst handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n  e.preventDefault();\n  const data = await onFinish(formValues);\n  redirect("show", data?.data?.id);\n};\n\n// --\n')),(0,a.kt)("h3",{id:"onfinish-2"},"onFinish"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"onFinish")," is a function that is called when the form is submitted. It will call the appropriate mutation based on the ",(0,a.kt)("inlineCode",{parentName:"p"},"action")," property.\nYou can override the default behavior by passing an ",(0,a.kt)("inlineCode",{parentName:"p"},"onFinish")," function in the hook's options."),(0,a.kt)("p",null,"For example you can ",(0,a.kt)("a",{parentName:"p",href:"/docs/ui-integrations/ant-design/hooks/use-form#how-can-i-change-the-form-data-before-submitting-it-to-the-api"},"change values before sending to the API"),"."),(0,a.kt)("h3",{id:"overtime"},"overtime"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"overtime")," object is returned from this hook. ",(0,a.kt)("inlineCode",{parentName:"p"},"elapsedTime")," is the elapsed time in milliseconds. It becomes ",(0,a.kt)("inlineCode",{parentName:"p"},"undefined")," when the request is completed."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"const { overtime } = useForm();\n\nconsole.log(overtime.elapsedTime); // undefined, 1000, 2000, 3000 4000, ...\n")),(0,a.kt)("h3",{id:"autosaveprops"},"autoSaveProps"),(0,a.kt)("p",null,"If ",(0,a.kt)("inlineCode",{parentName:"p"},"autoSave")," is enabled, this hook returns ",(0,a.kt)("inlineCode",{parentName:"p"},"autoSaveProps")," object with ",(0,a.kt)("inlineCode",{parentName:"p"},"data"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"error"),", and ",(0,a.kt)("inlineCode",{parentName:"p"},"status")," properties from mutation."),(0,a.kt)("h2",{id:"faq"},"FAQ"),(0,a.kt)("h3",{id:"how-can-invalidate-other-resources"},"How can Invalidate other resources?"),(0,a.kt)("p",null,"You can invalidate other resources with help of ",(0,a.kt)("a",{parentName:"p",href:"/docs/data/hooks/use-invalidate"},(0,a.kt)("inlineCode",{parentName:"a"},"useInvalidate"))," hook."),(0,a.kt)("p",null,"It is useful when you want to ",(0,a.kt)("inlineCode",{parentName:"p"},"invalidate")," other resources don't have relation with the current resource."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'import { useForm } from "@refinedev/antd";\n\nconst PostEdit = () => {\n  const invalidate = useInvalidate();\n\n  useForm({\n    // highlight-start\n    onMutationSuccess: (data, variables, context) => {\n      invalidate({\n        resource: "users",\n        invalidates: ["resourceAll"],\n      });\n    },\n    // highlight-end\n  });\n\n  // ---\n};\n')),(0,a.kt)("h3",{id:"how-can-i-change-the-form-data-before-submitting-it-to-the-api"},"How can I change the form data before submitting it to the API?"),(0,a.kt)("p",null,"Here is an example where we modify the form data before submit:"),(0,a.kt)("p",null,"We need to send the values we received from the user in two separate inputs, ",(0,a.kt)("inlineCode",{parentName:"p"},"name")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"surname"),", to the API as ",(0,a.kt)("inlineCode",{parentName:"p"},"fullName"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="pages/user/create.tsx"',title:'"pages/user/create.tsx"'},'import { Create, useForm } from "@refinedev/antd";\nimport { Form, Input } from "antd";\nimport React from "react";\n\nexport const UserCreate: React.FC = () => {\n  // highlight-next-line\n  const { formProps, saveButtonProps, onFinish } = useForm();\n\n  // highlight-start\n  const handleOnFinish = (values) => {\n    onFinish({\n      fullName: `${values.name} ${values.surname}`,\n    });\n  };\n  // highlight-end\n\n  return (\n    <Create saveButtonProps={saveButtonProps}>\n      // highlight-next-line\n      <Form {...formProps} onFinish={handleOnFinish} layout="vertical">\n        <Form.Item label="Name" name="name">\n          <Input />\n        </Form.Item>\n        <Form.Item label="Surname" name="surname">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Create>\n  );\n};\n')),(0,a.kt)("h3",{id:"how-to-pass-meta-values-only-for-the-mutation-or-query"},"How to pass ",(0,a.kt)("inlineCode",{parentName:"h3"},"meta")," values only for the mutation or query?"),(0,a.kt)("p",null,"You can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"meta")," property to pass common values to the mutation and the query. But in some cases, you may want to pass different values to the mutation and the query. To do this, you can use ",(0,a.kt)("inlineCode",{parentName:"p"},"mutationMeta")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"queryMeta")," properties."),(0,a.kt)("h2",{id:"api-reference"},"API Reference"),(0,a.kt)("h3",{id:"properties-1"},"Properties"),(0,a.kt)(f,{module:"@refinedev/antd/useForm",mdxType:"PropsTable"}),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("inlineCode",{parentName:"p"},"*"),": These props have default values in ",(0,a.kt)("inlineCode",{parentName:"p"},"RefineContext")," and can also be set on ",(0,a.kt)("strong",{parentName:"p"},"<",(0,a.kt)("a",{parentName:"strong",href:"/docs/core/refine-component"},"Refine"),">")," component. ",(0,a.kt)("inlineCode",{parentName:"p"},"useForm")," will use what is passed to ",(0,a.kt)("inlineCode",{parentName:"p"},"<Refine>")," as default but a local value will override it.")),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"type-parameters"},"Type Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Property"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"),(0,a.kt)("th",{parentName:"tr",align:null},"Type"),(0,a.kt)("th",{parentName:"tr",align:null},"Default"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"TQueryFnData"),(0,a.kt)("td",{parentName:"tr",align:null},"Result data returned by the query function. Extends ",(0,a.kt)("a",{parentName:"td",href:"/docs/core/interface-references#baserecord"},(0,a.kt)("inlineCode",{parentName:"a"},"BaseRecord"))),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/docs/core/interface-references#baserecord"},(0,a.kt)("inlineCode",{parentName:"a"},"BaseRecord"))),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/docs/core/interface-references#baserecord"},(0,a.kt)("inlineCode",{parentName:"a"},"BaseRecord")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"TError"),(0,a.kt)("td",{parentName:"tr",align:null},"Custom error object that extends ",(0,a.kt)("a",{parentName:"td",href:"/docs/core/interface-references#httperror"},(0,a.kt)("inlineCode",{parentName:"a"},"HttpError"))),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/docs/core/interface-references#httperror"},(0,a.kt)("inlineCode",{parentName:"a"},"HttpError"))),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/docs/core/interface-references#httperror"},(0,a.kt)("inlineCode",{parentName:"a"},"HttpError")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"TVariables"),(0,a.kt)("td",{parentName:"tr",align:null},"Values for params."),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"{}")),(0,a.kt)("td",{parentName:"tr",align:null})),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"TData"),(0,a.kt)("td",{parentName:"tr",align:null},"Result data returned by the ",(0,a.kt)("inlineCode",{parentName:"td"},"select")," function. Extends ",(0,a.kt)("a",{parentName:"td",href:"/docs/core/interface-references#baserecord"},(0,a.kt)("inlineCode",{parentName:"a"},"BaseRecord")),". If not specified, the value of ",(0,a.kt)("inlineCode",{parentName:"td"},"TQueryFnData")," will be used as the default value."),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/docs/core/interface-references#baserecord"},(0,a.kt)("inlineCode",{parentName:"a"},"BaseRecord"))),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"TQueryFnData"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"TResponse"),(0,a.kt)("td",{parentName:"tr",align:null},"Result data returned by the mutation function. Extends ",(0,a.kt)("a",{parentName:"td",href:"/docs/core/interface-references#baserecord"},(0,a.kt)("inlineCode",{parentName:"a"},"BaseRecord")),". If not specified, the value of ",(0,a.kt)("inlineCode",{parentName:"td"},"TData")," will be used as the default value."),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/docs/core/interface-references#baserecord"},(0,a.kt)("inlineCode",{parentName:"a"},"BaseRecord"))),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"TData"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"TResponseError"),(0,a.kt)("td",{parentName:"tr",align:null},"Custom error object that extends ",(0,a.kt)("a",{parentName:"td",href:"/docs/core/interface-references#httperror"},(0,a.kt)("inlineCode",{parentName:"a"},"HttpError")),". If not specified, the value of ",(0,a.kt)("inlineCode",{parentName:"td"},"TError")," will be used as the default value."),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/docs/core/interface-references#httperror"},(0,a.kt)("inlineCode",{parentName:"a"},"HttpError"))),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"TError"))))),(0,a.kt)("h3",{id:"return-values-1"},"Return values"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Property"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"),(0,a.kt)("th",{parentName:"tr",align:null},"Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"onFinish"),(0,a.kt)("td",{parentName:"tr",align:null},"Triggers the mutation"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"(values?: TVariables) => Promise<CreateResponse<TData>")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},"UpdateResponse<TData>")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},"void"),">")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"form"),(0,a.kt)("td",{parentName:"tr",align:null},"Ant Design form instance"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://ant.design/components/form/#FormInstance"},(0,a.kt)("inlineCode",{parentName:"a"},"FormInstance")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"formProps"),(0,a.kt)("td",{parentName:"tr",align:null},"Ant Design form props"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://ant.design/components/form/#Form"},(0,a.kt)("inlineCode",{parentName:"a"},"FormProps")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"saveButtonProps"),(0,a.kt)("td",{parentName:"tr",align:null},"Props for a submit button"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"{ disabled: boolean; onClick: () => void; loading?:boolean; }"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"redirect"),(0,a.kt)("td",{parentName:"tr",align:null},"Redirect function for custom redirections"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"(redirect:")," ",(0,a.kt)("inlineCode",{parentName:"td"},'"list"'),"|",(0,a.kt)("inlineCode",{parentName:"td"},'"edit"'),"|",(0,a.kt)("inlineCode",{parentName:"td"},'"show"'),"|",(0,a.kt)("inlineCode",{parentName:"td"},'"create"'),"|"," ",(0,a.kt)("inlineCode",{parentName:"td"},"false")," ,",(0,a.kt)("inlineCode",{parentName:"td"},"idFromFunction?:")," ",(0,a.kt)("a",{parentName:"td",href:"/docs/core/interface-references#basekey"},(0,a.kt)("inlineCode",{parentName:"a"},"BaseKey")),"|",(0,a.kt)("inlineCode",{parentName:"td"},"undefined"),") => ",(0,a.kt)("inlineCode",{parentName:"td"},"data"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"queryResult"),(0,a.kt)("td",{parentName:"tr",align:null},"Result of the query of a record"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://react-query.tanstack.com/reference/useQuery"},(0,a.kt)("inlineCode",{parentName:"a"},"QueryObserverResult<T>")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"mutationResult"),(0,a.kt)("td",{parentName:"tr",align:null},"Result of the mutation triggered by submitting the form"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://react-query.tanstack.com/reference/useMutation"},(0,a.kt)("inlineCode",{parentName:"a"},"UseMutationResult<T>")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"formLoading"),(0,a.kt)("td",{parentName:"tr",align:null},"Loading state of form request"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"boolean"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"id"),(0,a.kt)("td",{parentName:"tr",align:null},"Record id for ",(0,a.kt)("inlineCode",{parentName:"td"},"clone")," and ",(0,a.kt)("inlineCode",{parentName:"td"},"create")," action"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"/docs/core/interface-references#basekey"},(0,a.kt)("inlineCode",{parentName:"a"},"BaseKey")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"setId"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"id")," setter"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"Dispatch<SetStateAction<")," ",(0,a.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},"number")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},"undefined>>"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"overtime"),(0,a.kt)("td",{parentName:"tr",align:null},"Overtime loading props"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"{ elapsedTime?: number }"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"autoSaveProps"),(0,a.kt)("td",{parentName:"tr",align:null},"Auto save props"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"{ data: UpdateResponse<TData>")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},"undefined, error: HttpError")," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},'null, status: "loading"')," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},'"error"')," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},'"idle"')," ","|"," ",(0,a.kt)("inlineCode",{parentName:"td"},'"success" }'))))),(0,a.kt)("h2",{id:"example"},"Example"),(0,a.kt)(N,{path:"form-antd-use-form",mdxType:"CodeSandboxExample"}))}g.isMDXComponent=!0}}]);