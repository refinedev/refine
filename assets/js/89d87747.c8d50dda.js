"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[14743],{58860:(e,t,n)=>{n.d(t,{xA:()=>d,yg:()=>u});var a=n(37953);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=p(n),m=r,u=c["".concat(l,".").concat(m)]||c[m]||g[m]||o;return n?a.createElement(u,i(i({ref:t},d),{},{components:n})):a.createElement(u,i({ref:t},d))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7236:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>y,frontMatter:()=>s,metadata:()=>p,toc:()=>c});n(37953);var a=n(58860);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const s={title:"Building a Complete React CRUD App with Airtable",description:"We will be building a Complete React CRUD application using Refine and Airtable, a famous backend service to illustrate how you can power your applications with refine.",slug:"react-crud-app-airtable",authors:"peter_osah",tags:["refine","react","tutorial"],image:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-01-18-airtable-crud-app/social.png",hide_table_of_contents:!1},l=void 0,p={permalink:"/blog/react-crud-app-airtable",source:"@site/blog/2023-01-17-airtable-crud-app.md",title:"Building a Complete React CRUD App with Airtable",description:"We will be building a Complete React CRUD application using Refine and Airtable, a famous backend service to illustrate how you can power your applications with refine.",date:"2023-01-17T00:00:00.000Z",formattedDate:"January 17, 2023",tags:[{label:"refine",permalink:"/blog/tags/refine"},{label:"react",permalink:"/blog/tags/react"},{label:"tutorial",permalink:"/blog/tags/tutorial"}],readingTime:29.635,hasTruncateMarker:!1,authors:[{name:"Peter Osah",title:"Web Developer",imageURL:"/img/generic-profile.png",key:"peter_osah"}],frontMatter:{title:"Building a Complete React CRUD App with Airtable",description:"We will be building a Complete React CRUD application using Refine and Airtable, a famous backend service to illustrate how you can power your applications with refine.",slug:"react-crud-app-airtable",authors:"peter_osah",tags:["refine","react","tutorial"],image:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-01-18-airtable-crud-app/social.png",hide_table_of_contents:!1},prevItem:{title:"refine vs RedwoodJS",permalink:"/blog/refine-vs-redwood-js"},nextItem:{title:"How to Use Docker EntryPoint",permalink:"/blog/docker-entrypoint"},relatedPosts:[{title:"How to use Material UI Select in React",description:"We'll discover the Material UI select component with examples",permalink:"/blog/material-ui-select-component",formattedDate:"December 20, 2024",authors:[{name:"Doro Onome",title:"Software Developer",url:"https://github.com/Nomzy-kush",imageURL:"https://github.com/Nomzy-kush.png",key:"doro_onome"}],readingTime:10.94,date:"2024-12-20T00:00:00.000Z"},{title:"Essentials of Managing Form State with React Hook Form",description:"This post covers the essentials of form state management with React Hook Form library.",permalink:"/blog/react-hook-form",formattedDate:"November 6, 2024",authors:[{name:"Abdullah Numan",title:"Fullstack Developer",url:"https://github.com/anewman15/",imageURL:"https://github.com/anewman15.png",key:"abdullah_numan"}],readingTime:32.685,date:"2024-11-06T00:00:00.000Z"},{title:"Using React Hot Toast as a Notification Provider for CRUD apps",description:"We'll introduce create a custom notification provider using the react-hot-toast library.",permalink:"/blog/react-hot-toast",formattedDate:"August 20, 2024",authors:[{name:"David Omotayo",title:"Frontend developer",url:"https://github.com/david4473",imageURL:"https://github.com/david4473.png",key:"david_omotayo"}],readingTime:15.12,date:"2024-08-20T00:00:00.000Z"}],authorPosts:[{title:"Building components with Radix UI",description:"This post explains with examples how the keyof operator is used to define advanced types in TypeScript.",permalink:"/blog/radix-ui",formattedDate:"November 6, 2024",authors:[{name:"Peter Osah",title:"Web Developer",imageURL:"/img/generic-profile.png",key:"peter_osah"}],readingTime:15.085,date:"2024-11-06T00:00:00.000Z"},{title:"An Intro to Server Components in React",description:"We will discuss what React server components are as well as how to incorporate them into building applications.",permalink:"/blog/react-server-components",formattedDate:"October 7, 2024",authors:[{name:"Peter Osah",title:"Web Developer",imageURL:"/img/generic-profile.png",key:"peter_osah"}],readingTime:16.635,date:"2024-10-07T00:00:00.000Z"},{title:"Creating testable React applications with Playwright",description:"We'll take a look at how to create testable React applications with Playwright.",permalink:"/blog/playwright-react",formattedDate:"June 4, 2024",authors:[{name:"Peter Osah",title:"Web Developer",imageURL:"/img/generic-profile.png",key:"peter_osah"}],readingTime:9.29,date:"2024-06-04T00:00:00.000Z"}]},d={authorsImageUrls:[void 0]},c=[{value:"Introduction",id:"introduction",level:2},{value:"Why Use Refine?",id:"why-use-refine",level:2},{value:"What is Airtable?",id:"what-is-airtable",level:2},{value:"Setup Airtable",id:"setup-airtable",level:3},{value:"Bootstrapping the Refine Application",id:"bootstrapping-the-refine-application",level:2},{value:"Implementing CRUD operations",id:"implementing-crud-operations",level:2},{value:"Creating pages for CRUD operations",id:"creating-pages-for-crud-operations",level:3},{value:"Listing posts records",id:"listing-posts-records",level:3},{value:"Handling relationships",id:"handling-relationships",level:4},{value:"Viewing a single post record",id:"viewing-a-single-post-record",level:3},{value:"Creating post record",id:"creating-post-record",level:3},{value:"Editing post record",id:"editing-post-record",level:3},{value:"Deleting post record",id:"deleting-post-record",level:3},{value:"Adding Pagination",id:"adding-pagination",level:3},{value:"Conclusion",id:"conclusion",level:2},{value:"Live CodeSandbox Example",id:"live-codesandbox-example",level:2}],g=(m="CodeSandboxExample",function(e){return console.warn("Component "+m+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.yg)("div",e)});var m;const u={toc:c},h="wrapper";function y(e){var{components:t}=e,n=i(e,["components"]);return(0,a.yg)(h,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},u,n),{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h2",{id:"introduction"},"Introduction"),(0,a.yg)("p",null,"Before the existence of ",(0,a.yg)("strong",{parentName:"p"},"Refine"),", building CRUD applications and data-intensive apps in React had always involved a painstaking repetitive process. ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/refinedev/refine"},"Refine")," eliminates this by providing a set of helper hooks, components, and service providers that are decoupled and independent of the UI components and business logic used in your application. This provides room for customizability and speed in building your application."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Refine"),"'s service providers make sure that you can easily connect to any custom REST, GraphQL backend as well as most BAAS(Backend as a service) such as ",(0,a.yg)("a",{parentName:"p",href:"https://www.airtable.com/"},"Airtable"),". In this article, we will be building a simple React CRUD application using ",(0,a.yg)("strong",{parentName:"p"},"Refine")," and Airtable, a famous backend service to illustrate how you can power your applications with ",(0,a.yg)("strong",{parentName:"p"},"Refine"),"."),(0,a.yg)("p",null,"Steps we'll cover:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#introduction"},"Introduction")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#why-use-refine"},"Why Use Refine?")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#what-is-airtable"},"What is Airtable?"),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#setup-airtable"},"Setup Airtable")))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#bootstrapping-the-refine-application"},"Bootstrapping the Refine Application")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#implementing-crud-operations"},"Implementing CRUD operations"),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#creating-pages-for-crud-operations"},"Creating pages for CRUD operations")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#listing-posts-records"},"Listing posts records"),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#handling-relationships"},"Handling relationships")))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#viewing-a-single-post-record"},"Viewing a single post record")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#creating-post-record"},"Creating post record")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#editing-post-record"},"Editing post record")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#deleting-post-record"},"Deleting post record")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#adding-pagination"},"Adding Pagination")))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#conclusion"},"Conclusion")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#live-codesandbox-example"},"Live CodeSandbox Example"))),(0,a.yg)("h2",{id:"why-use-refine"},"Why Use Refine?"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://github.com/refinedev/refine"},"Refine")," is an open-source front-end development framework based on React that allows developers to create and deploy web applications in record time and with unrivaled flexibility. By design, Refine decouples UI from frontend application logic to give developers complete styling and customization control."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Refine"),"'s can be used in the development of data-intensive applications such as admin panels and dashboards; as well as an option for building public-facing applications."),(0,a.yg)("p",null,"It can also connect to any REST or GraphQL backend service and includes support for NestJs CRUD, Airtable, Strapi, Supabase, and others out of the box and comes with powerful, enterprise-grade UI frameworks: Ant Design, Material UI, Chakra UI and Mantine which support any UI-Kit as well as custom(headless) design."),(0,a.yg)("h2",{id:"what-is-airtable"},"What is Airtable?"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://www.airtable.com/"},"Airtable")," is a simple cloud database platform that uses spreadsheets to implement database features. It is a low-code application that offers a straightforward user interface for creating and sharing relational databases. It assists users in managing and displaying their data. It also includes an easy-to-use dashboard that allows users to effectively manage the databases they've created. We will be using Airtable to power our React CRUD application."),(0,a.yg)("h3",{id:"setup-airtable"},"Setup Airtable"),(0,a.yg)("p",null,"To use Airtable, we will have to sign up for Airtable. To sign up, visit ",(0,a.yg)("a",{parentName:"p",href:"https://airtable.com/signup"},"here"),"."),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-01-18-airtable-crud-app/signup.jpeg",alt:"react crud app airtable"}),(0,a.yg)("br",null),(0,a.yg)("br",null),(0,a.yg)("p",null,"After signup, you will be redirected to the dashboard from where you can create a base"),(0,a.yg)("br",null),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-01-18-airtable-crud-app/create_base.jpeg",alt:"react crud app airtable"}),(0,a.yg)("br",null),(0,a.yg)("p",null,"On the dashboard, we will create a base. In Airtable, A base is like a singular database that can contain records. For this article, we will create a blog base that will accommodate blog posts for the application we will be building."),(0,a.yg)("p",null,"To create a base, click ",(0,a.yg)("strong",{parentName:"p"},"Add a base"),". On creating a base, we will create a table called ",(0,a.yg)("strong",{parentName:"p"},"posts")," which will hold the posts' data."),(0,a.yg)("br",null),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-01-18-airtable-crud-app/create_table.jpeg",alt:"react crud app airtable"}),(0,a.yg)("br",null),(0,a.yg)("br",null),(0,a.yg)("p",null,"We will create a table called ",(0,a.yg)("strong",{parentName:"p"},"categories")," which will hold the categories' data which we will link to the category field on the ",(0,a.yg)("strong",{parentName:"p"},"posts")," table."),(0,a.yg)("br",null),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-01-18-airtable-crud-app/create_categories.png",alt:"react crud app airtable"}),(0,a.yg)("br",null),(0,a.yg)("p",null,"We will also populate the tables with contents."),(0,a.yg)("h2",{id:"bootstrapping-the-refine-application"},"Bootstrapping the Refine Application"),(0,a.yg)("p",null,"For this article, we will be using the ",(0,a.yg)("inlineCode",{parentName:"p"},"create refine-app"),". to create our Refine application. In other to use this, Run the following command below:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},"npm create refine-app@latest <name of your application>\n")),(0,a.yg)("p",null,"After running the command, you will be directed to the CLI wizard. Select the following options to complete CLI wizard:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"\u2714 Downloaded remote source successfully.\n\u2714 Choose a project template \xb7 Refine(Vite)\n\u2714 What would you like to name your project?: \xb7 refine-airtable\n\u2714 Choose your backend service to connect: \xb7 Airtable\n\u2714 Do you want to use a UI Framework?: \xb7 Headless\n\u2714 Do you want to add example pages?: \xb7 no\n\u2714 Do you need any Authentication logic?: \xb7 none\n\u2714 Do you need i18n (Internationalization) support?: \xb7 no\n\u2714 Choose a package manager: \xb7 npm\n")),(0,a.yg)("br",null),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Refine")," is headless by design. This means that it does not come with a UI framework by default. However, it supports various UI frameworks such as Ant Design, Material UI, Chakra UI and Mantine For this article, we will be using headless structure to build our React CRUD app."),(0,a.yg)("p",null,"On selecting these options, the CLI will bootstrap a Refine application with the Airtable provider."),(0,a.yg)("p",null,"After installation, we will run the following command:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},"npm run dev\n")),(0,a.yg)("p",null,"After running the command, the ",(0,a.yg)("strong",{parentName:"p"},"Refine")," application should be up and running. Visit http://localhost:5173 to access it."),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-01-18-airtable-crud-app/welcome.jpg",alt:"react crud app airtable"}),(0,a.yg)("br",null),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},"The ",(0,a.yg)("inlineCode",{parentName:"strong"},"<Refine  />")," component"),": This component is the entry point of a Refine app. This is where we add the configurations the application needs.")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},"DataProvider"),": A ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/providers/data-provider/"},"DataProvider")," in Refine is represented as a ",(0,a.yg)("a",{parentName:"p",href:"https://react.dev/learn/passing-data-deeply-with-context"},"React context")," provider in the Refine core package which enables a Refine app to interact with an API. It also enables the application to easily consume various APIs and data services. A data provider sends HTTP requests and receives responses via ",(0,a.yg)("strong",{parentName:"p"},"predefined")," ",(0,a.yg)("strong",{parentName:"p"},"methods")," shown below."))),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'import { Refine } from "@refinedev/core";\nimport dataProvider from "@refinedev/airtable";\n\nconst API_TOKEN = "your-airtable-api-token";\nconst BASE_ID = "your-airtable-base-id";\n\nconst App: React.FC = () => {\n  return <Refine dataProvider={dataProvider(API_TOKEN, BASE_ID)} />;\n};\n')),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/providers/data-provider/"},"Refer to the Data Provider documentation for more information. \u2192 ")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"resources"),": A Resource can be referred to as the building block of a Refine application. A resource connects the Data/API layer with the document/page Layer by acting as a bridge between them. A resource allows the pages of the application interact with the API.")),(0,a.yg)("p",null,"In order to activate a resource, we have to pass the ",(0,a.yg)("inlineCode",{parentName:"p"},"resources")," property to the ",(0,a.yg)("inlineCode",{parentName:"p"},"<Refine  />")," component."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import { Refine } from "@refinedev/core";\nimport dataProvider from "@refinedev/airtable";\n\nconst API_TOKEN = "your-airtable-api-token";\nconst BASE_ID = "your-airtable-base-id";\n\nconst App: React.FC = () => {\n  return (\n    <Refine\n      dataProvider={dataProvider(API_TOKEN, BASE_ID)}\n      resources={[\n        {\n          name: "posts",\n          list: "/list",\n          create: "/create",\n          edit: "/edit",\n          show: "/show",\n        },\n      ]}\n    />\n  );\n};\n\nexport default App;\n')),(0,a.yg)("p",null,"the ",(0,a.yg)("inlineCode",{parentName:"p"},"resources")," property accepts an array of objects with each object specifying the pages route ",(0,a.yg)("inlineCode",{parentName:"p"},"name")," and the basic operations the pages under that route name can perform which are the ",(0,a.yg)("inlineCode",{parentName:"p"},"list"),"(displaying records from an API or service), ",(0,a.yg)("inlineCode",{parentName:"p"},"create"),"(add or creating a record to an API or service), ",(0,a.yg)("inlineCode",{parentName:"p"},"edit"),"(modifying an existing record from an API or service), ",(0,a.yg)("inlineCode",{parentName:"p"},"show"),"(display a specific record from an API or service) operations."),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/components/refine-config/#resources"},"Refer to the ",(0,a.yg)("inlineCode",{parentName:"a"},"resources")," documentation for more information. \u2192 ")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Routing"),": We will use React Router v6 for routing in our application. ",(0,a.yg)("strong",{parentName:"li"},"Refine")," provides router bindings and utilities for React Router v6. It is built on top of the react-router-dom package. This package will provide easy integration between Refine and react-router-dom.")),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/packages/documentation/routers/react-router-v6/"},"Refer to the ",(0,a.yg)("inlineCode",{parentName:"a"},"React Router v6")," documentation for more information. \u2192 ")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:"title=App.tsx",title:"App.tsx"},'import { Refine } from "@refinedev/core";\nimport dataProvider from "@refinedev/simple-rest";\n// highlight-start\nimport routerProvider from "@refinedev/react-router";\nimport { BrowserRouter, Routes, Route } from "react-router-dom";\n// highlight-end\n\nimport { PostList, PostCreate } from "pages/posts";\nimport { CategoryList, CategoryShow } from "pages/categories";\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <Refine\n        dataProvider={dataProvider}\n        // highlight-next-line\n        routerProvider={routerProvider}\n        resources={[\n          {\n            name: "posts",\n            // highlight-start\n            list: "/posts",\n            create: "/posts/create",\n            // highlight-end\n          },\n          {\n            name: "categories",\n            // highlight-start\n            list: "/categories",\n            show: "/categories/show/:id",\n            // highlight-end\n          },\n        ]}\n      >\n        <Routes>\n          {/* highlight-start */}\n          <Route path="posts">\n            <Route index element={<PostList />} />\n            <Route path="create" element={<PostCreate />} />\n          </Route>\n          <Route path="categories">\n            <Route index element={<CategoryList />} />\n            <Route path="show/:id" element={<CategoryShow />} />\n          </Route>\n          {/* highlight-end */}\n        </Routes>\n      </Refine>\n    </BrowserRouter>\n  );\n};\n')),(0,a.yg)("p",null,"After obtaining more insight on the constitutes of a ",(0,a.yg)("strong",{parentName:"p"},"Refine")," application, we will take a look at the ",(0,a.yg)("inlineCode",{parentName:"p"},"App.tsx")," file created by the ",(0,a.yg)("inlineCode",{parentName:"p"},"create refine-app")),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show App.tsx Code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import { GitHubBanner, Refine, WelcomePage } from "@refinedev/core";\nimport { RefineKbar, RefineKbarProvider } from "@refinedev/kbar";\n\nimport dataProvider from "@refinedev/airtable";\nimport routerProvider, {\n  DocumentTitleHandler,\n  UnsavedChangesNotifier,\n} from "@refinedev/react-router";\nimport { BrowserRouter, Route, Routes } from "react-router-dom";\nimport "./App.css";\n\nfunction App() {\n  const API_TOKEN = "keyI18pnBeEMfPAIb";\n  const BASE_ID = "appKYl1H4k9g73sBT";\n\n  return (\n    <BrowserRouter>\n      <GitHubBanner />\n      <RefineKbarProvider>\n        <Refine\n          dataProvider={dataProvider(API_TOKEN, BASE_ID)}\n          routerProvider={routerProvider}\n          options={{\n            syncWithLocation: true,\n            warnWhenUnsavedChanges: true,\n          }}\n        >\n          <Routes>\n            <Route index element={<WelcomePage />} />\n          </Routes>\n          <RefineKbar />\n          <UnsavedChangesNotifier />\n          <DocumentTitleHandler />\n        </Refine>\n      </RefineKbarProvider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n')))),(0,a.yg)("p",null,"In the file above, we can see that ",(0,a.yg)("inlineCode",{parentName:"p"},"refine CLI")," installed the airtable data provider. To connect to our Airtable base, we will provide the ",(0,a.yg)("inlineCode",{parentName:"p"},"API_TOKEN")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"BASE_ID")," credentials. These credentials can be found on our airtable ",(0,a.yg)("a",{parentName:"p",href:"https://airtable.com/account"},"account")," page and the base documentation page."),(0,a.yg)("p",null,"After installation, we will set up TailwindCSS as our CSS library for this application. Since we are not using any UI framework (as we are going with the headless approach), we will use tailwind for styling. To simply add tailwind CSS to your Refine application, you can visit the guide ",(0,a.yg)("a",{parentName:"p",href:"https://tailwindcss.com/docs/guides/vite"},"here"),"."),(0,a.yg)("h2",{id:"implementing-crud-operations"},"Implementing CRUD operations"),(0,a.yg)("p",null,"We will implement the basic CRUD operations like create, list, delete and retrieve post records from Airtable but first, we will create the pages where these operations will be implemented. So our React CRUD app will have the following sections:"),(0,a.yg)("h3",{id:"creating-pages-for-crud-operations"},"Creating pages for CRUD operations"),(0,a.yg)("p",null,"To begin with, create a ",(0,a.yg)("inlineCode",{parentName:"p"},"page/post")," folder inside the ",(0,a.yg)("inlineCode",{parentName:"p"},"src")," folder and add a ",(0,a.yg)("inlineCode",{parentName:"p"},"PostCreate.tsx"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"PostList.tsx"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"PostShow.tsx")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"PostEdit.tsx")," files."),(0,a.yg)("p",null,"To prevent Typescript from throwing an error, you can add a placeholder code in each file like so:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/post/list.tsx"',title:'"src/pages/post/list.tsx"'},'import React from "react";\n\nexport const PostList: React.FC = () => {\n  return <div>PostList</div>;\n};\n')),(0,a.yg)("p",null,"Folder structure looks like this:"),(0,a.yg)("div",{className:"centered-image"},(0,a.yg)("img",{style:{alignSelf:"center",width:"300px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-01-18-airtable-crud-app/folder-structure.png",alt:"react crud app airtable"})),(0,a.yg)("p",null,"In the ",(0,a.yg)("inlineCode",{parentName:"p"},"App.tsx"),' file, we are going to include the "posts" ',(0,a.yg)("inlineCode",{parentName:"p"},"resource")," and set up a route for it."),(0,a.yg)("p",null,"After that, create ",(0,a.yg)("inlineCode",{parentName:"p"},"components/Layout.tsx")," file and add the following code:"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show Layout.tsx Code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Layout.tsx"',title:'"src/components/Layout.tsx"'},'import { useMenu, useNavigation, LayoutProps } from "@refinedev/core";\nimport routerProvider from "@refinedev/react-router-v6/legacy";\n\nconst { Link } = routerProvider;\n\nexport const Layout: React.FC<LayoutProps> = ({ children }) => {\n  const { menuItems } = useMenu();\n  const { push } = useNavigation();\n\n  return (\n    <div className="flex min-h-screen flex-col border py-4 pr-4 md:flex-row">\n      <div className="mb-2 border-b py-2 md:w-2/12">\n        <div className="container mx-auto">\n          <div className="flex flex-col items-center gap-2">\n            <Link to="/">\n              <img\n                className="w-32"\n                src="https://refine.dev/img/refine_logo.png"\n                alt="Logo"\n              />\n            </Link>\n\n            <ul>\n              {menuItems.map(({ name, label, icon, route }) => (\n                <li key={name} className="float-left">\n                  <a\n                    className="flex cursor-pointer flex-col items-center gap-1 rounded-sm px-2 py-1 capitalize decoration-indigo-500 decoration-2 underline-offset-1 transition duration-300 ease-in-out hover:underline"\n                    onClick={() => push(route || "")}\n                  >\n                    {icon}\n                    <span>{label ?? name}</span>\n                  </a>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <div className="overflow-auto bg-white md:w-10/12">{children}</div>\n    </div>\n  );\n};\n')))),(0,a.yg)("p",null,"Now, we need to import created ",(0,a.yg)("inlineCode",{parentName:"p"},"<Layout  />")," and page components to ",(0,a.yg)("inlineCode",{parentName:"p"},"App.tsx")," file."),(0,a.yg)("p",null,"You can simply copy and paste the code below into the ",(0,a.yg)("inlineCode",{parentName:"p"},"App.tsx")," file:"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show App.tsx Code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import { Refine, ErrorComponent } from "@refinedev/core";\nimport dataProvider from "@refinedev/airtable";\nimport routerProvider, {\n  DocumentTitleHandler,\n  NavigateToResource,\n  UnsavedChangesNotifier,\n} from "@refinedev/react-router";\nimport { BrowserRouter, Routes, Route, Outlet } from "react-router-dom";\n\nimport { PostList } from "./pages/post/list";\nimport { PostShow } from "./pages/post/show";\nimport { PostCreate } from "./pages/post/create";\nimport { PostEdit } from "./pages/post/edit";\n\nimport "./App.css";\n\nfunction App() {\n  const API_TOKEN = "key0uWArSH56JHNJV";\n  const BASE_ID = "appez0LgaOVA6SdCO";\n\n  return (\n    <BrowserRouter>\n      <Refine\n        dataProvider={dataProvider(API_TOKEN, BASE_ID)}\n        routerProvider={routerProvider}\n        resources={[\n          {\n            name: "posts",\n            list: "/posts",\n            show: "/posts/show/:id",\n            create: "/posts/create",\n            edit: "/posts/edit/:id",\n          },\n        ]}\n      >\n        <Routes>\n          <Route\n            element={\n              <Layout>\n                <Outlet />\n              </Layout>\n            }\n          >\n            <Route index element={<NavigateToResource resource="posts" />} />\n            <Route path="posts">\n              <Route index element={<PostList />} />\n              <Route path="show/:id" element={<PostShow />} />\n              <Route path="create" element={<PostCreate />} />\n              <Route path="edit/:id" element={<PostEdit />} />\n            </Route>\n            <Route path="*" element={<ErrorComponent />} />\n          </Route>\n        </Routes>\n        <UnsavedChangesNotifier />\n        <DocumentTitleHandler />\n      </Refine>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n')))),(0,a.yg)("p",null,"When you navigate to ",(0,a.yg)("inlineCode",{parentName:"p"},"/posts")," route, you can see our placeholder page. We will build page components that will retrieve ",(0,a.yg)("inlineCode",{parentName:"p"},"posts"),", view a post and create a post and present them in a table format and pass these components to our resource as list props."),(0,a.yg)("h3",{id:"listing-posts-records"},"Listing posts records"),(0,a.yg)("p",null,"First and foremost, To list our records, we will install the ",(0,a.yg)("inlineCode",{parentName:"p"},"@refinedev/react-table")," to use the ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/examples/table/antd/useTable/"},(0,a.yg)("inlineCode",{parentName:"a"},"useTable()"))," hook to display all posts records in a table format. To install the table, run the following command:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"npm i @refinedev/react-table @tanstack/react-table\n")),(0,a.yg)("p",null,"Next, we will define an interface for the fetched data from our Airtable Base. to do this, we will create a new folder called ",(0,a.yg)("inlineCode",{parentName:"p"},"interfaces")," under the ",(0,a.yg)("inlineCode",{parentName:"p"},"src")," folder in the root directory of our application. Then we will create a ",(0,a.yg)("inlineCode",{parentName:"p"},"post.d.ts")," file and add the code below:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/interfaces/post.d.ts"',title:'"src/interfaces/post.d.ts"'},'export interface IPost {\n  id: string;\n  name: string;\n  title: string;\n  content: string;\n  category: string;\n  Status: "published" | "draft" | "rejected";\n  createdAt: string;\n}\n')),(0,a.yg)("p",null,"As shown above, we added the ",(0,a.yg)("inlineCode",{parentName:"p"},"id"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"name"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"title"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"content"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"category"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"status"),", and ",(0,a.yg)("inlineCode",{parentName:"p"},"createdAt")," fields to the interface as these fields are present on our Airtable base."),(0,a.yg)("p",null,"Next, we update the ",(0,a.yg)("inlineCode",{parentName:"p"},"list.tsx")," file under the ",(0,a.yg)("inlineCode",{parentName:"p"},"pages/post")," folder with the following code:"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show pages/post/list.tsx` code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/post/list.tsx"',title:'"src/pages/post/list.tsx"'},'import React from "react";\nimport { useTable } from "@refinedev/react-table";\nimport { ColumnDef, flexRender } from "@tanstack/react-table";\nimport { IPost } from "../../interfaces/post";\nimport { useNavigation, useDelete } from "@refinedev/core";\n\nexport const PostList: React.FC = () => {\n  const { show, edit, create } = useNavigation();\n  const { mutate } = useDelete();\n\n  const columns = React.useMemo<ColumnDef<IPost>[]>(\n    () => [\n      {\n        id: "id",\n        header: "ID",\n        accessorKey: "id",\n      },\n      {\n        id: "Name",\n        header: "Name",\n        accessorKey: "Name",\n      },\n      {\n        id: "category",\n        header: "Category",\n        accessorKey: "category",\n      },\n      {\n        id: "status",\n        header: "Status",\n        accessorKey: "Status",\n      },\n      {\n        id: "action",\n        header: "Action",\n        accessorKey: "id",\n        cell: function render({ getValue }) {\n          return (\n            <>\n              <button\n                className="rounded border border-gray-200 p-2 text-xs font-medium leading-tight transition duration-150 ease-in-out hover:bg-indigo-500 hover:text-white"\n                onClick={() => show("posts", getValue() as number)}\n              >\n                View\n              </button>\n              <button\n                className="rounded border border-gray-200 p-2 text-xs font-medium leading-tight transition duration-150 ease-in-out hover:bg-indigo-500 hover:text-white"\n                onClick={() => edit("posts", getValue() as number)}\n              >\n                Edit\n              </button>\n\n              <button\n                className="rounded border border-gray-200 p-2 text-xs font-medium leading-tight transition duration-150 ease-in-out hover:bg-red-500 hover:text-white"\n                onClick={() =>\n                  mutate({\n                    id: getValue() as number,\n                    resource: "posts",\n                  })\n                }\n              >\n                Delete\n              </button>\n            </>\n          );\n        },\n      },\n    ],\n    [],\n  );\n\n  const {\n    reactTable: { getHeaderGroups, getRowModel },\n  } = useTable<IPost>({\n    columns,\n  });\n\n  return (\n    <div className="container mx-auto pb-4">\n      <table className="min-w-full table-fixed divide-y divide-gray-200 border">\n        <thead className="bg-gray-100">\n          {getHeaderGroups().map((headerGroup) => (\n            <tr key={headerGroup.id}>\n              {headerGroup.headers.map((header) => (\n                <th\n                  key={header.id}\n                  colSpan={header.colSpan}\n                  className="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 "\n                >\n                  {flexRender(\n                    header.column.columnDef.header,\n                    header.getContext(),\n                  )}\n                </th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody className="divide-y divide-gray-200 bg-white">\n          {getRowModel().rows.map((row) => {\n            return (\n              <tr key={row.id} className="transition hover:bg-gray-100">\n                {row.getVisibleCells().map((cell) => {\n                  return (\n                    <td\n                      key={cell.id}\n                      className="whitespace-nowrap px-6 py-2 text-sm font-medium text-gray-900"\n                    >\n                      {flexRender(\n                        cell.column.columnDef.cell,\n                        cell.getContext(),\n                      )}\n                    </td>\n                  );\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n')))),(0,a.yg)("p",null,"In the code above, we use the ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/examples/table/antd/useTable/"},(0,a.yg)("inlineCode",{parentName:"a"},"useTable()"))," hook from the ",(0,a.yg)("inlineCode",{parentName:"p"},"@refinedev/react-table")," package to fetch records from our Airtable base. It allows us to fetch data according to the sorter, filter, and pagination states."),(0,a.yg)("p",null,"We also use the ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/hooks/navigation/useNavigation/"},(0,a.yg)("inlineCode",{parentName:"a"},"useNavigation()"))," hook to navigate to the ",(0,a.yg)("inlineCode",{parentName:"p"},"show"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"edit"),", and ",(0,a.yg)("inlineCode",{parentName:"p"},"create")," pages of the ",(0,a.yg)("inlineCode",{parentName:"p"},"posts")," resource."),(0,a.yg)("h4",{id:"handling-relationships"},"Handling relationships"),(0,a.yg)("p",null,"Remember the records from our ",(0,a.yg)("strong",{parentName:"p"},"posts")," base on Airtable has a category field, we will map the category fields to their corresponding titles on the ",(0,a.yg)("strong",{parentName:"p"},"category")," base we created on airtable. But first, we will add a category type to the ",(0,a.yg)("inlineCode",{parentName:"p"},"post.d.ts")," file under ",(0,a.yg)("inlineCode",{parentName:"p"},"interfaces")," under the ",(0,a.yg)("inlineCode",{parentName:"p"},"src")," folder in the root directory of our application."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/interfaces/post.d.ts"',title:'"src/interfaces/post.d.ts"'},"// ...\n\n// highlight-start\nexport interface ICategory {\n  id: string;\n  name: string;\n  posts: string;\n}\n// highlight-end\n")),(0,a.yg)("p",null,"Next, we need to map records from different the ",(0,a.yg)("strong",{parentName:"p"},"category")," field to the ",(0,a.yg)("strong",{parentName:"p"},"category")," base on Airtable. For this, we're going to use the ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/hooks/data/useMany/"},(0,a.yg)("inlineCode",{parentName:"a"},"useMany()"))," ",(0,a.yg)("strong",{parentName:"p"},"Refine")," hook."),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"useMany()")," hook is a variant of the ",(0,a.yg)("inlineCode",{parentName:"p"},"react-query's")," ",(0,a.yg)("a",{parentName:"p",href:"https://tanstack.com/query/v4/docs/react/guides/queries?from=reactQueryV3&original=https%3A%2F%2Freact-query-v3.tanstack.com%2Fguides%2Fqueries"},"useQuery()")," hook. it is used to obtain multiple items from a resource.\nTo get more information about this hook, view its documentation ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/hooks/data/useMany/"},"here"),"."),(0,a.yg)("p",null,"Update the ",(0,a.yg)("inlineCode",{parentName:"p"},"<PostList />")," component with the highlighted code below:"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show Code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/post/list.tsx"',title:'"src/pages/post/list.tsx"'},'import React from "react";\nimport { useTable } from "@refinedev/react-table";\nimport { ColumnDef, flexRender } from "@tanstack/react-table";\n//highlight-next-line\nimport { ICategory, IPost } from "../../interfaces/post";\n//highlight-start\nimport {\n  useNavigation,\n  useDelete,\n  useMany,\n  GetManyResponse,\n} from "@refinedev/core";\n//highlight-end\n\nimport "./App.css";\n\nexport const PostList: React.FC = () => {\n  /* code from previous block */\n\n  const columns = React.useMemo<ColumnDef<IPost>[]>(\n    () => [\n      /* code from previous block */\n      //highlight-start\n      {\n        id: "category",\n        header: "Category",\n        accessorKey: "category",\n        cell: function render({ getValue, table }) {\n          const meta = table.options.meta as {\n            categoriesData: GetManyResponse<ICategory>;\n          };\n          const singleValue: string[] | any = getValue();\n          const category = meta.categoriesData?.data?.find(\n            (item) => item.id === singleValue[0],\n          );\n          return category?.name ?? "Loading...";\n        },\n      },\n      //highlight-end\n      /* code from previous block */\n    ],\n    [],\n  );\n\n  //highlight-start\n  const {\n    reactTable: { getHeaderGroups, getRowModel },\n    setOptions,\n    refineCore: { result },\n  } = useTable<IPost>({ columns });\n\n  const categoryIds = result?.data?.map((item) => item.category?.[0]) ?? [];\n\n  const { result: categoriesData } = useMany<ICategory>({\n    resource: "category",\n    ids: categoryIds,\n    queryOptions: {\n      enabled: categoryIds.length > 0,\n    },\n  });\n\n  setOptions((prev) => ({\n    ...prev,\n    meta: {\n      ...prev.meta,\n      categoriesData,\n    },\n  }));\n  //highlight-end\n\n  //highlight-start\n  return (\n    <div className="mx-auto pb-4">\n      <div className="mb-3 mt-1 flex items-center justify-end">\n        <button\n          className="flex items-center justify-between gap-1 rounded border border-gray-200 bg-indigo-500 p-2 text-xs font-medium leading-tight text-white transition duration-150 ease-in-out hover:bg-indigo-600"\n          onClick={() => create("posts")}\n        >\n          <span>Create Post</span>\n        </button>\n      </div>\n      <table className="min-w-full table-fixed divide-y divide-gray-200 border">\n        <thead className="bg-gray-100">\n          {getHeaderGroups().map((headerGroup, idx) => (\n            <tr key={idx}>\n              {headerGroup.headers.map((header, idx) => (\n                <th\n                  key={idx}\n                  colSpan={header.colSpan}\n                  className="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 "\n                >\n                  {flexRender(\n                    header.column.columnDef.header,\n                    header.getContext(),\n                  )}\n                </th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody className="divide-y divide-gray-200 bg-white">\n          {getRowModel().rows.map((row, idx) => {\n            return (\n              <tr key={idx} className="transition hover:bg-gray-100">\n                {row.getVisibleCells().map((cell, idx) => {\n                  return (\n                    <td\n                      key={idx}\n                      className="whitespace-nowrap px-6 py-2 text-sm font-medium text-gray-900"\n                    >\n                      {flexRender(\n                        cell.column.columnDef.cell,\n                        cell.getContext(),\n                      )}\n                    </td>\n                  );\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n//highlight-end\n')))),(0,a.yg)("p",null,"In the code above, The ",(0,a.yg)("inlineCode",{parentName:"p"},"useMany()")," hook fetches records from the category base using the ",(0,a.yg)("inlineCode",{parentName:"p"},"category field")," present on the ",(0,a.yg)("inlineCode",{parentName:"p"},"posts")," table. this ensures that all the category fields are properly mapped to their respective records on the category base."),(0,a.yg)("p",null,"We also update the category row on the table to display the category record assigned to a category field from the mapping."),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-01-18-airtable-crud-app/handling-relationships.jpeg",alt:"react crud app airtable"}),(0,a.yg)("br",null),(0,a.yg)("br",null),(0,a.yg)("div",null,(0,a.yg)("a",{href:"https://discord.gg/refine"},(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/website/static/img/discord_big_blue.png",alt:"discord banner"}))),(0,a.yg)("h3",{id:"viewing-a-single-post-record"},"Viewing a single post record"),(0,a.yg)("p",null,"For viewing a record in our React CRUD app, we will use the ",(0,a.yg)("inlineCode",{parentName:"p"},"useShow()")," hook which is present in the ",(0,a.yg)("inlineCode",{parentName:"p"},"@refinedev/core")," package."),(0,a.yg)("p",null,"We will add a ",(0,a.yg)("inlineCode",{parentName:"p"},"show.tsx")," file In the ",(0,a.yg)("inlineCode",{parentName:"p"},"post")," under the ",(0,a.yg)("inlineCode",{parentName:"p"},"pages")," folder.\nNext, with the following code:"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Click show.tsx code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/post/show.tsx"',title:'"src/pages/post/show.tsx"'},'import { useSelect, useShow } from "@refinedev/core";\nimport { IPost } from "../../interfaces/post";\n\nexport const PostShow: React.FC = () => {\n  const { result } = useShow<IPost>();\n\n  const { options } = useSelect({\n    resource: "category",\n    defaultValue: result?.category?.[0],\n    optionLabel: "name",\n    optionValue: "id",\n  });\n\n  return (\n    <div className="container mx-auto">\n      <div className="my-6">\n        <label className="mb-2 block text-sm font-medium">Id</label>\n        <input\n          value={record?.id}\n          disabled\n          className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm"\n        />\n      </div>\n      <div className="mb-6">\n        <label className="mb-2 block text-sm font-medium">Name</label>\n        <input\n          value={record?.title}\n          disabled\n          className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm"\n        />\n      </div>\n      <div className="mb-6">\n        <label className="mb-2 block text-sm font-medium">Title</label>\n        <input\n          value={record?.title}\n          disabled\n          className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm"\n        />\n      </div>\n\n      <div className="mb-6">\n        <label className="mb-2 block text-sm font-medium">Content</label>\n        <textarea\n          disabled\n          value={record?.content}\n          id="content"\n          className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm "\n          placeholder="Content"\n          rows={10}\n        />\n      </div>\n\n      <div className="mb-6">\n        <label className="mb-2 block text-sm font-medium">Category</label>\n        <input\n          value={\n            options?.find((curr) => curr?.value === record?.category[0])\n              ?.label || record?.category\n          }\n          disabled\n          className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm"\n        />\n      </div>\n\n      <div className="mb-6">\n        <label className="mb-2 block text-sm font-medium">Status</label>\n        <input\n          value={record?.Status}\n          disabled\n          className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm"\n        />\n      </div>\n\n      <div className="mb-6">\n        <label className="mb-2 block text-sm font-medium">Created At</label>\n        <input\n          type={"date"}\n          value={record?.createdAt}\n          disabled\n          className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm"\n        />\n      </div>\n    </div>\n  );\n};\n')))),(0,a.yg)("p",null,"In the code above, we used the ",(0,a.yg)("inlineCode",{parentName:"p"},"useShow()")," hook to obtain a record. The ",(0,a.yg)("inlineCode",{parentName:"p"},"useShow()")," hook enables you to retrieve the desired record. It uses the ",(0,a.yg)("inlineCode",{parentName:"p"},"getOne")," method as the query function from the dataProvider passed to ",(0,a.yg)("inlineCode",{parentName:"p"},"<Refine />"),". More information about the ",(0,a.yg)("inlineCode",{parentName:"p"},"useShow()")," hook can be obtained ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/hooks/show/useShow/"},"here"),"."),(0,a.yg)("p",null,"We also used the ",(0,a.yg)("inlineCode",{parentName:"p"},"useSelect()")," hook to map the category fields on the record to the category base in order to get the category value and label from the base."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-ts"},'const { options } = useSelect({\n  resource: "category",\n  defaultValue: query?.data?.data?.category?.[0],\n  optionLabel: "name",\n  optionValue: "id",\n});\n')),(0,a.yg)("p",null,"The hook accepts an object with properties ",(0,a.yg)("inlineCode",{parentName:"p"},"resource")," which directs the hook to the base containing the records, ",(0,a.yg)("inlineCode",{parentName:"p"},"defaultValue")," which specifies a default value for the options, ",(0,a.yg)("inlineCode",{parentName:"p"},"optionLabel"),", which specifies the field on the base that will be mapped to the label and ",(0,a.yg)("inlineCode",{parentName:"p"},"optionValue"),", which specifies the field on the base that will be mapped to the value."),(0,a.yg)("p",null,"To get more information on the ",(0,a.yg)("inlineCode",{parentName:"p"},"useSelect()")," hook, take a look at the documentation ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/hooks/useSelect/"},"here"),"."),(0,a.yg)("p",null,"We'll add a View button to each row, so we'll need to update our ",(0,a.yg)("inlineCode",{parentName:"p"},"<PostList />")," component to include one for each record. update the ",(0,a.yg)("inlineCode",{parentName:"p"},"<PostList />")," component with the code below:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/post/list.tsx"',title:'"src/pages/post/list.tsx"'},'import React from "react";\nimport { useTable, ColumnDef, flexRender } from "@refinedev/react-table";\nimport { IPost } from "../../interfaces/post";\nimport { useNavigation, useDelete } from "@refinedev/core";\n\n\nexport const PostList: React.FC = () => {\n const { ... ,edit} = useNavigation();\n const { mutate } = useDelete();\n\n const columns = React.useMemo<ColumnDef<IPost>[]>(\n   () => [\n      ...\n\n     {\n       id: "action",\n       header: "Action",\n       accessorKey: "id",\n       cell: function render({ getValue }) {\n         return (\n           <button\n             className="rounded border border-gray-200 p-2 text-xs font-medium leading-tight transition duration-150 ease-in-out hover:bg-indigo-500 hover:text-white"\n             onClick={() =>\n               show("posts", getValue() as number)\n             }\n           >\n             View\n           </button>\n         );\n       },\n     },\n   [],\n );\n\n return (\n    ...\n   );\n};\n')),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-01-18-airtable-crud-app/view_single_post.png",alt:"react crud app airtable"}),(0,a.yg)("br",null),(0,a.yg)("h3",{id:"creating-post-record"},"Creating post record"),(0,a.yg)("p",null,"To create a record, we will install the ",(0,a.yg)("inlineCode",{parentName:"p"},"@refinedev/react-hook-form")," to use the ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm()")," hook that comes with form validation out of the box and handles our form submission request to Airtable."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},"npm i @refinedev/react-hook-form\n")),(0,a.yg)("p",null,"Next, In the ",(0,a.yg)("inlineCode",{parentName:"p"},"post")," under the ",(0,a.yg)("inlineCode",{parentName:"p"},"pages")," folder we will add a ",(0,a.yg)("inlineCode",{parentName:"p"},"create.tsx")," file with the following code:"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show pages/post/create.tsx Code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/post/create.tsx"',title:'"src/pages/post/create.tsx"'},'import { useSelect } from "@refinedev/core";\nimport { useForm } from "@refinedev/react-hook-form";\nimport React from "react";\n\nexport const PostCreate: React.FC = () => {\n  const {\n    refineCore: { onFinish, formLoading, query },\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n\n  const { options } = useSelect({\n    resource: "category",\n    defaultValue: query?.data?.data?.category?.[0],\n    optionLabel: "name",\n    optionValue: "id",\n  });\n\n  const handleSubmitHandler = (data: any) => {\n    onFinish({ ...data, category: [data.category] });\n  };\n\n  return (\n    <div className="container mx-auto">\n      <br />\n      <form onSubmit={handleSubmit(handleSubmitHandler)}>\n        <div className="mb-6">\n          <label htmlFor="Name" className="mb-2 block text-sm font-medium">\n            Name\n          </label>\n          <input\n            {...register("Name", { required: true })}\n            type="text"\n            id="Name"\n            className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm"\n            placeholder="Name"\n          />\n          {errors.title && (\n            <p className="mt-1 text-sm text-red-600">\n              <span className="font-medium">Oops!</span> This field is required\n            </p>\n          )}\n        </div>\n\n        <div className="mb-6">\n          <label htmlFor="title" className="mb-2 block text-sm font-medium">\n            Title\n          </label>\n          <input\n            {...register("title", { required: true })}\n            type="text"\n            id="title"\n            className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm "\n            placeholder="Title"\n          />\n          {errors.title && (\n            <p className="mt-1 text-sm text-red-600">\n              <span className="font-medium">Oops!</span> This field is required\n            </p>\n          )}\n        </div>\n\n        <div className="mb-6">\n          <label htmlFor="content" className="mb-2 block text-sm font-medium">\n            Content\n          </label>\n          <textarea\n            {...register("content", { required: true })}\n            id="content"\n            className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm "\n            placeholder="Content"\n            rows={10}\n          />\n          {errors.content && (\n            <p className="mt-1 text-sm text-red-600">\n              <span className="font-medium">Oops!</span> This field is required\n            </p>\n          )}\n        </div>\n\n        <div className="mb-6">\n          <label htmlFor="category" className="mb-2 block text-sm font-medium">\n            Category\n          </label>\n\n          <select\n            defaultValue={""}\n            {...register("category", { required: true })}\n            className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm"\n          >\n            <option value={""} disabled>\n              Please select\n            </option>\n\n            {options?.map((category) => (\n              <option key={category.value} value={category.value}>\n                {category.label}\n              </option>\n            ))}\n          </select>\n\n          {errors.category && (\n            <p className="mt-1 text-sm text-red-600">\n              <span className="font-medium">Oops!</span> This field is required\n            </p>\n          )}\n        </div>\n\n        <div className="mb-6">\n          <label htmlFor="status" className="mb-2 block text-sm font-medium">\n            Status\n          </label>\n          <select\n            {...register("Status")}\n            className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm"\n          >\n            <option value="published">published</option>\n            <option value="draft">draft</option>\n            <option value="rejected">rejected</option>\n          </select>\n        </div>\n\n        <button\n          type="submit"\n          className="flex w-full items-center rounded-lg bg-indigo-500 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-indigo-600 sm:w-auto"\n        >\n          {formLoading ? "loading..." : <span>Save</span>}\n        </button>\n      </form>\n    </div>\n  );\n};\n')))),(0,a.yg)("p",null,"In the code above, we used the ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm()")," hook to create records. This hook comes from the ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/refinedev/refine/tree/main/packages/react-hook-form"},"@refinedev/react-hook-form")," which is inherently a Refine adapter of the ",(0,a.yg)("a",{parentName:"p",href:"https://react-hook-form.com/"},"React Hook Form")," library. In a nutshell, this library allows you to use the ",(0,a.yg)("a",{parentName:"p",href:"https://react-hook-form.com/"},"React Hook Form")," library with refine. More information about the ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm()")," hook can be obtained ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/packages/documentation/react-hook-form/useForm/"},"here"),"."),(0,a.yg)("p",null,"We use methods provided by the ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm()")," hook like ",(0,a.yg)("inlineCode",{parentName:"p"},"register()")," to validate the new post we will add into airtable. The hooks also provide methods like ",(0,a.yg)("inlineCode",{parentName:"p"},"handleSubmit()")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"onFinish()")," methods which handle the submission of the contents from the form to Airtable."),(0,a.yg)("p",null,"We'll also add a create post button to the ",(0,a.yg)("inlineCode",{parentName:"p"},"<PostList />")," component. Update the ",(0,a.yg)("inlineCode",{parentName:"p"},"<PostList />")," component with the code below:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/post/list.tsx',title:'"src/pages/post/list.tsx'},'import React from "react";\nimport { useTable, ColumnDef, flexRender } from "@refinedev/react-table";\nimport { IPost } from "../../interfaces/post";\nimport { useNavigation, useDelete } from "@refinedev/core";\n\n\nexport const PostList: React.FC = () => {\n const { ... , create } = useNavigation();\n\n return (\n   <div className="container mx-auto pb-4">\n     <div className="mb-3 mt-1 flex items-center justify-end">\n       <button\n         className="flex items-center justify-between gap-1 rounded border border-gray-200 bg-indigo-500 p-2 text-xs font-medium leading-tight text-white transition duration-150 ease-in-out hover:bg-indigo-600"\n         onClick={() => create("posts")}\n       >\n         <span>Create Post</span>\n       </button>\n     </div>\n\n     ...\n   </div>\n );\n};\n')),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-01-18-airtable-crud-app/create.gif",alt:"react crud app airtable"}),(0,a.yg)("br",null),(0,a.yg)("h3",{id:"editing-post-record"},"Editing post record"),(0,a.yg)("p",null,"For editing a record, we will add an ",(0,a.yg)("inlineCode",{parentName:"p"},"edit.tsx")," file In the ",(0,a.yg)("inlineCode",{parentName:"p"},"post")," under the ",(0,a.yg)("inlineCode",{parentName:"p"},"pages")," folder\nNext, with the following code:"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show Code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/post/edit.tsx"',title:'"src/pages/post/edit.tsx"'},'import { useSelect } from "@refinedev/core";\nimport { useForm } from "@refinedev/react-hook-form";\nimport React, { useEffect } from "react";\n\nexport const PostEdit: React.FC = () => {\n  const {\n    refineCore: { onFinish, formLoading, query },\n    register,\n    handleSubmit,\n    resetField,\n    formState: { errors },\n  } = useForm();\n\n  const { options } = useSelect({\n    resource: "category",\n    defaultValue: query?.data?.data?.category?.id,\n    optionLabel: "name",\n    optionValue: "id",\n  });\n\n  useEffect(() => {\n    resetField("category.id");\n  }, [options, resetField]);\n\n  const handleSubmitHandler = (data: any) => {\n    onFinish({ ...data, category: [data.category] });\n  };\n\n  return (\n    <div className="container mx-auto">\n      <br />\n      <form onSubmit={handleSubmit(handleSubmitHandler)}>\n        <div className="mb-6">\n          <label htmlFor="Name" className="mb-2 block text-sm font-medium">\n            Name\n          </label>\n          <input\n            {...register("Name", { required: true })}\n            type="text"\n            id="Name"\n            className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm"\n            placeholder="Name"\n          />\n          {errors.title && (\n            <p className="mt-1 text-sm text-red-600">\n              <span className="font-medium">Oops!</span> This field is required\n            </p>\n          )}\n        </div>\n\n        <div className="mb-6">\n          <label htmlFor="title" className="mb-2 block text-sm font-medium">\n            Title\n          </label>\n          <input\n            {...register("title", { required: true })}\n            type="text"\n            id="title"\n            className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm "\n            placeholder="Title"\n          />\n          {errors.title && (\n            <p className="mt-1 text-sm text-red-600">\n              <span className="font-medium">Oops!</span> This field is required\n            </p>\n          )}\n        </div>\n\n        <div className="mb-6">\n          <label htmlFor="content" className="mb-2 block text-sm font-medium">\n            Content\n          </label>\n          <textarea\n            {...register("content", { required: true })}\n            id="content"\n            className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm "\n            placeholder="Content"\n            rows={10}\n          />\n          {errors.content && (\n            <p className="mt-1 text-sm text-red-600">\n              <span className="font-medium">Oops!</span> This field is required\n            </p>\n          )}\n        </div>\n\n        <div className="mb-6">\n          <label htmlFor="category" className="mb-2 block text-sm font-medium">\n            Category\n          </label>\n\n          <select\n            defaultValue={""}\n            {...register("category", { required: true })}\n            className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm"\n          >\n            <option value={""} disabled>\n              Please select\n            </option>\n            <option value="Information Technology">\n              Information Technology\n            </option>\n            <option value="Fun">Fun</option>\n            <option value="Drama">Drama</option>\n          </select>\n\n          {errors.category && (\n            <p className="mt-1 text-sm text-red-600">\n              <span className="font-medium">Oops!</span> This field is required\n            </p>\n          )}\n        </div>\n\n        <div className="mb-6">\n          <label htmlFor="status" className="mb-2 block text-sm font-medium">\n            Status\n          </label>\n          <select\n            defaultValue={""}\n            {...register("category", { required: true })}\n            className="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm"\n          >\n            <option value={""} disabled>\n              Please select\n            </option>\n\n            {options?.map((category) => (\n              <option key={category.value} value={category.value}>\n                {category.label}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <button\n          type="submit"\n          className="flex w-full items-center rounded-lg bg-indigo-500 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-indigo-600 sm:w-auto"\n        >\n          {formLoading ? "loading..." : <span>Save</span>}\n        </button>\n      </form>\n    </div>\n  );\n};\n')))),(0,a.yg)("p",null,"Similar to that of the ",(0,a.yg)("inlineCode",{parentName:"p"},"<PostEdit />")," component, we use methods provided by the ",(0,a.yg)("inlineCode",{parentName:"p"},"useForm()")," hook like ",(0,a.yg)("inlineCode",{parentName:"p"},"register()")," to validate the new post we will be adding into airtable."),(0,a.yg)("p",null,"Additionally, we created a function ",(0,a.yg)("inlineCode",{parentName:"p"},"onSubmit()")," which modifies the category data before passing it to the ",(0,a.yg)("inlineCode",{parentName:"p"},"onFinish()")," function. This is because, when editing the category field, we will pass the modified category as an array of strings to airtable because of the link/relationship of the field to the category base on Airtable."),(0,a.yg)("p",null,"After this, we then add the ",(0,a.yg)("inlineCode",{parentName:"p"},"onSubmit()")," function as a parameter to the ",(0,a.yg)("inlineCode",{parentName:"p"},"handleSubmit()")," method which then handle the update of the contents from the form to Airtable."),(0,a.yg)("p",null,"We'll add an ",(0,a.yg)("strong",{parentName:"p"},"Edit")," button to each row, so we'll need to update our ",(0,a.yg)("inlineCode",{parentName:"p"},"<PostList />")," component to include one for each record. update the ",(0,a.yg)("inlineCode",{parentName:"p"},"<PostList />")," component with the code below:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/post/list.tsx"',title:'"src/pages/post/list.tsx"'},'\nimport React from "react";\nimport { useTable, ColumnDef, flexRender } from "@refinedev/react-table";\nimport { IPost } from "../../interfaces/post";\nimport { useNavigation, useDelete } from "@refinedev/core";\n\n\nexport const PostList: React.FC = () => {\n const { ... ,edit} = useNavigation();\n const { mutate } = useDelete();\n\n const columns = React.useMemo<ColumnDef<IPost>[]>(\n   () => [\n    ...,\n     {\n       id: "action",\n       header: "Action",\n       accessorKey: "id",\n       cell: function render({ getValue }) {\n         return (\n           <button\n             className="rounded border border-gray-200 p-2 text-xs font-medium leading-tight transition duration-150 ease-in-out hover:bg-indigo-500 hover:text-white"\n             onClick={() =>\n               edit("posts", getValue() as number)\n             }\n           >\n             Edit\n           </button>\n         );\n       },\n     },\n   [],\n );\n\n return (\n    ...\n   );\n};\n')),(0,a.yg)("p",null,"After this, we can now add the component ",(0,a.yg)("inlineCode",{parentName:"p"},"<PostEdit />")," in the ",(0,a.yg)("inlineCode",{parentName:"p"},"edit.tsx")," file to our resource present in the ",(0,a.yg)("inlineCode",{parentName:"p"},"App.tsx")," file."),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-01-18-airtable-crud-app/edit.gif",alt:"react crud app airtable"}),(0,a.yg)("br",null),(0,a.yg)("h3",{id:"deleting-post-record"},"Deleting post record"),(0,a.yg)("p",null,"For deleting a record, we will use the ",(0,a.yg)("inlineCode",{parentName:"p"},"useDelete()")," hook which is present in the ",(0,a.yg)("inlineCode",{parentName:"p"},"@refinedev/core")," package which was installed using the ",(0,a.yg)("inlineCode",{parentName:"p"},"refine CLI")," to build our Refine application."),(0,a.yg)("p",null,"We'll add a ",(0,a.yg)("strong",{parentName:"p"},"Delete")," button to each row because Refine doesn't add one automatically, so we'll need to update our ",(0,a.yg)("inlineCode",{parentName:"p"},"<PostList />")," component to include one for each record. Add the highlighted lines below to the existing list component."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/post/list.tsx"',title:'"src/pages/post/list.tsx"'},'\nimport React from "react";\nimport { useTable, ColumnDef, flexRender } from "@refinedev/react-table";\nimport { IPost } from "../../interfaces/post";\nimport { useNavigation, useDelete } from "@refinedev/core";\n\n\nexport const PostList: React.FC = () => {\n const { show, edit, create } = useNavigation();\n const { mutate } = useDelete();\n\n const columns = React.useMemo<ColumnDef<IPost>[]>(\n   () => [\n    ...,\n\n     {\n         id: "action",\n         header: "Action",\n         accessorKey: "id",\n         cell: function render({ getValue }) {\n           return (\n             <button\n               className="rounded border border-gray-200 p-2 text-xs font-medium leading-tight transition duration-150 ease-in-out hover:bg-red-500 hover:text-white"\n               onClick={() =>\n                 mutate({\n                   id: getValue() as number,\n                   resource: "posts",\n                 })\n               }\n             >\n               Delete\n             </button>\n\n           );\n         },\n      },\n   [],\n );\n\n return (\n    ...\n   );\n};\n')),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2023-01-18-airtable-crud-app/delete.gif",alt:"react crud app airtable"}),(0,a.yg)("br",null),(0,a.yg)("h3",{id:"adding-pagination"},"Adding Pagination"),(0,a.yg)("p",null,"Next, we will add Pagination to our application. in order to achieve this, the useTable() hook provides certain functions that handle pagination. They are:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"getState"),": This is the useTable() state variable."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"setPageIndex()"),": This is a function that handles setting the page index."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"getCanPreviousPage()"),": This is a boolean value that indicates if a previous page exists or not."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"getPageCount"),": This variable holds the number of pages."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"getCanNextPage"),": This is a boolean value that indicates if a next page exists or not."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"nextPage()"),": This function handles navigation to the next page."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"previousPage"),": This function handles navigation to the previous page."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"setPageSize()"),": This is a function that handles setting the content to be shown on a page (page size).")),(0,a.yg)("p",null,"We will go to update the ",(0,a.yg)("inlineCode",{parentName:"p"},"<PostList />")," component with the highlighted code below:"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show pages/post/list.tsx` code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/post/list.tsx"',title:'"src/pages/post/list.tsx"'},'import React from "react";\nimport { useTable } from "@refinedev/react-table";\nimport { ColumnDef, flexRender } from "@tanstack/react-table";\nimport { ICategory, IPost } from "../../interfaces/post";\nimport {\n  useNavigation,\n  useDelete,\n  GetManyResponse,\n  useMany,\n} from "@refinedev/core";\n\nexport const PostList: React.FC = () => {\n  const { show, edit, create } = useNavigation();\n  const { mutate } = useDelete();\n\n  const columns = React.useMemo<ColumnDef<IPost>[]>(\n    () => [\n      {\n        id: "id",\n        header: "ID",\n        accessorKey: "id",\n      },\n      {\n        id: "Name",\n        header: "Name",\n        accessorKey: "Name",\n      },\n      {\n        id: "category",\n        header: "Category",\n        accessorKey: "category",\n        cell: function render({ getValue, table }) {\n          const meta = table.options.meta as {\n            categoriesData: GetManyResponse<ICategory>;\n          };\n          const singleValue: string[] | any = getValue();\n          const category = meta.categoriesData?.data?.find(\n            (item) => item.id === singleValue[0],\n          );\n          return category?.name ?? "Loading...";\n        },\n      },\n      {\n        id: "status",\n        header: "Status",\n        accessorKey: "Status",\n      },\n      {\n        id: "action",\n        header: "Action",\n        accessorKey: "id",\n        cell: function render({ getValue }) {\n          return (\n            <>\n              <button\n                className="rounded border border-gray-200 p-2 text-xs font-medium leading-tight transition duration-150 ease-in-out hover:bg-indigo-500 hover:text-white"\n                onClick={() => show("posts", getValue() as number)}\n              >\n                View\n              </button>\n\n              <button\n                className="rounded border border-gray-200 p-2 text-xs font-medium leading-tight transition duration-150 ease-in-out hover:bg-indigo-500 hover:text-white"\n                onClick={() => edit("posts", getValue() as number)}\n              >\n                Edit\n              </button>\n\n              <button\n                className="rounded border border-gray-200 p-2 text-xs font-medium leading-tight transition duration-150 ease-in-out hover:bg-red-500 hover:text-white"\n                onClick={() =>\n                  mutate({\n                    id: getValue() as number,\n                    resource: "posts",\n                  })\n                }\n              >\n                Delete\n              </button>\n            </>\n          );\n        },\n      },\n    ],\n    [],\n  );\n\n  // highlight-start\n  const {\n    reactTable: { getHeaderGroups, getRowModel },\n    setOptions,\n    refineCore: { result },\n    getState,\n    setPageIndex,\n    getCanPreviousPage,\n    getPageCount,\n    getCanNextPage,\n    nextPage,\n    previousPage,\n    setPageSize,\n  } = useTable<IPost>({ columns });\n  // highlight-end\n\n  const categoryIds = result?.data?.map((item) => item.category?.[0]) ?? [];\n\n  const { result: categoriesData } = useMany<ICategory>({\n    resource: "category",\n    ids: categoryIds,\n    queryOptions: {\n      enabled: categoryIds.length > 0,\n    },\n  });\n\n  setOptions((prev) => ({\n    ...prev,\n    meta: {\n      ...prev.meta,\n      categoriesData,\n    },\n  }));\n\n  return (\n    <div className="mx-auto pb-4">\n      <div className="mb-3 mt-1 flex items-center justify-end">\n        <button\n          className="flex items-center justify-between gap-1 rounded border border-gray-200 bg-indigo-500 p-2 text-xs font-medium leading-tight text-white transition duration-150 ease-in-out hover:bg-indigo-600"\n          onClick={() => create("posts")}\n        >\n          <span>Create Post</span>\n        </button>\n      </div>\n\n      <table className="min-w-full table-fixed divide-y divide-gray-200 border">\n        <thead className="bg-gray-100">\n          {getHeaderGroups().map((headerGroup, idx) => (\n            <tr key={idx}>\n              {headerGroup.headers.map((header, idx) => (\n                <th\n                  key={idx}\n                  colSpan={header.colSpan}\n                  className="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-700 "\n                >\n                  {flexRender(\n                    header.column.columnDef.header,\n                    header.getContext(),\n                  )}\n                </th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody className="divide-y divide-gray-200 bg-white">\n          {getRowModel().rows.map((row, idx) => {\n            return (\n              <tr key={idx} className="transition hover:bg-gray-100">\n                {row.getVisibleCells().map((cell, idx) => {\n                  return (\n                    <td\n                      key={idx}\n                      className="whitespace-nowrap px-6 py-2 text-sm font-medium text-gray-900"\n                    >\n                      {flexRender(\n                        cell.column.columnDef.cell,\n                        cell.getContext(),\n                      )}\n                    </td>\n                  );\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n\n      {/* highlight-start */}\n      <div className="mx-auto mt-12 flex items-center justify-between">\n        <div className="mx-auto flex items-center justify-between md:w-7/12">\n          <button\n            className="rounded border border-gray-200 p-2 text-xs font-medium leading-tight transition duration-150 ease-in-out hover:bg-indigo-500 hover:text-white"\n            onClick={() => setPageIndex(0)}\n            disabled={!getCanPreviousPage()}\n          >\n            {"<<"}\n          </button>\n          <button\n            className="rounded border border-gray-200 p-2 text-xs font-medium leading-tight transition duration-150 ease-in-out hover:bg-indigo-500 hover:text-white"\n            onClick={() => previousPage()}\n            disabled={!getCanPreviousPage()}\n          >\n            {"<"}\n          </button>\n          <button\n            className="rounded border border-gray-200 p-2 text-xs font-medium leading-tight transition duration-150 ease-in-out hover:bg-indigo-500 hover:text-white"\n            onClick={() => nextPage()}\n            disabled={!getCanNextPage()}\n          >\n            {">"}\n          </button>\n          <button\n            className="rounded border border-gray-200 p-2 text-xs font-medium leading-tight transition duration-150 ease-in-out hover:bg-indigo-500 hover:text-white"\n            onClick={() => setPageIndex(getPageCount() - 1)}\n            disabled={!getCanNextPage()}\n          >\n            {">>"}\n          </button>\n          <div className="w-[40%] px-5">\n            Page\n            <strong>\n              &nbsp; {getState().pagination.pageIndex + 1} of {getPageCount()}\n            </strong>\n          </div>\n          <div className="px-5">\n            Go to page:\n            <input\n              className="block rounded-[8px] border p-2"\n              type="number"\n              defaultValue={getState().pagination.pageIndex + 1}\n              onChange={(e) => {\n                const page = e.target.value ? Number(e.target.value) - 1 : 0;\n                setPageIndex(page);\n              }}\n            />\n          </div> <select\n            className="w-[50%] border px-5"\n            value={getState().pagination.pageSize}\n            onChange={(e) => {\n              setPageSize(Number(e.target.value));\n            }}\n          >\n            {[10, 20, 30, 40, 50].map((pageSize) => (\n              <option key={pageSize} value={pageSize}>\n                Show {pageSize}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n      {/* highlight-end */}\n    </div>\n  );\n};\n')))),(0,a.yg)("h2",{id:"conclusion"},"Conclusion"),(0,a.yg)("p",null,"In this article, we covered how to create a headless ",(0,a.yg)("strong",{parentName:"p"},"Refine")," application using the ",(0,a.yg)("inlineCode",{parentName:"p"},"create refine-app")," as well as creating a ",(0,a.yg)("strong",{parentName:"p"},"React CRUD")," application using ",(0,a.yg)("strong",{parentName:"p"},"Refine"),". There is no limit to what can be achieved using ",(0,a.yg)("strong",{parentName:"p"},"Refine")," as you can quickly a fully API or ",(0,a.yg)("strong",{parentName:"p"},"BAAS"),"-powered application with minimal effort and code. It also has well-detailed documentation which can soon get you started as well as guide you through your building process. To access the documentation, visit ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/getting-started/overview/"},"here"),"."),(0,a.yg)("h2",{id:"live-codesandbox-example"},"Live CodeSandbox Example"),(0,a.yg)(g,{path:"blog-refine-airtable-crud",mdxType:"CodeSandboxExample"}))}y.isMDXComponent=!0}}]);