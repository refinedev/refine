"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[19232],{91236:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>g,contentTitle:()=>d,default:()=>v,frontMatter:()=>p,metadata:()=>u,toc:()=>c});t(37953);var a=t(58860),r=t(82433),o=t(47191);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}const p={title:"Supabase",source:"https://github.com/refinedev/refine/tree/main/packages/supabase",swizzle:!0},d=void 0,u={unversionedId:"data/packages/supabase/index",id:"version-4.xx.xx/data/packages/supabase/index",title:"Supabase",description:"Introduction",source:"@site/versioned_docs/version-4.xx.xx/data/packages/supabase/index.md",sourceDirName:"data/packages/supabase",slug:"/data/packages/supabase/",permalink:"/docs/4.xx.xx/data/packages/supabase/",draft:!1,editUrl:"https://github.com/refinedev/refine/tree/main/documentation/versioned_docs/version-4.xx.xx/data/packages/supabase/index.md",tags:[],version:"4.xx.xx",lastUpdatedBy:"DipakHalkude",lastUpdatedAt:1760338328,formattedLastUpdatedAt:"Oct 13, 2025",frontMatter:{title:"Supabase",source:"https://github.com/refinedev/refine/tree/main/packages/supabase",swizzle:!0},sidebar:"mainSidebar",previous:{title:"Strapi v4",permalink:"/docs/4.xx.xx/data/packages/strapi-v4/"},next:{title:"Nest.js Query",permalink:"/docs/4.xx.xx/data/packages/nestjs-query/"}},g={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Project Setup",id:"project-setup",level:2},{value:"Establishing Supabase connection",id:"establishing-supabase-connection",level:2},{value:"Initialize Supabase client",id:"initialize-supabase-client",level:3},{value:"Register Supabase data provider",id:"register-supabase-data-provider",level:3},{value:"Understanding the Auth Provider",id:"understanding-the-auth-provider",level:2},{value:"Adding CRUD pages",id:"adding-crud-pages",level:2},{value:"Adding a List page",id:"adding-a-list-page",level:3},{value:"Adding a Create page",id:"adding-a-create-page",level:3},{value:"Adding an Edit page",id:"adding-an-edit-page",level:3},{value:"Adding Interfaces and Normalize file",id:"adding-interfaces-and-normalize-file",level:3},{value:"Adding Resources",id:"adding-resources",level:3},{value:"Understanding the Login screen",id:"understanding-the-login-screen",level:2},{value:"This premade and ready to use Login screen consist <code>AuthPage</code> and <code>authProvider</code> concepts behind the scenes:",id:"this-premade-and-ready-to-use-login-screen-consist-authpage-and-authprovider-concepts-behind-the-scenes",level:4},{value:"Social Logins",id:"social-logins",level:3},{value:"Enable Google Auth on Supabase",id:"enable-google-auth-on-supabase",level:3},{value:"Let&#39;s recap what we have done so far",id:"lets-recap-what-we-have-done-so-far",level:2},{value:"Supabase Realtime Support",id:"supabase-realtime-support",level:2},{value:"Let see how real-time feature works in the app",id:"let-see-how-real-time-feature-works-in-the-app",level:3},{value:"Using <code>meta</code> to pass values to data provider",id:"using-meta-to-pass-values-to-data-provider",level:2},{value:"<code>select</code> - Getting selected fields",id:"select---getting-selected-fields",level:3},{value:"<code>select</code> - Handling one-to-many relationship",id:"select---handling-one-to-many-relationship",level:3},{value:"<code>select</code> - Handling many-to-many relationships",id:"select---handling-many-to-many-relationships",level:3},{value:"<code>idColumnName</code> - using custom primary key",id:"idcolumnname---using-custom-primary-key",level:3},{value:"<code>schema</code> - using custom schema",id:"schema---using-custom-schema",level:3},{value:"Deep Filtering",id:"deep-filtering",level:3},{value:"<code>getList</code> - performance",id:"getlist---performance",level:3},{value:"FAQ",id:"faq",level:2},{value:"How can I use Supabase Realtime with relational queries?",id:"how-can-i-use-supabase-realtime-with-relational-queries",level:3},{value:"Example",id:"example",level:2}],m=e=>function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.yg)("div",n)},h=m("DocThumbsUpDownFeedbackWidget"),y=m("CodeSandboxExample"),f={toc:c},b="wrapper";function v(e){var{components:n}=e,t=l(e,["components"]);return(0,a.yg)(b,s(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){i(e,n,t[n])}))}return e}({},f,t),{components:n,mdxType:"MDXLayout"}),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:"live  shared",live:!0,"":!0,shared:!0},'const { useNavigation: useNavigationShared, useLogout: useLogoutShared } =\n  RefineCore;\nconst {\n  Typography: { Title: SharedTitle },\n  Button,\n} = AntdCore;\n\nwindow.__refineAuthStatus = false;\n\nconst authProvider = {\n  login: () => {\n    window.__refineAuthStatus = true;\n    return {\n      success: true,\n      redirectTo: "/login",\n    };\n  },\n  register: async () => {\n    return {\n      success: true,\n    };\n  },\n  forgotPassword: async () => {\n    return {\n      success: true,\n    };\n  },\n  updatePassword: async () => {\n    return {\n      success: true,\n    };\n  },\n  logout: async () => {\n    window.__refineAuthStatus = false;\n    return {\n      success: true,\n      redirectTo: "/",\n    };\n  },\n  check: async () => {\n    return {\n      authenticated: window.__refineAuthStatus ? true : false,\n      redirectTo: window.__refineAuthStatus ? undefined : "/login",\n    };\n  },\n  onError: async (error) => {\n    console.error(error);\n    return { error };\n  },\n  getPermissions: async () => null,\n  getIdentity: async () => null,\n};\n')),(0,a.yg)("h2",{id:"introduction"},"Introduction"),(0,a.yg)(h,{id:"introduction",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://supabase.com/"},"Supabase")," is an open-source Firebase alternative that provides backend features. This tutorial steps will focus specifically on database and authentication features. We'll see how to use Supabase as a data provider and implement authentication to Refine app."),(0,a.yg)("p",null,"Refine offers built-in data provider support for Supabase and handles all required data service methods out-of-the-box. Therefore, we will not need to use complex boilerplate codes to make it work. Refine handles all the complex works for us by internal hooks and implementations."),(0,a.yg)("p",null,"We'll build a simple CRUD app with Refine and use Supabase as a data provider. We'll also see how to use Supabase's authentication features on Refine app."),(0,a.yg)("p",null,"We are assuming that you have already know how Refine works. If not, please check out the ",(0,a.yg)("a",{parentName:"p",href:"/tutorial"},"Tutorial")," section first."),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/docs/data/data-provider"},"Refer to docs for more information about data provider ","\u2192")),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/integrations/"},"Discover the +15 most popular backend service data providers supported out-of-the-box by Refine ","\u2192"))),(0,a.yg)("h2",{id:"project-setup"},"Project Setup"),(0,a.yg)(h,{id:"project-setup",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"We'll be using ",(0,a.yg)("inlineCode",{parentName:"p"},"create refine-app")," CLI to bootstrap our example project with a special preset defined to Supabase example"),(0,a.yg)(r.A,{defaultValue:"preset",values:[{label:"Quick setup with CLI preset",value:"preset"},{label:"Without preset",value:"nopreset"}],mdxType:"Tabs"},(0,a.yg)(o.A,{value:"preset",mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},"npm create refine-app@latest -- --preset refine-antd-supabase my-supabase-app\n")),(0,a.yg)("p",null,"Also, we need to install npm packages to use markdown editor:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},"npm i @uiw/react-md-editor\n")),(0,a.yg)("p",null,"This will create a new Refine app with Supabase data provider and Ant Design as a UI framework. We'll be using this project as a base to implement our example.")),(0,a.yg)(o.A,{value:"nopreset",mdxType:"TabItem"},(0,a.yg)("p",null,"You are free to bootstrap a Refine app with any other features you want. To do so, you can run the following command and choose any data provider or feature you want."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},"npm create refine-app@latest example-app\n")),(0,a.yg)("p",null,"Then choose the following options:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-npm"},"? Select your project type: refine-react\n > refine-react\n? Do you want to use a UI Framework?:\n > Ant Design\n? Data Provider\n > Supabase\n")),(0,a.yg)("admonition",{type:"tip"},(0,a.yg)("p",{parentName:"admonition"},"If you want to add Supabase data provider to existed Refine app, you add it by running:"),(0,a.yg)("pre",{parentName:"admonition"},(0,a.yg)("code",{parentName:"pre"},"npm i @refinedev/supabase\n")))))),(0,a.yg)("h2",{id:"establishing-supabase-connection"},"Establishing Supabase connection"),(0,a.yg)("h3",{id:"initialize-supabase-client"},"Initialize Supabase client"),(0,a.yg)(h,{id:"initialize-supabase-client",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"If you head over to ",(0,a.yg)("inlineCode",{parentName:"p"},"src/utilty")," folder, you'll see a file called ",(0,a.yg)("inlineCode",{parentName:"p"},"supabaseClient.ts")," created by CLI. This auto-generated file contains API credentials and a function that initializes the Supabase client."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-ts"},'import { createClient } from "@refinedev/supabase";\n\nconst SUPABASE_URL = "https://iwdfzvfqbtokqetmbmbp.supabase.co";\nconst SUPABASE_KEY =\n  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzMDU2NzAxMCwiZXhwIjoxOTQ2MTQzMDEwfQ._gr6kXGkQBi9BM9dx5vKaNKYj_DJN1xlkarprGpM_fU";\n\nexport const supabaseClient = createClient(SUPABASE_URL, SUPABASE_KEY, {\n  db: {\n    schema: "public", // this can be overridden by passing `meta.schema` to data hooks.\n  },\n  auth: {\n    persistSession: true,\n  },\n});\n')),(0,a.yg)("p",null,"We'll use this example API credentials and ",(0,a.yg)("inlineCode",{parentName:"p"},"createClient")," method that exposes from ",(0,a.yg)("inlineCode",{parentName:"p"},"refine-supabase")," package for enabling Refine to Supabase API connection."),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://supabase.com/docs/guides/with-react#get-the-api-keys"},"You can find your Supabase URL and key from your Supabase dashboard ","\u2192"," ")),(0,a.yg)("admonition",{type:"tip"},(0,a.yg)("p",{parentName:"admonition"},"You can also use environment variables to store your Supabase URL and key. This is a good practice to keep your sensitive information safe."))),(0,a.yg)("h3",{id:"register-supabase-data-provider"},"Register Supabase data provider"),(0,a.yg)(h,{id:"register-supabase-data-provider",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"Let's head over to ",(0,a.yg)("inlineCode",{parentName:"p"},"App.tsx")," file where all magic happens. This is the entry point of our app. We'll be registering our Supabase data provider here."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="App.tsx"',title:'"App.tsx"'},'import { Refine } from "@refinedev/core";\n// highlight-start\nimport { dataProvider } from "@refinedev/supabase";\nimport { supabaseClient } from "utility";\n// highlight-end\n\nfunction App() {\n  return (\n    <Refine\n      // highlight-next-line\n      dataProvider={dataProvider(supabaseClient)}\n      //...\n    >\n      {/* ... */}\n    </Refine>\n  );\n}\n\nexport default App;\n')),(0,a.yg)("p",null,"Highlighted lines are the ones the CLI generator automatically added to register Supabase data provider. Simply, we are passing ",(0,a.yg)("inlineCode",{parentName:"p"},"supabaseClient")," to ",(0,a.yg)("inlineCode",{parentName:"p"},"dataProvider")," method to establish a connection with Supabase API."),(0,a.yg)("p",null,"With this configuration, Refine can now communicate with Supabase API and perform all required data service CRUD methods using data hooks."),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/docs/data/hooks/use-create"},"Refer to documentation to learn more about how to use data hooks ","\u2192"))),(0,a.yg)("h2",{id:"understanding-the-auth-provider"},"Understanding the Auth Provider"),(0,a.yg)(h,{id:"understanding-the-auth-provider",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"Auth provider is a concept that allows us to use any authentication service with refine."),(0,a.yg)("p",null,"You'll see a file called ",(0,a.yg)("inlineCode",{parentName:"p"},"src/authProvider.ts")," created by CLI. This auto-generated file contains pre-defined functions using Supabase Auth API methods internally to perform authentication and authorization operations."),(0,a.yg)("p",null,"So basically, this is where we set complete authentication logic for the app."),(0,a.yg)("p",null,"Since we preferred refine-supabase as the data provider during the CLI project initialization, all required Supabase authentication methods are already implemented for us. This shows us how easy it is to bootstrap a Refine app with CLI"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/docs/authentication/auth-provider"},"Refer to docs for more information about Auth Provider methods and custom Auth Providers ","\u2192")),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Take a look the auto-generated ",(0,a.yg)("b",null,"authProvider.ts")," file "),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/authProvider.ts"',title:'"src/authProvider.ts"'},'import { AuthProvider } from "@refinedev/core";\n\nimport { supabaseClient } from "utility";\n\nconst authProvider: AuthProvider = {\n  login: async ({ email, password, providerName }) => {\n    // sign in with oauth\n    try {\n      if (providerName) {\n        const { data, error } = await supabaseClient.auth.signInWithOAuth({\n          provider: providerName,\n        });\n\n        if (error) {\n          return {\n            success: false,\n            error,\n          };\n        }\n\n        if (data?.url) {\n          return {\n            success: true,\n          };\n        }\n      }\n\n      // sign in with email and password\n      const { data, error } = await supabaseClient.auth.signInWithPassword({\n        email,\n        password,\n      });\n\n      if (error) {\n        return {\n          success: false,\n          error,\n        };\n      }\n\n      if (data?.user) {\n        return {\n          success: true,\n        };\n      }\n    } catch (error: any) {\n      return {\n        success: false,\n        error,\n      };\n    }\n\n    return {\n      success: false,\n      error: {\n        message: "Login failed",\n        name: "Invalid email or password",\n      },\n    };\n  },\n  register: async ({ email, password }) => {\n    try {\n      const { data, error } = await supabaseClient.auth.signUp({\n        email,\n        password,\n      });\n\n      if (error) {\n        return {\n          success: false,\n          error,\n        };\n      }\n\n      if (data) {\n        return {\n          success: true,\n        };\n      }\n    } catch (error: any) {\n      return {\n        success: false,\n        error,\n      };\n    }\n\n    return {\n      success: false,\n      error: {\n        message: "Register failed",\n        name: "Invalid email or password",\n      },\n    };\n  },\n  forgotPassword: async ({ email }) => {\n    try {\n      const { data, error } = await supabaseClient.auth.resetPasswordForEmail(\n        email,\n        {\n          redirectTo: `${window.location.origin}/update-password`,\n        },\n      );\n\n      if (error) {\n        return {\n          success: false,\n          error,\n        };\n      }\n\n      if (data) {\n        notification.open({\n          type: "success",\n          message: "Success",\n          description:\n            "Please check your email for a link to reset your password. If it doesn\'t appear within a few minutes, check your spam folder.",\n        });\n        return {\n          success: true,\n        };\n      }\n    } catch (error: any) {\n      return {\n        success: false,\n        error,\n      };\n    }\n\n    return {\n      success: false,\n      error: {\n        message: "Forgot password failed",\n        name: "Invalid email",\n      },\n    };\n  },\n  updatePassword: async ({ password }) => {\n    try {\n      const { data, error } = await supabaseClient.auth.updateUser({\n        password,\n      });\n\n      if (error) {\n        return {\n          success: false,\n          error,\n        };\n      }\n\n      if (data) {\n        return {\n          success: true,\n          redirectTo: "/",\n        };\n      }\n    } catch (error: any) {\n      return {\n        success: false,\n        error,\n      };\n    }\n    return {\n      success: false,\n      error: {\n        message: "Update password failed",\n        name: "Invalid password",\n      },\n    };\n  },\n  logout: async () => {\n    const { error } = await supabaseClient.auth.signOut();\n\n    if (error) {\n      return {\n        success: false,\n        error,\n      };\n    }\n\n    return {\n      success: true,\n      redirectTo: "/",\n    };\n  },\n  onError: async (error) => {\n    console.error(error);\n    return { error };\n  },\n  check: async () => {\n    try {\n      const { data } = await supabaseClient.auth.getSession();\n      const { session } = data;\n\n      if (!session) {\n        return {\n          authenticated: false,\n          error: {\n            message: "Check failed",\n            name: "Session not found",\n          },\n          logout: true,\n          redirectTo: "/login",\n        };\n      }\n    } catch (error: any) {\n      return {\n        authenticated: false,\n        error: error || {\n          message: "Check failed",\n          name: "Session not found",\n        },\n        logout: true,\n        redirectTo: "/login",\n      };\n    }\n\n    return {\n      authenticated: true,\n    };\n  },\n  getPermissions: async () => {\n    const user = await supabaseClient.auth.getUser();\n\n    if (user) {\n      return user.data.user?.role;\n    }\n\n    return null;\n  },\n  getUserIdentity: async () => {\n    const { data } = await supabaseClient.auth.getUser();\n\n    if (data?.user) {\n      return {\n        ...data.user,\n        name: data.user.email,\n      };\n    }\n\n    return null;\n  },\n};\n\nexport default authProvider;\n')))),(0,a.yg)("admonition",{type:"tip"},(0,a.yg)("p",{parentName:"admonition"},"Auth provider functions are also consumed by ",(0,a.yg)("a",{parentName:"p",href:"/docs/authentication/hooks/use-login"},"Refine authorization hooks"),". Since this is out of scope of this tutorial, we'll not cover them for now")),(0,a.yg)("p",null,"Auth provider needed to be registered in ",(0,a.yg)("inlineCode",{parentName:"p"},"<Refine>")," component to activate auth features in our app"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="App.tsx"',title:'"App.tsx"'},'import { Refine } from "@refinedev/core";\n// highlight-start\nimport authProvider from "./authProvider";\n// highlight-end\n\nfunction App() {\n  return (\n    <Refine\n      // highlight-next-line\n      authProvider={authProvider}\n      //...\n    />\n  );\n}\n\nexport default App;\n')),(0,a.yg)("p",null,"Also, we'll see the ",(0,a.yg)("inlineCode",{parentName:"p"},"Auth provider")," methods in action when using ",(0,a.yg)("inlineCode",{parentName:"p"},"AuthPage")," in the next sections."),(0,a.yg)("p",null,"At this point, our Refine app is configured to communicate with Supabase API and ready to perform authentication operations using Supabase Auth methods."),(0,a.yg)("p",null,"If you head over to ",(0,a.yg)("inlineCode",{parentName:"p"},"localhost:5173"),", you'll see a welcome page."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:"live previewOnly previewHeight=800px url=http://localhost:5173",live:!0,previewOnly:!0,previewHeight:"800px",url:"http://localhost:5173"},'setInitialRoutes(["/"]);\n\nimport { useNotificationProvider, WelcomePage } from "@refinedev/antd";\nimport { Refine } from "@refinedev/core";\nimport routerBindings from "@refinedev/react-router";\nimport dataProvider from "@refinedev/simple-rest";\nimport { BrowserRouter, Route, Routes } from "react-router";\n\nimport "@refinedev/antd/dist/reset.css";\n\nconst App: React.FC = () => {\n  return (\n    <BrowserRouter>\n      <Refine\n        routerProvider={routerBindings}\n        dataProvider={dataProvider("https://api.fake-rest.refine.dev")}\n        notificationProvider={useNotificationProvider}\n      >\n        <Routes>\n          <Route index element={<WelcomePage />} />\n        </Routes>\n      </Refine>\n    </BrowserRouter>\n  );\n};\n\nrender(<App />);\n')),(0,a.yg)("p",null,"Now it's time to add some resources to our app.")),(0,a.yg)("h2",{id:"adding-crud-pages"},"Adding CRUD pages"),(0,a.yg)(h,{id:"adding-crud-pages",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"Before diving into Supabase features, we'll add simple CRUD pages to make the app more interactive."),(0,a.yg)("admonition",{type:"note"},(0,a.yg)("p",{parentName:"admonition"},"Since this post focuses on Supabase implementation, we'll not discuss how to create CRUD pages and how it works. You can refer to ",(0,a.yg)("a",{parentName:"p",href:"/tutorial"},"Tutorial")," to learn more about creating CRUD pages."))),(0,a.yg)("h3",{id:"adding-a-list-page"},"Adding a List page"),(0,a.yg)(h,{id:"adding-a-list-page",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"Let's add a listing page to show data retrieved from Supabase API in the table. Copy and paste the following code to ",(0,a.yg)("inlineCode",{parentName:"p"},"src/pages/posts")," folder and name it ",(0,a.yg)("inlineCode",{parentName:"p"},"list.tsx"),"."),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show the List Page code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/list.tsx"',title:'"src/pages/posts/list.tsx"'},'import {\n  List,\n  useTable,\n  EditButton,\n  ShowButton,\n  getDefaultSortOrder,\n  FilterDropdown,\n  useSelect,\n} from "@refinedev/antd";\nimport { Table, Space, Select } from "antd";\n\nimport { IPost, ICategory } from "interfaces";\n\nexport const PostList: React.FC = () => {\n  const { tableProps, sorter } = useTable<IPost>({\n    sorters: {\n      initial: [\n        {\n          field: "id",\n          order: "asc",\n        },\n      ],\n    },\n    meta: {\n      select: "*, categories(title)",\n    },\n  });\n\n  const { selectProps } = useSelect<ICategory>({\n    resource: "categories",\n  });\n\n  return (\n    <List>\n      <Table {...tableProps} rowKey="id">\n        <Table.Column\n          key="id"\n          dataIndex="id"\n          title="ID"\n          sorter\n          defaultSortOrder={getDefaultSortOrder("id", sorter)}\n        />\n        <Table.Column key="title" dataIndex="title" title="Title" sorter />\n        <Table.Column\n          key="categoryId"\n          dataIndex={["categories", "title"]}\n          title="Category"\n          defaultSortOrder={getDefaultSortOrder("categories.title", sorter)}\n          filterDropdown={(props) => (\n            <FilterDropdown {...props}>\n              <Select\n                style={{ minWidth: 200 }}\n                mode="multiple"\n                placeholder="Select Category"\n                {...selectProps}\n              />\n            </FilterDropdown>\n          )}\n        />\n        <Table.Column<IPost>\n          title="Actions"\n          dataIndex="actions"\n          render={(_, record) => (\n            <Space>\n              <EditButton hideText size="small" recordItemId={record.id} />\n              <ShowButton hideText size="small" recordItemId={record.id} />\n            </Space>\n          )}\n        />\n      </Table>\n    </List>\n  );\n};\n'))))),(0,a.yg)("h3",{id:"adding-a-create-page"},"Adding a Create page"),(0,a.yg)(h,{id:"adding-a-create-page",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"We'll need a page for creating a new record in Supabase API. Copy and paste following code to ",(0,a.yg)("inlineCode",{parentName:"p"},"src/pages/posts")," folder and name it ",(0,a.yg)("inlineCode",{parentName:"p"},"create.tsx"),"."),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show the Create Page code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/create.tsx"',title:'"src/pages/posts/create.tsx"'},'import { useState } from "react";\n\nimport { Create, useForm, useSelect } from "@refinedev/antd";\nimport { Form, Input, Select, Upload } from "antd";\nimport { RcFile } from "antd/lib/upload/interface";\n\nimport MDEditor from "@uiw/react-md-editor";\n\nimport { IPost, ICategory } from "interfaces";\nimport { supabaseClient, normalizeFile } from "utility";\n\nexport const PostCreate: React.FC = () => {\n  const { formProps, saveButtonProps } = useForm<IPost>();\n\n  const { selectProps: categorySelectProps } = useSelect<ICategory>({\n    resource: "categories",\n  });\n\n  return (\n    <Create saveButtonProps={saveButtonProps}>\n      <Form {...formProps} layout="vertical">\n        <Form.Item\n          label="Title"\n          name="title"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item\n          label="Category"\n          name="categoryId"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Select {...categorySelectProps} />\n        </Form.Item>\n        <Form.Item\n          label="Content"\n          name="content"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <MDEditor data-color-mode="light" />\n        </Form.Item>\n        <Form.Item label="Images">\n          <Form.Item\n            name="images"\n            valuePropName="fileList"\n            normalize={normalizeFile}\n            noStyle\n          >\n            <Upload.Dragger\n              name="file"\n              listType="picture"\n              multiple\n              customRequest={async ({ file, onError, onSuccess }) => {\n                try {\n                  const rcFile = file as RcFile;\n                  await supabaseClient.storage\n                    .from("refine")\n                    .upload(`public/${rcFile.name}`, file, {\n                      cacheControl: "3600",\n                      upsert: true,\n                    });\n\n                  const { data } = await supabaseClient.storage\n                    .from("refine")\n                    .getPublicUrl(`public/${rcFile.name}`);\n\n                  const xhr = new XMLHttpRequest();\n                  onSuccess && onSuccess({ url: data?.publicUrl }, xhr);\n                } catch (error) {\n                  onError && onError(new Error("Upload Error"));\n                }\n              }}\n            >\n              <p className="ant-upload-text">Drag & drop a file in this area</p>\n            </Upload.Dragger>\n          </Form.Item>\n        </Form.Item>\n      </Form>\n    </Create>\n  );\n};\n'))))),(0,a.yg)("h3",{id:"adding-an-edit-page"},"Adding an Edit page"),(0,a.yg)(h,{id:"adding-an-edit-page",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"We'll need a page for editing a record in Supabase API. Copy and paste following code to ",(0,a.yg)("inlineCode",{parentName:"p"},"src/pages/posts")," folder and name it ",(0,a.yg)("inlineCode",{parentName:"p"},"edit.tsx"),"."),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show the Edit Page code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/edit.tsx"',title:'"src/pages/posts/edit.tsx"'},'import React, { useState } from "react";\n\nimport {\n  Edit,\n  ListButton,\n  RefreshButton,\n  useForm,\n  useSelect,\n} from "@refinedev/antd";\nimport { Alert, Button, Form, Input, Select, Upload } from "antd";\nimport { RcFile } from "antd/lib/upload/interface";\n\nimport MDEditor from "@uiw/react-md-editor";\n\nimport { IPost, ICategory } from "interfaces";\nimport { supabaseClient, normalizeFile } from "utility";\n\nexport const PostEdit: React.FC = () => {\n  const [isDeprecated, setIsDeprecated] = useState(false);\n  const { formProps, saveButtonProps, query } = useForm<IPost>({\n    liveMode: "manual",\n    onLiveEvent: () => {\n      setIsDeprecated(true);\n    },\n  });\n\n  const postData = query?.data?.data;\n  const { selectProps: categorySelectProps } = useSelect<ICategory>({\n    resource: "categories",\n    defaultValue: postData?.categoryId,\n  });\n\n  const handleRefresh = () => {\n    query?.refetch();\n    setIsDeprecated(false);\n  };\n\n  return (\n    <Edit\n      saveButtonProps={saveButtonProps}\n      pageHeaderProps={{\n        extra: (\n          <>\n            <ListButton />\n            <RefreshButton onClick={handleRefresh} />\n          </>\n        ),\n      }}\n    >\n      {isDeprecated && (\n        <Alert\n          message="This post is changed. Reload to see it\'s latest version."\n          type="warning"\n          style={{\n            marginBottom: 20,\n          }}\n          action={\n            <Button onClick={handleRefresh} size="small" type="ghost">\n              Refresh\n            </Button>\n          }\n        />\n      )}\n\n      <Form {...formProps} layout="vertical">\n        <Form.Item\n          label="Title"\n          name="title"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item\n          label="Category"\n          name="categoryId"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Select {...categorySelectProps} />\n        </Form.Item>\n        <Form.Item\n          label="Content"\n          name="content"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <MDEditor data-color-mode="light" />\n        </Form.Item>\n        <Form.Item label="Images">\n          <Form.Item\n            name="images"\n            valuePropName="fileList"\n            normalize={normalizeFile}\n            noStyle\n          >\n            <Upload.Dragger\n              name="file"\n              listType="picture"\n              multiple\n              customRequest={async ({ file, onError, onSuccess }) => {\n                const rcFile = file as RcFile;\n                const fileUrl = `public/${rcFile.name}`;\n\n                const { error } = await supabaseClient.storage\n                  .from("refine")\n                  .upload(fileUrl, file, {\n                    cacheControl: "3600",\n                    upsert: true,\n                  });\n\n                if (error) {\n                  return onError?.(error);\n                }\n                const { data, error: urlError } = await supabaseClient.storage\n                  .from("refine")\n                  .getPublicUrl(fileUrl);\n\n                if (urlError) {\n                  return onError?.(urlError);\n                }\n\n                onSuccess?.({ url: data?.publicUrl }, new XMLHttpRequest());\n              }}\n            >\n              <p className="ant-upload-text">Drag & drop a file in this area</p>\n            </Upload.Dragger>\n          </Form.Item>\n        </Form.Item>\n      </Form>\n    </Edit>\n  );\n};\n'))))),(0,a.yg)("h3",{id:"adding-interfaces-and-normalize-file"},"Adding Interfaces and Normalize file"),(0,a.yg)(h,{id:"adding-interfaces-and-normalize-file",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"We need to add interfaces for ",(0,a.yg)("inlineCode",{parentName:"p"},"Post")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"Create")," pages to ",(0,a.yg)("inlineCode",{parentName:"p"},"src/interfaces/index.d.ts")," file."),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show the interface code "),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/interfaces/index.d.ts"',title:'"src/interfaces/index.d.ts"'},'export interface ICategory {\n  id: string;\n  title: string;\n}\n\nexport interface IFile {\n  name: string;\n  percent: number;\n  size: number;\n  status: "error" | "success" | "done" | "uploading" | "removed";\n  type: string;\n  uid: string;\n  url: string;\n}\n\nexport interface IPost {\n  id: string;\n  title: string;\n  content: string;\n  categoryId: string;\n  images: IFile[];\n}\n')))),(0,a.yg)("p",null,"Also, the ",(0,a.yg)("inlineCode",{parentName:"p"},"normalizeFile")," function needed to be added to the ",(0,a.yg)("inlineCode",{parentName:"p"},"src/utility/normalize.ts")," file to perform file upload operations specifically for Supabase API."),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Show the Normalize file code"),(0,a.yg)("p",null,(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/utility/normalize.ts"',title:'"src/utility/normalize.ts"'},'import { UploadFile } from "antd/lib/upload/interface";\n\ninterface UploadResponse {\n  url: string;\n}\ninterface EventArgs<T = UploadResponse> {\n  file: UploadFile<T>;\n  fileList: Array<UploadFile<T>>;\n}\n\nexport const normalizeFile = (event: EventArgs) => {\n  const { fileList } = event;\n\n  return fileList.map((item) => {\n    const { uid, name, type, size, response, percent, status } = item;\n\n    return {\n      uid,\n      name,\n      url: item.url || response?.url,\n      type,\n      size,\n      percent,\n      status,\n    };\n  });\n};\n')))),(0,a.yg)("p",null,"Finally expose those modules at ",(0,a.yg)("inlineCode",{parentName:"p"},"src/pages/posts")," by adding"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/index.ts"',title:'"src/pages/posts/index.ts"'},'export * from "./create";\nexport * from "./edit";\nexport * from "./list";\n'))),(0,a.yg)("h3",{id:"adding-resources"},"Adding Resources"),(0,a.yg)(h,{id:"adding-resources",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"One last thing we need to do is to add newly created CRUD pages to the ",(0,a.yg)("inlineCode",{parentName:"p"},"resources")," property of ",(0,a.yg)("inlineCode",{parentName:"p"},"<Refine>")," component."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import { dataProvider } from \'@refinedev/supabase\';\nimport { supabaseClient } from \'utility\';\n\nimport { BrowserRouter, Routes, Route, Outlet } from "react-router";\n\n//highlight-next-line\nimport { PostList, PostCreate, PostEdit } from \'pages/posts\';\n\nfunction App() {\n    return (\n        <BrowserRouter>\n            <Refine\n                ...\n                dataProvider={dataProvider(supabaseClient)}\n                //highlight-start\n                resources={[\n                    {\n                        name: \'posts\',\n                        list: "/posts",\n                        create: "/posts/create",\n                        edit: "/posts/edit/:id",\n                    },\n                ]}\n                //highlight-end\n            >\n                {/* highlight-start */}\n                <Routes>\n                    <Route path="/posts" element={<PostList />} />\n                    <Route path="/posts/create" element={<PostCreate />} />\n                    <Route path="/posts/edit/:id" element={<PostEdit />} />\n                </Routes>\n                {/* highlight-end */}\n            </Refine>\n        </BrowserRouter>\n    );\n}\n\nexport default App;\n')),(0,a.yg)("p",null,"The resources property activates the connection between CRUD pages and Supabase API."),(0,a.yg)("p",null,"Refine automatically matches the Supabase API endpoint with CRUD pages for us. In this way, the pages can interact with data from the API."),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"The ",(0,a.yg)("inlineCode",{parentName:"p"},"name")," property refers to the name of the table in the Supabase database.")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"The ",(0,a.yg)("inlineCode",{parentName:"p"},"list")," property registers ",(0,a.yg)("inlineCode",{parentName:"p"},"/posts")," endpoint to the ",(0,a.yg)("inlineCode",{parentName:"p"},"PostList")," component.")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},"The ",(0,a.yg)("inlineCode",{parentName:"p"},"create")," property registers ",(0,a.yg)("inlineCode",{parentName:"p"},"/posts/create")," endpoint to the ",(0,a.yg)("inlineCode",{parentName:"p"},"PostCreate")," component. Thereby, when you head over to ",(0,a.yg)("inlineCode",{parentName:"p"},"yourdomain.com/posts/create"),", you will see the ",(0,a.yg)("inlineCode",{parentName:"p"},"PostCreate")," page you just created."))),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/docs/core/refine-component#resources"},"Refer to resources docs for more information ","\u2192"))),(0,a.yg)("h2",{id:"understanding-the-login-screen"},"Understanding the Login screen"),(0,a.yg)(h,{id:"understanding-the-login-screen",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"After adding the resources, the app will look like:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:"live previewOnly url=http://localhost:5173/login previewHeight=600px",live:!0,previewOnly:!0,url:"http://localhost:5173/login",previewHeight:"600px"},'setInitialRoutes(["/login"]);\n\n// visible-block-start\nimport { Refine } from "@refinedev/core";\nimport { AuthPage, RefineThemes } from "@refinedev/antd";\nimport routerProvider from "@refinedev/react-router";\nimport { ConfigProvider } from "antd";\nimport { BrowserRouter, Routes, Route } from "react-router";\n\nimport { authProvider } from "./authProvider";\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <ConfigProvider theme={RefineThemes.Blue}>\n        <Refine routerProvider={routerProvider} authProvider={authProvider}>\n          <Routes>\n            <Route path="/login" element={<AuthPage type="login" />} />\n          </Routes>\n        </Refine>\n      </ConfigProvider>\n    </BrowserRouter>\n  );\n};\n// visible-block-end\nrender(<App />);\n')),(0,a.yg)("p",null,"Normally, Refine shows a default login page when ",(0,a.yg)("inlineCode",{parentName:"p"},"authProvider")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"resources")," properties are passed to ",(0,a.yg)("inlineCode",{parentName:"p"},"<Refine />")," component. However, our login screen is slightly different from the default one.")),(0,a.yg)("h4",{id:"this-premade-and-ready-to-use-login-screen-consist-authpage-and-authprovider-concepts-behind-the-scenes"},"This premade and ready to use Login screen consist ",(0,a.yg)("inlineCode",{parentName:"h4"},"AuthPage")," and ",(0,a.yg)("inlineCode",{parentName:"h4"},"authProvider")," concepts behind the scenes:"),(0,a.yg)(h,{id:"this-premade-and-ready-to-use-login-screen-consist-authpage-and-authprovider-concepts-behind-the-scenes",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"Let's check out the ",(0,a.yg)("inlineCode",{parentName:"p"},"Authentication")," property:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import { Refine, Authenticated } from "@refinedev/core";\n//highlight-start\nimport { AuthPage, RefineThemes, ThemedLayoutV2 } from "@refinedev/antd";\nimport routerProvider, {\n  NavigateToResource,\n  CatchAllNavigate,\n} from "@refinedev/react-router";\n//highlight-end\n\nimport { BrowserRouter, Routes, Route, Outlet } from "react-router";\nimport { ConfigProvider } from "antd";\nimport authProvider from "./authProvider";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <ConfigProvider theme={RefineThemes.Blue}>\n        <Refine\n          // highlight-next-line\n          routerProvider={routerProvider}\n          authProvider={authProvider}\n          //...\n        >\n          <Routes>\n            <Route\n              element={\n                <Authenticated fallback={<CatchAllNavigate to="/login" />}>\n                  <ThemedLayoutV2>\n                    <Outlet />\n                  </ThemedLayoutV2>\n                </Authenticated>\n              }\n            >\n              <Route path="/posts" element={<div>dummy list page</div>} />\n            </Route>\n            {/* highlight-start */}\n            <Route\n              element={\n                <Authenticated fallback={<Outlet />}>\n                  <NavigateToResource />\n                </Authenticated>\n              }\n            >\n              <Route path="/login" element={<AuthPage />} />\n              <Route path="/register" element={<AuthPage type="register" />} />\n              <Route\n                path="/forgot-password"\n                element={<AuthPage type="forgotPassword" />}\n              />\n              <Route\n                path="/update-password"\n                element={<AuthPage type="updatePassword" />}\n              />\n            </Route>\n            {/* highlight-end */}\n          </Routes>\n        </Refine>\n      </ConfigProvider>\n    </BrowserRouter>\n  );\n}\n')),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"AuthPage")," component returns ready-to-use authentication pages for login, register, update, and forgot password actions."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"This is where ",(0,a.yg)("inlineCode",{parentName:"strong"},"authProvider")," comes into play.")),(0,a.yg)("p",null,"Remember the ",(0,a.yg)("a",{parentName:"p",href:"#understanding-auth-provider"},"Understanding the Auth Provider")," section? We mentioned ",(0,a.yg)("inlineCode",{parentName:"p"},"login"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"register,"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"forgotPassword"),", and ",(0,a.yg)("inlineCode",{parentName:"p"},"updatePassword")," functions that use ",(0,a.yg)("a",{parentName:"p",href:"https://supabase.com/docs/guides/auth"},"Supabase Auth API")," methods internally in the ",(0,a.yg)("inlineCode",{parentName:"p"},"authProvider.ts")," file. These methods automatically bind to ",(0,a.yg)("inlineCode",{parentName:"p"},"<AuthPage>")," components by Refine to perform authentication operations."),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/website/static/img/guides-and-concepts/data-provider/supabase/flow.jpg",className:"rounded",alt:"flow"}),(0,a.yg)("p",null,"We'll show how to implement third party logins in the next sections."),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/docs/ui-integrations/ant-design/components/auth-page"},"Refer to AuthPage docs for more information ","\u2192")),(0,a.yg)("p",null,"Sign in the app with followings credentials:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"email: ",(0,a.yg)("a",{parentName:"li",href:"mailto:info@refine.dev"},"info@refine.dev")),(0,a.yg)("li",{parentName:"ul"},"password: refine-supabase")),(0,a.yg)("p",null,"We have successfully logged in to the app. After then ",(0,a.yg)("inlineCode",{parentName:"p"},"ListPage")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"CreatePage")," pages created. When the ",(0,a.yg)("inlineCode",{parentName:"p"},"Create")," button is clicked, the ",(0,a.yg)("inlineCode",{parentName:"p"},"CreatePage")," component will render."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:"live previewOnly url=http://localhost:5173/posts previewHeight=460px",live:!0,previewOnly:!0,url:"http://localhost:5173/posts",previewHeight:"460px"},'setInitialRoutes(["/posts/create"]);\n\ninterface ICategory {\n  id: number;\n  title: string;\n}\n\ninterface IPost {\n  id: number;\n  title: string;\n  content: string;\n  status: "published" | "draft" | "rejected";\n  category: { id: number };\n}\n\nimport { useMany } from "@refinedev/core";\nimport {\n  List,\n  TextField,\n  TagField,\n  useTable,\n  Create,\n  useForm,\n  useSelect,\n  CreateButton,\n} from "@refinedev/antd";\nimport { Table, Form, Input, Select } from "antd";\n\nconst PostCreate: React.FC = () => {\n  const { formProps, saveButtonProps } = useForm<IPost>();\n\n  const { selectProps: categorySelectProps } = useSelect<ICategory>({\n    resource: "categories",\n  });\n\n  return (\n    <Create saveButtonProps={saveButtonProps}>\n      <Form {...formProps} layout="vertical">\n        <Form.Item\n          label="Title"\n          name="title"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item\n          label="Category"\n          name={["category", "id"]}\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Select {...categorySelectProps} />\n        </Form.Item>\n        <Form.Item\n          label="Status"\n          name="status"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Select\n            options={[\n              {\n                label: "Published",\n                value: "published",\n              },\n              {\n                label: "Draft",\n                value: "draft",\n              },\n              {\n                label: "Rejected",\n                value: "rejected",\n              },\n            ]}\n          />\n        </Form.Item>\n      </Form>\n    </Create>\n  );\n};\n\nconst PostList: React.FC = () => {\n  const { tableProps } = useTable<IPost>({\n    syncWithLocation: true,\n  });\n\n  const categoryIds =\n    tableProps?.dataSource?.map((item) => item.category.id) ?? [];\n  const { data, isLoading } = useMany<ICategory>({\n    resource: "categories",\n    ids: categoryIds,\n    queryOptions: {\n      enabled: categoryIds.length > 0,\n    },\n  });\n\n  return (\n    <List>\n      <Table {...tableProps} rowKey="id">\n        <Table.Column dataIndex="id" title="ID" />\n        <Table.Column dataIndex="title" title="Title" />\n        <Table.Column\n          dataIndex={["category", "id"]}\n          title="Category"\n          render={(value) => {\n            if (isLoading) {\n              return <TextField value="Loading..." />;\n            }\n\n            return (\n              <TextField\n                value={data?.data.find((item) => item.id === value)?.title}\n              />\n            );\n          }}\n        />\n        <Table.Column\n          dataIndex="status"\n          title="Status"\n          render={(value: string) => <TagField value={value} />}\n        />\n      </Table>\n    </List>\n  );\n};\n\nrender(\n  <ReactRouter.BrowserRouter>\n    <RefineAntdDemo\n      resources={[\n        {\n          name: "posts",\n          list: "/posts",\n          create: "/posts/create",\n        },\n      ]}\n    >\n      <ReactRouter.Routes>\n        <ReactRouter.Route path="/posts" element={<PostList />} />\n        <ReactRouter.Route path="/posts/create" element={<PostCreate />} />\n      </ReactRouter.Routes>\n    </RefineAntdDemo>\n  </ReactRouter.BrowserRouter>,\n);\n')),(0,a.yg)("p",null,"Thanks to ",(0,a.yg)("inlineCode",{parentName:"p"},"refine-supabase")," data provider, we can now start creating new records for the Supabase Database by just filling the form.")),(0,a.yg)("h3",{id:"social-logins"},"Social Logins"),(0,a.yg)(h,{id:"social-logins",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"We'll show how to add Google Login option to the app."),(0,a.yg)("p",null,"Social login feature can be activated by setting ",(0,a.yg)("inlineCode",{parentName:"p"},"provider")," property of the ",(0,a.yg)("inlineCode",{parentName:"p"},"<AuthPage>")," component."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'//highlight-start\nimport { AuthPage } from "@refinedev/antd";\nimport { GoogleOutlined } from "@ant-design/icons";\n//highlight-end\n\nconst App: React.FC = () => {\n    return (\n        <Refine>\n            <Routes>\n                <Route\n                    path="/login"\n                    element={\n                        <AuthPage\n                            type="login"\n                            {/* highlight-start */}\n                            providers={[\n                                {\n                                    name: "google",\n                                    label: "Sign in with Google",\n                                    icon:\n                                        <GoogleOutlined\n                                            style={{\n                                                fontSize: 18,\n                                                lineHeight: 0,\n                                            }}\n                                        />\n                                },\n                            ]}\n                            {/* highlight-end */}\n                        />\n                    }\n                />\n            </Routes>\n            {/* ... */}\n        </Refine>\n    );\n};\n\nexport default App;\n')),(0,a.yg)("p",null,"This will add a new Google login button to the login page. After the user successfully logs in, the app will redirect back to the app.")),(0,a.yg)("h3",{id:"enable-google-auth-on-supabase"},"Enable Google Auth on Supabase"),(0,a.yg)(h,{id:"enable-google-auth-on-supabase",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"Head over to app.supabase.com and sign in to your Supabase account. Next, go to Authentication -> Settings to configure the Auth providers."),(0,a.yg)("p",null,"You will find the Google Auth option in the Auth providers section; enable it and set your Google Credentials."),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://supabase.com/docs/guides/auth/auth-google#create-your-google-credentials"},"Refer to Supabase docs for more information about Credentials ","\u2192")),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/website/static/img/guides-and-concepts/data-provider/supabase/supabase-config.png",className:"rounded",alt:"supabaseConfig"}),(0,a.yg)("p",null,"Here is the result:"),(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/website/static/img/guides-and-concepts/data-provider/supabase/social-login-min.gif",className:"border border-gray-200 rounded",alt:"socialLogin"})),(0,a.yg)("h2",{id:"lets-recap-what-we-have-done-so-far"},"Let's recap what we have done so far"),(0,a.yg)(h,{id:"lets-recap-what-we-have-done-so-far",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"So far, we have implemented the followings:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"We have reviewed Supabase Client and data provider concepts. We've seen benefits of using Refine and how it can handle complex setups for us."),(0,a.yg)("li",{parentName:"ul"},"We have talked about the ",(0,a.yg)("inlineCode",{parentName:"li"},"authProvider")," concept and how it works with Supabase Auth API. We also see the advantages of Refine's built-in authentication support."),(0,a.yg)("li",{parentName:"ul"},"We have added CRUD pages to make the app interact with Supabase API. We've seen how the ",(0,a.yg)("inlineCode",{parentName:"li"},"resources")," property works and how it connects the pages with the API."),(0,a.yg)("li",{parentName:"ul"},"We have seen how the ",(0,a.yg)("a",{parentName:"li",href:"/docs/packages/list-of-packages#usage-with-authentication"},(0,a.yg)("inlineCode",{parentName:"a"},"Authentication"))," component works and how it overrides the default login page with the ",(0,a.yg)("inlineCode",{parentName:"li"},"AuthPage")," component. We've seen how ",(0,a.yg)("inlineCode",{parentName:"li"},"AuthPage")," component uses ",(0,a.yg)("inlineCode",{parentName:"li"},"authProvider")," methods internally."),(0,a.yg)("li",{parentName:"ul"},"We have seen how authorization handling in Refine app by understanding the logic behind of ",(0,a.yg)("inlineCode",{parentName:"li"},"authProvider"),", and ",(0,a.yg)("inlineCode",{parentName:"li"},"<AuthPage>")," component.")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Refine provides solutions for critical parts of the complete CRUD app requirements. It saves development time and effort by providing ready-to-use components and features."))),(0,a.yg)("h2",{id:"supabase-realtime-support"},"Supabase Realtime Support"),(0,a.yg)(h,{id:"supabase-realtime-support",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"Refine has a built-in support for ",(0,a.yg)("a",{parentName:"p",href:"https://supabase.com/docs/guides/realtime"},"Supabase Realtime"),". It means that when you create, update, or delete a record, the changes will be reflected in the app in real-time.\nRequired Supabase Realtime setup is already done in the ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/refinedev/refine/tree/main/packages/supabase"},(0,a.yg)("inlineCode",{parentName:"a"},"@refinedev/supabase")),"` data provider."),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://github.com/refinedev/refine/blob/main/packages/supabase/src/index.ts#L325"},"You can check the Supabase Realtime integration in the data provider source code ","\u2192")),(0,a.yg)("p",null,"We only need to register Refine's Supabase Live Provider to the ",(0,a.yg)("inlineCode",{parentName:"p"},"liveProvider")," property to enable real-time support."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import { Refine } from "@refinedev/core";\n//highlight-start\nimport { liveProvider } from "@refinedev/supabase";\nimport { supabaseClient } from "utility";\n//highlight-end\n\n/* ... */\n\nfunction App() {\n  return (\n    <Refine\n      //highlight-start\n      liveProvider={liveProvider(supabaseClient)}\n      options={{ liveMode: "auto" }}\n      //highlight-end\n      /* ... */\n    >\n      {/* ... */}\n    </Refine>\n  );\n}\n')),(0,a.yg)("p",null,"For live features to work automatically, we set ",(0,a.yg)("inlineCode",{parentName:"p"},'liveMode: "auto"')," in the options prop."),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/docs/realtime/live-provider#livemode"},"Refer to Live Provider docs for more information ","\u2192"))),(0,a.yg)("h3",{id:"let-see-how-real-time-feature-works-in-the-app"},"Let see how real-time feature works in the app"),(0,a.yg)(h,{id:"let-see-how-real-time-feature-works-in-the-app",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/website/static/img/guides-and-concepts/data-provider/supabase/real-time-min.gif",className:"border border-gray-200 rounded",alt:"realTime"}),(0,a.yg)("admonition",{type:"tip"},(0,a.yg)("p",{parentName:"admonition"},"Refine offers out-of-the-box live provider support:"),(0,a.yg)("ul",{parentName:"admonition"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Ably")," ","\u2192"," ",(0,a.yg)("a",{parentName:"li",href:"https://github.com/refinedev/refine/blob/main/packages/ably/src/index.ts"},"Source Code")," - ",(0,a.yg)("a",{parentName:"li",href:"https://codesandbox.io/embed/github/refinedev/refine/tree/main/examples/live-provider-ably/?view=preview&theme=dark&codemirror=1"},"Demo")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Supabase")," ","\u2192"," ",(0,a.yg)("a",{parentName:"li",href:"https://github.com/refinedev/refine/blob/main/packages/supabase/src/index.ts#L187"},"Source Code")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Appwrite")," ","\u2192"," ",(0,a.yg)("a",{parentName:"li",href:"https://github.com/refinedev/refine/blob/main/packages/appwrite/src/index.ts#L252"},"Source Code")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Hasura")," ","\u2192"," ",(0,a.yg)("a",{parentName:"li",href:"https://github.com/refinedev/refine/blob/main/packages/hasura/src/liveProvider/index.ts#L16"},"Source Code"))))),(0,a.yg)("h2",{id:"using-meta-to-pass-values-to-data-provider"},"Using ",(0,a.yg)("inlineCode",{parentName:"h2"},"meta")," to pass values to data provider"),(0,a.yg)(h,{id:"using-meta-to-pass-values-to-data-provider",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"The ",(0,a.yg)("a",{parentName:"p",href:"/docs/guides-concepts/general-concepts/#meta-concept"},(0,a.yg)("inlineCode",{parentName:"a"},"meta"))," property is used to pass additional information that can be read by data provider methods."),(0,a.yg)("p",null,"We'll show an example of getting relational data from different tables on Supabase API using ",(0,a.yg)("inlineCode",{parentName:"p"},"meta")," property."),(0,a.yg)("p",null,"Take a look at the useTable hook in List page we created on the ",(0,a.yg)("a",{parentName:"p",href:"/docs/packages/list-of-packages#adding-a-list-page"},"previous sections"),".")),(0,a.yg)("h3",{id:"select---getting-selected-fields"},(0,a.yg)("inlineCode",{parentName:"h3"},"select")," - Getting selected fields"),(0,a.yg)(h,{id:"select---getting-selected-fields",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"By default, the data provider query methods use the ",(0,a.yg)("inlineCode",{parentName:"p"},"*")," value for the ",(0,a.yg)("inlineCode",{parentName:"p"},"select")," property, while the mutation methods do not use the ",(0,a.yg)("inlineCode",{parentName:"p"},"select")," property. You can pass the ",(0,a.yg)("inlineCode",{parentName:"p"},"select")," property in the ",(0,a.yg)("inlineCode",{parentName:"p"},"meta")," object to override this behavior."),(0,a.yg)("p",null,"For example, if you want to get only the ",(0,a.yg)("inlineCode",{parentName:"p"},"title")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"content")," fields from the ",(0,a.yg)("inlineCode",{parentName:"p"},"posts")," table instead of all fields, you can override the ",(0,a.yg)("inlineCode",{parentName:"p"},'"*"')," value by passing the ",(0,a.yg)("inlineCode",{parentName:"p"},"select")," property in the ",(0,a.yg)("inlineCode",{parentName:"p"},"meta")," as shown below:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'useList({\n  resource: "posts",\n  //highlight-start\n  meta: {\n    select: "title, content",\n  },\n  // highlight-end\n});\n')),(0,a.yg)("p",null,"Also, since mutation methods do not use the ",(0,a.yg)("inlineCode",{parentName:"p"},"select")," property by default, you can pass the ",(0,a.yg)("inlineCode",{parentName:"p"},"select")," property in the ",(0,a.yg)("inlineCode",{parentName:"p"},"meta")," object to get the selected fields."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'const { mutate } = useCreate();\n\nmutate({\n  resource: "posts",\n  values: {\n    title: "Hello World",\n    content: "Lorem ipsum dolor sit amet",\n  },\n  //highlight-start\n  meta: {\n    select: "title, content",\n  },\n  // highlight-end\n});\n'))),(0,a.yg)("h3",{id:"select---handling-one-to-many-relationship"},(0,a.yg)("inlineCode",{parentName:"h3"},"select")," - Handling one-to-many relationship"),(0,a.yg)(h,{id:"select---handling-one-to-many-relationship",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"We pass a ",(0,a.yg)("inlineCode",{parentName:"p"},"select")," value in ",(0,a.yg)("inlineCode",{parentName:"p"},"meta")," object to perform relational database operation in ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/refinedev/refine/blob/main/packages/supabase/src/index.ts"},"Supabase data provider"),". The data provider methods are using Supabase ",(0,a.yg)("a",{parentName:"p",href:"https://supabase.io/docs/reference/javascript/select"},(0,a.yg)("inlineCode",{parentName:"a"},"select"))," property internally."),(0,a.yg)("p",null,"In this way, we can get the ",(0,a.yg)("inlineCode",{parentName:"p"},"title")," data from the ",(0,a.yg)("inlineCode",{parentName:"p"},"categories")," table and display it on the List page."),(0,a.yg)("p",null,"For example, for ",(0,a.yg)("inlineCode",{parentName:"p"},"posts -> categories")," relationship, we can get the ",(0,a.yg)("inlineCode",{parentName:"p"},"title")," data from the ",(0,a.yg)("inlineCode",{parentName:"p"},"categories")," table and display it on the List page."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/list.tsx"',title:'"src/pages/posts/list.tsx"'},'const { tableProps, sorter } = useTable<IPost>({\n  //highlight-start\n  resource: "posts",\n  meta: {\n    select: "*, categories(title)",\n  },\n  // highlight-end\n});\n')),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"useList"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"useOne"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"useMany")," hooks are using Supabase ",(0,a.yg)("a",{parentName:"p",href:"https://supabase.io/docs/reference/javascript/select"},(0,a.yg)("inlineCode",{parentName:"a"},"select"))," property internally. So you can pass parameters to the Supbase select method using ",(0,a.yg)("inlineCode",{parentName:"p"},"meta")," property.")),(0,a.yg)("h3",{id:"select---handling-many-to-many-relationships"},(0,a.yg)("inlineCode",{parentName:"h3"},"select")," - Handling many-to-many relationships"),(0,a.yg)(h,{id:"select---handling-many-to-many-relationships",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"For example, for ",(0,a.yg)("inlineCode",{parentName:"p"},"movies <-> categories_movies <-> categories")," many-to-many relationship, we can get the ",(0,a.yg)("inlineCode",{parentName:"p"},"categories")," data of a user using ",(0,a.yg)("inlineCode",{parentName:"p"},"meta")," property."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/users/list.tsx"',title:'"src/pages/users/list.tsx"'},'const { tableProps, sorter } = useTable<IUser>({\n  //highlight-start\n  resource: "movies",\n  meta: {\n    select: "*, categories!inner(name)",\n  },\n  // highlight-end\n});\n'))),(0,a.yg)("h3",{id:"idcolumnname---using-custom-primary-key"},(0,a.yg)("inlineCode",{parentName:"h3"},"idColumnName")," - using custom primary key"),(0,a.yg)(h,{id:"idcolumnname---using-custom-primary-key",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"meta")," ",(0,a.yg)("inlineCode",{parentName:"p"},"id"),' property is used to match the column name of the primary key(in case the column name is different than "id") in your Supabase data table to the column name you have assigned.'),(0,a.yg)("p",null,"Refine's ",(0,a.yg)("a",{parentName:"p",href:"/docs/data/hooks/use-many"},"useMany")," hook accepts ",(0,a.yg)("inlineCode",{parentName:"p"},"meta")," property and uses ",(0,a.yg)("inlineCode",{parentName:"p"},"getMany")," method of data provider."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'useMany({\n  resource: "posts",\n  ids: [1, 2],\n});\n')),(0,a.yg)("p",null,"By default, it searches for posts in the ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," column of the data table."),(0,a.yg)("p",null,"With passing ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," parameter to the ",(0,a.yg)("inlineCode",{parentName:"p"},"meta")," property, we can change the column name to the ",(0,a.yg)("inlineCode",{parentName:"p"},"post_id")," that will be searched for the ids."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'useMany({\n  resource: "posts",\n  ids: [1, 2],\n  //highlight-start\n  meta: {\n    idColumnName: "post_id",\n  },\n  // highlight-end\n});\n')),(0,a.yg)("p",null,"Now it searches for posts in the ",(0,a.yg)("inlineCode",{parentName:"p"},"post_id")," column of the data table instead of ",(0,a.yg)("inlineCode",{parentName:"p"},"id")," column.")),(0,a.yg)("h3",{id:"schema---using-custom-schema"},(0,a.yg)("inlineCode",{parentName:"h3"},"schema")," - using custom schema"),(0,a.yg)(h,{id:"schema---using-custom-schema",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"By default, it uses the given schema from supabase client. You can pass the ",(0,a.yg)("inlineCode",{parentName:"p"},"schema")," property in the ",(0,a.yg)("inlineCode",{parentName:"p"},"meta")," object to override this behavior."),(0,a.yg)("p",null,"This property is also passed to the live provider and can be used in all data hooks"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/users/list.tsx"',title:'"src/pages/users/list.tsx"'},'const tableProps = useTable<IUser>({\n  resource: "posts",\n  //highlight-start\n  meta: {\n    schema: "foo",\n  },\n  // highlight-end\n});\n'))),(0,a.yg)("h3",{id:"deep-filtering"},"Deep Filtering"),(0,a.yg)(h,{id:"deep-filtering",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"Deep filtering is filtering on a relation's fields."),(0,a.yg)("p",null,"It gets the posts where the ",(0,a.yg)("inlineCode",{parentName:"p"},"title")," of the ",(0,a.yg)("inlineCode",{parentName:"p"},"categories"),' is "Beginning". Also the inner fields of the categories can be reached with dot notation.'),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'const { tableProps, sorter } = useTable({\n  resource: "posts",\n  //highlight-start\n  filters: {\n    initial: [\n      { field: "categories.title", operator: "eq", value: "Beginning" },\n    ],\n  },\n  meta: {\n    select: "*, categories!inner(title)",\n  },\n  //highlight-end\n});\n')),(0,a.yg)("admonition",{type:"caution"},(0,a.yg)("p",{parentName:"admonition"},"If you filter based on a table from an inner join, you will need to use ",(0,a.yg)("inlineCode",{parentName:"p"},".select('*, mytable!inner(*)')")," within Supabase."))),(0,a.yg)("h3",{id:"getlist---performance"},(0,a.yg)("inlineCode",{parentName:"h3"},"getList")," - performance"),(0,a.yg)(h,{id:"getlist---performance",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"By default, the data provider ",(0,a.yg)("inlineCode",{parentName:"p"},"getList")," method returns the exact count of rows. Depending on the table size, this can slow down the request. You can request estimations of the total count by passing the ",(0,a.yg)("inlineCode",{parentName:"p"},"count")," property in the ",(0,a.yg)("inlineCode",{parentName:"p"},"meta")," as shown below:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'useList({\n  resource: "posts",\n  //highlight-start\n  meta: {\n    count: "estimated",\n  },\n  // highlight-end\n});\n')),(0,a.yg)("p",null,"By default the ",(0,a.yg)("inlineCode",{parentName:"p"},"exact")," count is used."),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://postgrest.org/en/stable/references/api/tables_views.html#exact-count"},"Refer to the PostgREST docs for more information about the count property ","\u2192"))),(0,a.yg)("h2",{id:"faq"},"FAQ"),(0,a.yg)("h3",{id:"how-can-i-use-supabase-realtime-with-relational-queries"},"How can I use Supabase Realtime with relational queries?"),(0,a.yg)(h,{id:"how-can-i-use-supabase-realtime-with-relational-queries",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)("p",null,"We use ",(0,a.yg)("inlineCode",{parentName:"p"},"meta.select")," property to fetch relational data from foreign tables in Supabase. However, Supabase client doesn't have ",(0,a.yg)("a",{parentName:"p",href:"#supabase-realtime-support"},"Supabase Realtime")," support for the relational data changes. To handle this, we need to ",(0,a.yg)("a",{parentName:"p",href:"https://refine.dev/docs/realtime/hooks/use-subscription"},"manually subscribe")," and refetch the data when a change occurs in the related table."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx"},'import { useTable, useSubscription } from "@refinedev/core";\n\nexport const PostList = () => {\n  const table = useTable({\n    meta: {\n      select: "*, categories(title)",\n    },\n  });\n\n  useSubscription({\n    channel: "categories",\n    types: ["*"],\n    onLiveEvent: () => {\n      table.tableQuery.refetch();\n    },\n  });\n\n  return <>{/* ... */}</>;\n};\n'))),(0,a.yg)("h2",{id:"example"},"Example"),(0,a.yg)(h,{id:"example",mdxType:"DocThumbsUpDownFeedbackWidget"},(0,a.yg)(y,{path:"data-provider-supabase",mdxType:"CodeSandboxExample"}),(0,a.yg)("hr",null)))}v.isMDXComponent=!0}}]);