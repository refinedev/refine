{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "auto-save-indicator",
  "type": "registry:component",
  "title": "Auto Save Indicator",
  "author": "Refine <info@refine.dev>",
  "description": "A visual indicator component for auto-save functionality in Refine forms. Shows loading, success, error, and idle states with smooth transitions and customizable elements.",
  "dependencies": ["@refinedev/core", "lucide-react"],
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/new-york/refine-ui/form/auto-save-indicator.tsx",
      "content": "\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useTranslate, type AutoSaveIndicatorProps } from \"@refinedev/core\";\r\nimport { AlertTriangle, Clock, CheckCircle2, Loader2 } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ntype Props = AutoSaveIndicatorProps;\r\n\r\nexport function AutoSaveIndicator({\r\n  status,\r\n  elements: elementsFromProps,\r\n}: Props) {\r\n  const t = useTranslate();\r\n  const [shouldFadeSuccess, setShouldFadeSuccess] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (status === \"success\") {\r\n      const timer = setTimeout(() => {\r\n        setShouldFadeSuccess(true);\r\n      }, 1000);\r\n\r\n      return () => {\r\n        clearTimeout(timer);\r\n        setShouldFadeSuccess(false);\r\n      };\r\n    }\r\n    setShouldFadeSuccess(false);\r\n  }, [status]);\r\n\r\n  const elements = {\r\n    pending: elementsFromProps?.loading ?? (\r\n      <div\r\n        className={cn(\r\n          \"flex\",\r\n          \"items-center\",\r\n          \"h-9\",\r\n          \"text-sm\",\r\n          \"text-sky-600\",\r\n          \"px-3\",\r\n        )}\r\n      >\r\n        <Loader2 className={cn(\"h-4\", \"w-4\", \"mr-2\", \"animate-spin\")} />\r\n        <span className={cn(\"font-medium\")}>\r\n          {t(\"autoSave.saving\", \"Saving\")}\r\n        </span>\r\n      </div>\r\n    ),\r\n    success: elementsFromProps?.success ?? (\r\n      <div\r\n        className={cn(\r\n          \"flex\",\r\n          \"items-center\",\r\n          \"h-9\",\r\n          \"text-sm\",\r\n          \"text-emerald-500\",\r\n          \"transition-opacity\",\r\n          \"duration-500\",\r\n          \"px-3\",\r\n          {\r\n            \"opacity-50\": shouldFadeSuccess,\r\n          },\r\n        )}\r\n      >\r\n        <CheckCircle2 className={cn(\"h-4\", \"w-4\", \"mr-2\")} />\r\n        <span className={cn(\"font-medium\")}>\r\n          {t(\"autoSave.saved\", \"Saved\")}\r\n        </span>\r\n      </div>\r\n    ),\r\n    error: elementsFromProps?.error ?? (\r\n      <div\r\n        className={cn(\r\n          \"flex\",\r\n          \"items-center\",\r\n          \"h-9\",\r\n          \"text-sm\",\r\n          \"text-rose-400\",\r\n          \"px-3\",\r\n        )}\r\n      >\r\n        <AlertTriangle className={cn(\"h-4\", \"w-4\", \"mr-2\")} />\r\n        <span className={cn(\"font-medium\")}>\r\n          {t(\"autoSave.failed\", \"Failed\")}\r\n        </span>\r\n      </div>\r\n    ),\r\n    idle: elementsFromProps?.idle ?? (\r\n      <div\r\n        className={cn(\r\n          \"flex\",\r\n          \"items-center\",\r\n          \"h-9\",\r\n          \"text-sm\",\r\n          \"text-slate-500\",\r\n          \"px-3\",\r\n        )}\r\n      >\r\n        <Clock className={cn(\"h-4\", \"w-4\", \"mr-2\")} />\r\n        <span>{t(\"autoSave.idle\", \"Idle\")} </span>\r\n      </div>\r\n    ),\r\n  };\r\n\r\n  return <div className={cn(\"flex\")}>{elements[status]}</div>;\r\n}\r\n\r\nAutoSaveIndicator.displayName = \"AutoSaveIndicator\";\r\n",
      "type": "registry:component",
      "target": "src/components/refine-ui/form/auto-save-indicator.tsx"
    }
  ],
  "docs": "https://github.com/refinedev/refine",
  "categories": ["form", "auto-save", "indicator", "feedback", "ui"]
}
