{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "theme-provider",
  "type": "registry:component",
  "title": "Theme Provider & Toggle & Select",
  "author": "Refine <info@refine.dev>",
  "description": "A complete theme system with provider, toggle, and select components. Supports dark, light, and system themes with localStorage persistence.",
  "dependencies": ["lucide-react"],
  "registryDependencies": ["button", "dropdown-menu"],
  "files": [
    {
      "path": "registry/new-york/refine-ui/theme/theme-provider.tsx",
      "content": "\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\ntype Theme = \"dark\" | \"light\" | \"system\";\r\n\r\ntype ThemeProviderProps = {\r\n  children: React.ReactNode;\r\n  defaultTheme?: Theme;\r\n  storageKey?: string;\r\n};\r\n\r\ntype ThemeProviderState = {\r\n  theme: Theme;\r\n  setTheme: (theme: Theme) => void;\r\n};\r\n\r\nconst initialState: ThemeProviderState = {\r\n  theme: \"system\",\r\n  setTheme: () => null,\r\n};\r\n\r\nconst ThemeProviderContext = createContext<ThemeProviderState>(initialState);\r\n\r\nexport function ThemeProvider({\r\n  children,\r\n  defaultTheme = \"system\",\r\n  storageKey = \"refine-ui-theme\",\r\n  ...props\r\n}: ThemeProviderProps) {\r\n  const [theme, setTheme] = useState<Theme>(\r\n    () => (localStorage.getItem(storageKey) as Theme) || defaultTheme,\r\n  );\r\n\r\n  useEffect(() => {\r\n    const root = window.document.documentElement;\r\n\r\n    root.classList.remove(\"light\", \"dark\");\r\n\r\n    if (theme === \"system\") {\r\n      const systemTheme = window.matchMedia(\"(prefers-color-scheme: dark)\")\r\n        .matches\r\n        ? \"dark\"\r\n        : \"light\";\r\n\r\n      root.classList.add(systemTheme);\r\n      return;\r\n    }\r\n\r\n    root.classList.add(theme);\r\n  }, [theme]);\r\n\r\n  const value = {\r\n    theme,\r\n    setTheme: (theme: Theme) => {\r\n      localStorage.setItem(storageKey, theme);\r\n      setTheme(theme);\r\n    },\r\n  };\r\n\r\n  return (\r\n    <ThemeProviderContext.Provider {...props} value={value}>\r\n      {children}\r\n    </ThemeProviderContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useTheme() {\r\n  const context = useContext(ThemeProviderContext);\r\n\r\n  if (context === undefined) {\r\n    console.error(\"useTheme must be used within a ThemeProvider\");\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\nThemeProvider.displayName = \"ThemeProvider\";\r\n",
      "type": "registry:component",
      "target": "src/components/refine-ui/theme/theme-provider.tsx"
    },
    {
      "path": "registry/new-york/refine-ui/theme/theme-toggle.tsx",
      "content": "\"use client\";\r\n\r\nimport { useTheme } from \"@/registry/new-york/refine-ui/theme/theme-provider\";\r\nimport { Button } from \"@/registry/new-york/ui/button\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Moon, Sun, Monitor } from \"lucide-react\";\r\n\r\ntype ThemeToggleProps = {\r\n  className?: string;\r\n};\r\n\r\nexport function ThemeToggle({ className }: ThemeToggleProps) {\r\n  const { theme, setTheme } = useTheme();\r\n\r\n  const cycleTheme = () => {\r\n    switch (theme) {\r\n      case \"light\":\r\n        setTheme(\"dark\");\r\n        break;\r\n      case \"dark\":\r\n        setTheme(\"system\");\r\n        break;\r\n      case \"system\":\r\n        setTheme(\"light\");\r\n        break;\r\n      default:\r\n        setTheme(\"light\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      variant=\"outline\"\r\n      size=\"icon\"\r\n      onClick={cycleTheme}\r\n      className={cn(\r\n        \"rounded-full\",\r\n        \"border-sidebar-border\",\r\n        \"bg-transparent\",\r\n        className,\r\n        \"h-10\",\r\n        \"w-10\",\r\n      )}\r\n    >\r\n      <Sun\r\n        className={cn(\r\n          \"h-[1.2rem]\",\r\n          \"w-[1.2rem]\",\r\n          \"rotate-0\",\r\n          \"scale-100\",\r\n          \"transition-all\",\r\n          \"duration-200\",\r\n          {\r\n            \"-rotate-90 scale-0\": theme === \"dark\" || theme === \"system\",\r\n          },\r\n        )}\r\n      />\r\n      <Moon\r\n        className={cn(\r\n          \"absolute\",\r\n          \"h-[1.2rem]\",\r\n          \"w-[1.2rem]\",\r\n          \"rotate-90\",\r\n          \"scale-0\",\r\n          \"transition-all\",\r\n          \"duration-200\",\r\n          {\r\n            \"rotate-0 scale-100\": theme === \"dark\",\r\n            \"rotate-90 scale-0\": theme === \"light\" || theme === \"system\",\r\n          },\r\n        )}\r\n      />\r\n      <Monitor\r\n        className={cn(\r\n          \"absolute\",\r\n          \"h-[1.2rem]\",\r\n          \"w-[1.2rem]\",\r\n          \"rotate-0\",\r\n          \"scale-0\",\r\n          \"transition-all\",\r\n          \"duration-200\",\r\n          {\r\n            \"scale-100\": theme === \"system\",\r\n            \"scale-0\": theme === \"light\" || theme === \"dark\",\r\n          },\r\n        )}\r\n      />\r\n      <span className=\"sr-only\">Toggle theme (Light → Dark → System)</span>\r\n    </Button>\r\n  );\r\n}\r\n\r\nThemeToggle.displayName = \"ThemeToggle\";\r\n",
      "type": "registry:component",
      "target": "src/components/refine-ui/theme/theme-toggle.tsx"
    },
    {
      "path": "registry/new-york/refine-ui/theme/theme-select.tsx",
      "content": "\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { useTheme } from \"./theme-provider\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/registry/new-york/ui/dropdown-menu\";\r\nimport { Button } from \"@/registry/new-york/ui/button\";\r\nimport { Moon, Sun, Monitor, ChevronDown, Check } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ntype ThemeOption = {\r\n  value: \"light\" | \"dark\" | \"system\";\r\n  label: string;\r\n  icon: React.ReactNode;\r\n};\r\n\r\nconst themeOptions: ThemeOption[] = [\r\n  {\r\n    value: \"light\",\r\n    label: \"Light\",\r\n    icon: <Sun className=\"h-4 w-4\" />,\r\n  },\r\n  {\r\n    value: \"dark\",\r\n    label: \"Dark\",\r\n    icon: <Moon className=\"h-4 w-4\" />,\r\n  },\r\n  {\r\n    value: \"system\",\r\n    label: \"System\",\r\n    icon: <Monitor className=\"h-4 w-4\" />,\r\n  },\r\n];\r\n\r\nexport function ThemeSelect() {\r\n  const { theme, setTheme } = useTheme();\r\n\r\n  const currentTheme = themeOptions.find((option) => option.value === theme);\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"lg\"\r\n          className={cn(\r\n            \"w-full\",\r\n            \"justify-between\",\r\n            \"px-3\",\r\n            \"text-left\",\r\n            \"text-sm\",\r\n            \"font-normal\",\r\n            \"text-foreground\",\r\n            \"hover:bg-accent\",\r\n            \"hover:text-accent-foreground\",\r\n            \"focus-visible:outline-none\",\r\n            \"focus-visible:ring-2\",\r\n            \"focus-visible:ring-ring\",\r\n          )}\r\n        >\r\n          <div className=\"flex items-center gap-2\">\r\n            {currentTheme?.icon}\r\n            <span>{currentTheme?.label}</span>\r\n          </div>\r\n          <ChevronDown className=\"h-4 w-4 opacity-50\" />\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"end\" className=\"min-w-40 space-y-1\">\r\n        {themeOptions.map((option) => {\r\n          const isSelected = theme === option.value;\r\n\r\n          return (\r\n            <DropdownMenuItem\r\n              key={option.value}\r\n              onClick={() => setTheme(option.value)}\r\n              className={cn(\r\n                \"flex items-center gap-2 cursor-pointer relative pr-8\",\r\n                {\r\n                  \"bg-accent text-accent-foreground\": isSelected,\r\n                },\r\n              )}\r\n            >\r\n              {option.icon}\r\n              <span>{option.label}</span>\r\n              {isSelected && (\r\n                <Check className=\"h-4 w-4 absolute right-2 text-primary\" />\r\n              )}\r\n            </DropdownMenuItem>\r\n          );\r\n        })}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n\r\nThemeSelect.displayName = \"ThemeSelect\";\r\n",
      "type": "registry:component",
      "target": "src/components/refine-ui/theme/theme-select.tsx"
    }
  ],
  "docs": "https://github.com/refinedev/refine",
  "categories": ["theme", "dark-mode", "toggle", "select", "provider"]
}
