{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "layout-01",
  "type": "registry:block",
  "title": "Layout 01",
  "author": "Refine <info@refine.dev>",
  "description": "A complete layout system with sidebar, header, and main content area for Refine applications",
  "dependencies": ["@refinedev/core", "lucide-react"],
  "registryDependencies": [
    "sidebar",
    "avatar",
    "button",
    "separator",
    "dropdown-menu",
    "collapsible",
    "https://ui.refine.dev/r/theme-provider.json"
  ],
  "files": [
    {
      "path": "registry/new-york/refine-ui/layout/layout-01/layout.tsx",
      "content": "\"use client\";\r\n\r\nimport type { PropsWithChildren } from \"react\";\r\nimport { SidebarProvider, SidebarInset } from \"@/registry/new-york/ui/sidebar\";\r\nimport { Sidebar } from \"@/registry/new-york/refine-ui/layout/layout-01/sidebar\";\r\nimport { Header } from \"@/registry/new-york/refine-ui/layout/layout-01/header\";\r\nimport { ThemeProvider } from \"@/registry/new-york/refine-ui/theme/theme-provider\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport function Layout({ children }: PropsWithChildren) {\r\n  return (\r\n    <ThemeProvider>\r\n      <SidebarProvider>\r\n        <Sidebar />\r\n        <SidebarInset>\r\n          <Header />\r\n          <main\r\n            className={cn(\r\n              \"@container/main\",\r\n              \"container\",\r\n              \"mx-auto\",\r\n              \"relative\",\r\n              \"w-full\",\r\n              \"flex\",\r\n              \"flex-col\",\r\n              \"flex-1\",\r\n              \"px-2\",\r\n              \"pt-4\",\r\n              \"md:p-4\",\r\n              \"lg:px-6\",\r\n              \"lg:pt-6\",\r\n            )}\r\n          >\r\n            {children}\r\n          </main>\r\n        </SidebarInset>\r\n      </SidebarProvider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nLayout.displayName = \"Layout\";\r\n",
      "type": "registry:component",
      "target": "src/components/refine-ui/layout/layout.tsx"
    },
    {
      "path": "registry/new-york/refine-ui/layout/layout-01/header.tsx",
      "content": "import {\r\n  useRefineOptions,\r\n  useActiveAuthProvider,\r\n  useLogout,\r\n} from \"@refinedev/core\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuItem,\r\n  DropdownMenuContent,\r\n} from \"@/registry/new-york/ui/dropdown-menu\";\r\nimport { DropdownMenuTrigger } from \"@/registry/new-york/ui/dropdown-menu\";\r\nimport { ThemeToggle } from \"@/registry/new-york/refine-ui/theme/theme-toggle\";\r\nimport { UserAvatar } from \"@/registry/new-york/refine-ui/user/user-avatar\";\r\nimport { useSidebar, SidebarTrigger } from \"@/registry/new-york/ui/sidebar\";\r\nimport { LogOutIcon } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport const Header = () => {\r\n  const { isMobile } = useSidebar();\r\n\r\n  return <>{isMobile ? <MobileHeader /> : <DesktopHeader />}</>;\r\n};\r\n\r\nfunction DesktopHeader() {\r\n  return (\r\n    <header\r\n      className={cn(\r\n        \"sticky\",\r\n        \"top-0\",\r\n        \"flex\",\r\n        \"h-16\",\r\n        \"shrink-0\",\r\n        \"items-center\",\r\n        \"gap-4\",\r\n        \"border-b\",\r\n        \"border-border\",\r\n        \"bg-sidebar\",\r\n        \"pr-3\",\r\n        \"justify-end\",\r\n        \"z-40\",\r\n      )}\r\n    >\r\n      <ThemeToggle />\r\n      <UserDropdown />\r\n    </header>\r\n  );\r\n}\r\n\r\nfunction MobileHeader() {\r\n  const { open, isMobile } = useSidebar();\r\n\r\n  const { title } = useRefineOptions();\r\n\r\n  return (\r\n    <header\r\n      className={cn(\r\n        \"sticky\",\r\n        \"top-0\",\r\n        \"flex\",\r\n        \"h-12\",\r\n        \"shrink-0\",\r\n        \"items-center\",\r\n        \"gap-2\",\r\n        \"border-b\",\r\n        \"border-border\",\r\n        \"bg-sidebar\",\r\n        \"pr-3\",\r\n        \"justify-between\",\r\n        \"z-40\",\r\n      )}\r\n    >\r\n      <SidebarTrigger\r\n        className={cn(\"text-muted-foreground\", \"rotate-180\", \"ml-1\", {\r\n          \"opacity-0\": open,\r\n          \"opacity-100\": !open || isMobile,\r\n          \"pointer-events-auto\": !open || isMobile,\r\n          \"pointer-events-none\": open && !isMobile,\r\n        })}\r\n      />\r\n\r\n      <div\r\n        className={cn(\r\n          \"whitespace-nowrap\",\r\n          \"flex\",\r\n          \"flex-row\",\r\n          \"h-full\",\r\n          \"items-center\",\r\n          \"justify-start\",\r\n          \"gap-2\",\r\n          \"transition-discrete\",\r\n          \"duration-200\",\r\n          {\r\n            \"pl-3\": !open,\r\n            \"pl-5\": open,\r\n          },\r\n        )}\r\n      >\r\n        <div>{title.icon}</div>\r\n        <h2\r\n          className={cn(\r\n            \"text-sm\",\r\n            \"font-bold\",\r\n            \"transition-opacity\",\r\n            \"duration-200\",\r\n            {\r\n              \"opacity-0\": !open,\r\n              \"opacity-100\": open,\r\n            },\r\n          )}\r\n        >\r\n          {title.text}\r\n        </h2>\r\n      </div>\r\n\r\n      <ThemeToggle className={cn(\"h-8\", \"w-8\")} />\r\n    </header>\r\n  );\r\n}\r\n\r\nconst UserDropdown = () => {\r\n  const { mutate: logout, isPending: isLoggingOut } = useLogout();\r\n\r\n  const authProvider = useActiveAuthProvider();\r\n\r\n  if (!authProvider?.getIdentity) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger>\r\n        <UserAvatar />\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"end\">\r\n        <DropdownMenuItem\r\n          onClick={() => {\r\n            logout();\r\n          }}\r\n        >\r\n          <LogOutIcon\r\n            className={cn(\"text-destructive\", \"hover:text-destructive\")}\r\n          />\r\n          <span className={cn(\"text-destructive\", \"hover:text-destructive\")}>\r\n            {isLoggingOut ? \"Logging out...\" : \"Logout\"}\r\n          </span>\r\n        </DropdownMenuItem>\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n};\r\n\r\nHeader.displayName = \"Header\";\r\nMobileHeader.displayName = \"MobileHeader\";\r\nDesktopHeader.displayName = \"DesktopHeader\";\r\n",
      "type": "registry:component",
      "target": "src/components/refine-ui/layout/header.tsx"
    },
    {
      "path": "registry/new-york/refine-ui/layout/layout-01/sidebar.tsx",
      "content": "\"use client\";\r\n\r\nimport React from \"react\";\r\nimport {\r\n  useMenu,\r\n  useLink,\r\n  useRefineOptions,\r\n  type TreeMenuItem,\r\n} from \"@refinedev/core\";\r\nimport {\r\n  SidebarRail as ShadcnSidebarRail,\r\n  Sidebar as ShadcnSidebar,\r\n  SidebarContent as ShadcnSidebarContent,\r\n  SidebarHeader as ShadcnSidebarHeader,\r\n  useSidebar as useShadcnSidebar,\r\n  SidebarTrigger as ShadcnSidebarTrigger,\r\n} from \"@/registry/new-york/ui/sidebar\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/registry/new-york/ui/dropdown-menu\";\r\nimport {\r\n  Collapsible,\r\n  CollapsibleContent,\r\n  CollapsibleTrigger,\r\n} from \"@/registry/new-york/ui/collapsible\";\r\nimport { Button } from \"@/registry/new-york/ui/button\";\r\nimport { ChevronRight, ListIcon } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport function Sidebar() {\r\n  const { open } = useShadcnSidebar();\r\n  const { menuItems, selectedKey } = useMenu();\r\n\r\n  return (\r\n    <ShadcnSidebar collapsible=\"icon\" className={cn(\"border-none\")}>\r\n      <ShadcnSidebarRail />\r\n      <SidebarHeader />\r\n      <ShadcnSidebarContent\r\n        className={cn(\r\n          \"transition-discrete\",\r\n          \"duration-200\",\r\n          \"flex\",\r\n          \"flex-col\",\r\n          \"gap-2\",\r\n          \"pt-2\",\r\n          \"pb-2\",\r\n          \"border-r\",\r\n          \"border-border\",\r\n          {\r\n            \"px-3\": open,\r\n            \"px-1\": !open,\r\n          },\r\n        )}\r\n      >\r\n        {menuItems.map((item: TreeMenuItem) => (\r\n          <SidebarItem\r\n            key={item.key || item.name}\r\n            item={item}\r\n            selectedKey={selectedKey}\r\n          />\r\n        ))}\r\n      </ShadcnSidebarContent>\r\n    </ShadcnSidebar>\r\n  );\r\n}\r\n\r\ntype MenuItemProps = {\r\n  item: TreeMenuItem;\r\n  selectedKey?: string;\r\n};\r\n\r\nfunction SidebarItem({ item, selectedKey }: MenuItemProps) {\r\n  const { open } = useShadcnSidebar();\r\n\r\n  if (item.meta?.group) {\r\n    return <SidebarItemGroup item={item} selectedKey={selectedKey} />;\r\n  }\r\n\r\n  if (item.children && item.children.length > 0) {\r\n    if (open) {\r\n      return <SidebarItemCollapsible item={item} selectedKey={selectedKey} />;\r\n    }\r\n    return <SidebarItemDropdown item={item} selectedKey={selectedKey} />;\r\n  }\r\n\r\n  return <SidebarItemLink item={item} selectedKey={selectedKey} />;\r\n}\r\n\r\nfunction SidebarItemGroup({ item, selectedKey }: MenuItemProps) {\r\n  const { children } = item;\r\n  const { open } = useShadcnSidebar();\r\n\r\n  return (\r\n    <div className={cn(\"border-t\", \"border-sidebar-border\", \"pt-4\")}>\r\n      <span\r\n        className={cn(\r\n          \"ml-3\",\r\n          \"block\",\r\n          \"text-xs\",\r\n          \"font-semibold\",\r\n          \"uppercase\",\r\n          \"text-muted-foreground\",\r\n          \"transition-all\",\r\n          \"duration-200\",\r\n          {\r\n            \"h-8\": open,\r\n            \"h-0\": !open,\r\n            \"opacity-0\": !open,\r\n            \"opacity-100\": open,\r\n            \"pointer-events-none\": !open,\r\n            \"pointer-events-auto\": open,\r\n          },\r\n        )}\r\n      >\r\n        {getDisplayName(item)}\r\n      </span>\r\n      {children && children.length > 0 && (\r\n        <div className={cn(\"flex\", \"flex-col\")}>\r\n          {children.map((child: TreeMenuItem) => (\r\n            <SidebarItem\r\n              key={child.key || child.name}\r\n              item={child}\r\n              selectedKey={selectedKey}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SidebarItemCollapsible({ item, selectedKey }: MenuItemProps) {\r\n  const { name, children } = item;\r\n\r\n  const chevronIcon = (\r\n    <ChevronRight\r\n      className={cn(\r\n        \"h-4\",\r\n        \"w-4\",\r\n        \"shrink-0\",\r\n        \"text-muted-foreground\",\r\n        \"transition-transform\",\r\n        \"duration-200\",\r\n        \"group-data-[state=open]:rotate-90\",\r\n      )}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <Collapsible key={`collapsible-${name}`} className={cn(\"w-full\", \"group\")}>\r\n      <CollapsibleTrigger asChild>\r\n        <SidebarButton item={item} rightIcon={chevronIcon} />\r\n      </CollapsibleTrigger>\r\n      <CollapsibleContent className={cn(\"ml-6\", \"flex\", \"flex-col\", \"gap-2\")}>\r\n        {children?.map((child: TreeMenuItem) => (\r\n          <SidebarItem\r\n            key={child.key || child.name}\r\n            item={child}\r\n            selectedKey={selectedKey}\r\n          />\r\n        ))}\r\n      </CollapsibleContent>\r\n    </Collapsible>\r\n  );\r\n}\r\n\r\nfunction SidebarItemDropdown({ item, selectedKey }: MenuItemProps) {\r\n  const { children } = item;\r\n  const Link = useLink();\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <SidebarButton item={item} />\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent side=\"right\" align=\"start\">\r\n        {children?.map((child: TreeMenuItem) => {\r\n          const { key: childKey } = child;\r\n          const isSelected = childKey === selectedKey;\r\n\r\n          return (\r\n            <DropdownMenuItem key={childKey || child.name} asChild>\r\n              <Link\r\n                to={child.route || \"\"}\r\n                className={cn(\"flex w-full items-center gap-2\", {\r\n                  \"bg-accent text-accent-foreground\": isSelected,\r\n                })}\r\n              >\r\n                <ItemIcon\r\n                  icon={child.meta?.icon ?? child.icon}\r\n                  isSelected={isSelected}\r\n                />\r\n                <span>{getDisplayName(child)}</span>\r\n              </Link>\r\n            </DropdownMenuItem>\r\n          );\r\n        })}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n\r\nfunction SidebarItemLink({ item, selectedKey }: MenuItemProps) {\r\n  const isSelected = item.key === selectedKey;\r\n\r\n  return <SidebarButton item={item} isSelected={isSelected} asLink={true} />;\r\n}\r\n\r\nfunction SidebarHeader() {\r\n  const { title } = useRefineOptions();\r\n  const { open, isMobile } = useShadcnSidebar();\r\n\r\n  return (\r\n    <ShadcnSidebarHeader\r\n      className={cn(\r\n        \"p-0\",\r\n        \"h-16\",\r\n        \"border-b\",\r\n        \"border-border\",\r\n        \"flex-row\",\r\n        \"items-center\",\r\n        \"justify-between\",\r\n        \"overflow-hidden\",\r\n      )}\r\n    >\r\n      <div\r\n        className={cn(\r\n          \"whitespace-nowrap\",\r\n          \"flex\",\r\n          \"flex-row\",\r\n          \"h-full\",\r\n          \"items-center\",\r\n          \"justify-start\",\r\n          \"gap-2\",\r\n          \"transition-discrete\",\r\n          \"duration-200\",\r\n          {\r\n            \"pl-3\": !open,\r\n            \"pl-5\": open,\r\n          },\r\n        )}\r\n      >\r\n        <div>{title.icon}</div>\r\n        <h2\r\n          className={cn(\r\n            \"text-sm\",\r\n            \"font-bold\",\r\n            \"transition-opacity\",\r\n            \"duration-200\",\r\n            {\r\n              \"opacity-0\": !open,\r\n              \"opacity-100\": open,\r\n            },\r\n          )}\r\n        >\r\n          {title.text}\r\n        </h2>\r\n      </div>\r\n\r\n      <ShadcnSidebarTrigger\r\n        className={cn(\"text-muted-foreground\", \"mr-1.5\", {\r\n          \"opacity-0\": !open,\r\n          \"opacity-100\": open || isMobile,\r\n          \"pointer-events-auto\": open || isMobile,\r\n          \"pointer-events-none\": !open && !isMobile,\r\n        })}\r\n      />\r\n    </ShadcnSidebarHeader>\r\n  );\r\n}\r\n\r\nfunction getDisplayName(item: TreeMenuItem) {\r\n  return item.meta?.label ?? item.label ?? item.name;\r\n}\r\n\r\ntype IconProps = {\r\n  icon: React.ReactNode;\r\n  isSelected?: boolean;\r\n};\r\n\r\nfunction ItemIcon({ icon, isSelected }: IconProps) {\r\n  return (\r\n    <div\r\n      className={cn(\"w-4\", {\r\n        \"text-muted-foreground\": !isSelected,\r\n        \"text-sidebar-primary-foreground\": isSelected,\r\n      })}\r\n    >\r\n      {icon ?? <ListIcon />}\r\n    </div>\r\n  );\r\n}\r\n\r\ntype SidebarButtonProps = React.ComponentProps<typeof Button> & {\r\n  item: TreeMenuItem;\r\n  isSelected?: boolean;\r\n  rightIcon?: React.ReactNode;\r\n  asLink?: boolean;\r\n  onClick?: () => void;\r\n};\r\n\r\nfunction SidebarButton({\r\n  item,\r\n  isSelected = false,\r\n  rightIcon,\r\n  asLink = false,\r\n  className,\r\n  onClick,\r\n  ...props\r\n}: SidebarButtonProps) {\r\n  const Link = useLink();\r\n\r\n  const buttonContent = (\r\n    <>\r\n      <ItemIcon icon={item.meta?.icon ?? item.icon} isSelected={isSelected} />\r\n      <span\r\n        className={cn(\"tracking-[-0.00875rem]\", {\r\n          \"flex-1\": rightIcon,\r\n          \"text-left\": rightIcon,\r\n          \"line-clamp-1\": !rightIcon,\r\n          truncate: !rightIcon,\r\n          \"font-normal\": !isSelected,\r\n          \"font-semibold\": isSelected,\r\n          \"text-sidebar-primary-foreground\": isSelected,\r\n          \"text-foreground\": !isSelected,\r\n        })}\r\n      >\r\n        {getDisplayName(item)}\r\n      </span>\r\n      {rightIcon}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Button\r\n      asChild={!!(asLink && item.route)}\r\n      variant=\"ghost\"\r\n      size=\"lg\"\r\n      className={cn(\r\n        \"flex w-full items-center justify-start gap-2 py-2 !px-3 text-sm\",\r\n        {\r\n          \"bg-sidebar-primary\": isSelected,\r\n          \"hover:!bg-sidebar-primary/90\": isSelected,\r\n          \"text-sidebar-primary-foreground\": isSelected,\r\n          \"hover:text-sidebar-primary-foreground\": isSelected,\r\n        },\r\n        className,\r\n      )}\r\n      onClick={onClick}\r\n      {...props}\r\n    >\r\n      {asLink && item.route ? (\r\n        <Link to={item.route} className={cn(\"flex w-full items-center gap-2\")}>\r\n          {buttonContent}\r\n        </Link>\r\n      ) : (\r\n        buttonContent\r\n      )}\r\n    </Button>\r\n  );\r\n}\r\n\r\nSidebar.displayName = \"Sidebar\";\r\n",
      "type": "registry:component",
      "target": "src/components/refine-ui/layout/sidebar.tsx"
    },
    {
      "path": "registry/new-york/refine-ui/user/user-avatar.tsx",
      "content": "import { useGetIdentity } from \"@refinedev/core\";\r\nimport {\r\n  Avatar,\r\n  AvatarFallback,\r\n  AvatarImage,\r\n} from \"@/registry/new-york/ui/avatar\";\r\nimport { Skeleton } from \"@/registry/new-york/ui/skeleton\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ntype User = {\r\n  id: number;\r\n  firstName: string;\r\n  lastName: string;\r\n  fullName: string;\r\n  email: string;\r\n  avatar?: string;\r\n};\r\n\r\nexport function UserAvatar() {\r\n  const { data: user, isLoading: userIsLoading } = useGetIdentity<User>();\r\n\r\n  if (userIsLoading || !user) {\r\n    return <Skeleton className={cn(\"h-10\", \"w-10\", \"rounded-full\")} />;\r\n  }\r\n\r\n  const { fullName, avatar } = user;\r\n\r\n  return (\r\n    <Avatar className={cn(\"h-10\", \"w-10\")}>\r\n      {avatar && <AvatarImage src={avatar} alt={fullName} />}\r\n      <AvatarFallback>{getInitials(fullName)}</AvatarFallback>\r\n    </Avatar>\r\n  );\r\n}\r\n\r\nconst getInitials = (name = \"\") => {\r\n  const names = name.split(\" \");\r\n  let initials = names[0].substring(0, 1).toUpperCase();\r\n\r\n  if (names.length > 1) {\r\n    initials += names[names.length - 1].substring(0, 1).toUpperCase();\r\n  }\r\n  return initials;\r\n};\r\n\r\nUserAvatar.displayName = \"UserAvatar\";\r\n",
      "type": "registry:component",
      "target": "src/components/refine-ui/layout/user-avatar.tsx"
    },
    {
      "path": "registry/new-york/refine-ui/user/user-info.tsx",
      "content": "import { useGetIdentity } from \"@refinedev/core\";\r\nimport { Skeleton } from \"@/registry/new-york/ui/skeleton\";\r\nimport { UserAvatar } from \"@/registry/new-york/refine-ui/user/user-avatar\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ntype User = {\r\n  id: number;\r\n  firstName: string;\r\n  lastName: string;\r\n  fullName: string;\r\n  email: string;\r\n  avatar?: string;\r\n};\r\n\r\nexport function UserInfo() {\r\n  const { data: user, isLoading: userIsLoading } = useGetIdentity<User>();\r\n\r\n  if (userIsLoading || !user) {\r\n    return (\r\n      <div className={cn(\"flex\", \"items-center\", \"gap-x-2\")}>\r\n        <Skeleton className={cn(\"h-10\", \"w-10\", \"rounded-full\")} />\r\n        <div className={cn(\"flex\", \"flex-col\", \"justify-between\", \"h-10\")}>\r\n          <Skeleton className={cn(\"h-4\", \"w-32\")} />\r\n          <Skeleton className={cn(\"h-4\", \"w-24\")} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const { firstName, lastName, email } = user;\r\n\r\n  return (\r\n    <div className={cn(\"flex\", \"items-center\", \"gap-x-2\")}>\r\n      <UserAvatar />\r\n      <div\r\n        className={cn(\r\n          \"flex\",\r\n          \"flex-col\",\r\n          \"justify-between\",\r\n          \"h-10\",\r\n          \"text-left\",\r\n        )}\r\n      >\r\n        <span className={cn(\"text-sm\", \"font-medium\", \"text-muted-foreground\")}>\r\n          {firstName} {lastName}\r\n        </span>\r\n        <span className={cn(\"text-xs\", \"text-muted-foreground\")}>{email}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nUserInfo.displayName = \"UserInfo\";\r\n",
      "type": "registry:component",
      "target": "src/components/refine-ui/layout/user-info.tsx"
    }
  ],
  "docs": "https://github.com/refinedev/refine",
  "categories": ["layout", "sidebar", "navigation", "dashboard"]
}
